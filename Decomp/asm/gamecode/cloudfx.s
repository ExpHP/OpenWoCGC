.include "macros.inc"

.section .text, "ax"  # 0x800032A0 - 0x80104920

.global cloudInit
cloudInit:
/* 800106D4 0000D6D4  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 800106D8 0000D6D8  7C 08 02 A6 */	mflr r0
/* 800106DC 0000D6DC  DB E1 00 38 */	stfd f31, 0x38(r1)
/* 800106E0 0000D6E0  BF 61 00 24 */	stmw r27, 0x24(r1)
/* 800106E4 0000D6E4  90 01 00 44 */	stw r0, 0x44(r1)
/* 800106E8 0000D6E8  80 0D 80 AC */	lwz r0, cloudmtl-_SDA_BASE_(r13)
/* 800106EC 0000D6EC  7C 7D 1B 78 */	mr r29, r3
/* 800106F0 0000D6F0  7C 9C 23 78 */	mr r28, r4
/* 800106F4 0000D6F4  3B C0 00 00 */	li r30, 0
/* 800106F8 0000D6F8  2C 00 00 00 */	cmpwi r0, 0
/* 800106FC 0000D6FC  3B 60 FF FF */	li r27, -1
/* 80010700 0000D700  40 82 00 C8 */	bne lbl_800107C8
/* 80010704 0000D704  3C 60 80 10 */	lis r3, s_gfx_cloudslo_bmp_801058f4@ha
/* 80010708 0000D708  38 63 58 F4 */	addi r3, r3, s_gfx_cloudslo_bmp_801058f4@l
/* 8001070C 0000D70C  48 0A 99 B5 */	bl NuTexReadBitmap
/* 80010710 0000D710  7C 7F 1B 78 */	mr r31, r3
/* 80010714 0000D714  38 60 00 01 */	li r3, 1
/* 80010718 0000D718  48 0A 24 A1 */	bl NuMtlCreate
/* 8001071C 0000D71C  7C 67 1B 78 */	mr r7, r3
/* 80010720 0000D720  90 ED 80 AC */	stw r7, cloudmtl-_SDA_BASE_(r13)
/* 80010724 0000D724  2C 07 00 00 */	cmpwi r7, 0
/* 80010728 0000D728  41 82 00 A0 */	beq lbl_800107C8
/* 8001072C 0000D72C  81 27 00 04 */	lwz r9, 4(r7)
/* 80010730 0000D730  38 00 00 02 */	li r0, 2
/* 80010734 0000D734  39 00 00 01 */	li r8, 1
/* 80010738 0000D738  3D 40 80 10 */	lis r10, lbl_80105954@ha
/* 8001073C 0000D73C  50 09 A2 96 */	rlwimi r9, r0, 0x14, 0xa, 0xb
/* 80010740 0000D740  3D 60 80 10 */	lis r11, lbl_80105950@ha
/* 80010744 0000D744  51 09 93 1A */	rlwimi r9, r8, 0x12, 0xc, 0xd
/* 80010748 0000D748  C0 0B 59 50 */	lfs f0, lbl_80105950@l(r11)
/* 8001074C 0000D74C  53 C9 E0 86 */	rlwimi r9, r30, 0x1c, 2, 3
/* 80010750 0000D750  C1 AA 59 54 */	lfs f13, lbl_80105954@l(r10)
/* 80010754 0000D754  50 09 83 9E */	rlwimi r9, r0, 0x10, 0xe, 0xf
/* 80010758 0000D758  D0 07 00 1C */	stfs f0, 0x1c(r7)
/* 8001075C 0000D75C  50 09 F0 02 */	rlwimi r9, r0, 0x1e, 0, 1
/* 80010760 0000D760  D1 A7 00 34 */	stfs f13, 0x34(r7)
/* 80010764 0000D764  61 29 80 00 */	ori r9, r9, 0x8000
/* 80010768 0000D768  D0 07 00 14 */	stfs f0, 0x14(r7)
/* 8001076C 0000D76C  7D 20 4B 78 */	mr r0, r9
/* 80010770 0000D770  D0 07 00 18 */	stfs f0, 0x18(r7)
/* 80010774 0000D774  51 00 C1 8E */	rlwimi r0, r8, 0x18, 6, 7
/* 80010778 0000D778  B3 C7 00 3C */	sth r30, 0x3c(r7)
/* 8001077C 0000D77C  51 00 B2 12 */	rlwimi r0, r8, 0x16, 8, 9
/* 80010780 0000D780  7F E3 FB 78 */	mr r3, r31
/* 80010784 0000D784  90 07 00 04 */	stw r0, 4(r7)
/* 80010788 0000D788  48 0A 90 D1 */	bl NuTexCreate
/* 8001078C 0000D78C  81 6D 80 AC */	lwz r11, cloudmtl-_SDA_BASE_(r13)
/* 80010790 0000D790  38 00 00 61 */	li r0, 0x61
/* 80010794 0000D794  98 0B 00 3E */	stb r0, 0x3e(r11)
/* 80010798 0000D798  90 6B 00 38 */	stw r3, 0x38(r11)
/* 8001079C 0000D79C  81 2D 80 AC */	lwz r9, cloudmtl-_SDA_BASE_(r13)
/* 800107A0 0000D7A0  C0 0D 80 A4 */	lfs f0, CLOUDRNG-_SDA_BASE_(r13)
/* 800107A4 0000D7A4  C1 AD 80 A8 */	lfs f13, PARTICLESIZE-_SDA_BASE_(r13)
/* 800107A8 0000D7A8  7D 23 4B 78 */	mr r3, r9
/* 800107AC 0000D7AC  D0 09 00 20 */	stfs f0, 0x20(r9)
/* 800107B0 0000D7B0  D1 A9 00 24 */	stfs f13, 0x24(r9)
/* 800107B4 0000D7B4  48 0A 26 71 */	bl NuMtlUpdate
/* 800107B8 0000D7B8  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 800107BC 0000D7BC  48 0A DF 41 */	bl NuMemFree
/* 800107C0 0000D7C0  7F E3 FB 78 */	mr r3, r31
/* 800107C4 0000D7C4  48 0A DF 39 */	bl NuMemFree
lbl_800107C8:
/* 800107C8 0000D7C8  2C 1D 00 00 */	cmpwi r29, 0
/* 800107CC 0000D7CC  7F E0 00 26 */	mfcr r31
/* 800107D0 0000D7D0  41 82 00 10 */	beq lbl_800107E0
/* 800107D4 0000D7D4  7F A3 EB 78 */	mr r3, r29
/* 800107D8 0000D7D8  7F 84 E3 78 */	mr r4, r28
/* 800107DC 0000D7DC  48 0A DD ED */	bl NuMemSetExternal
lbl_800107E0:
/* 800107E0 0000D7E0  48 09 EF D1 */	bl NuGobjCreate
/* 800107E4 0000D7E4  38 00 00 00 */	li r0, 0
/* 800107E8 0000D7E8  39 20 00 01 */	li r9, 1
/* 800107EC 0000D7EC  90 6D 80 B0 */	stw r3, cloudGobj-_SDA_BASE_(r13)
/* 800107F0 0000D7F0  90 03 00 08 */	stw r0, 8(r3)
/* 800107F4 0000D7F4  91 23 00 48 */	stw r9, 0x48(r3)
/* 800107F8 0000D7F8  48 09 F6 8D */	bl NuGeomCreate
/* 800107FC 0000D7FC  C0 0D 80 A0 */	lfs f0, MAXCLOUDSIZE-_SDA_BASE_(r13)
/* 80010800 0000D800  81 6D 80 B0 */	lwz r11, cloudGobj-_SDA_BASE_(r13)
/* 80010804 0000D804  38 80 00 00 */	li r4, 0
/* 80010808 0000D808  FD A0 00 1E */	fctiwz f13, f0
/* 8001080C 0000D80C  90 6B 00 0C */	stw r3, 0xc(r11)
/* 80010810 0000D810  D9 A1 00 18 */	stfd f13, 0x18(r1)
/* 80010814 0000D814  80 61 00 1C */	lwz r3, 0x1c(r1)
/* 80010818 0000D818  48 09 F9 21 */	bl NuPrimCreate
/* 8001081C 0000D81C  C0 0D 80 A0 */	lfs f0, MAXCLOUDSIZE-_SDA_BASE_(r13)
/* 80010820 0000D820  81 6D 80 B0 */	lwz r11, cloudGobj-_SDA_BASE_(r13)
/* 80010824 0000D824  38 A0 00 11 */	li r5, 0x11
/* 80010828 0000D828  38 C0 00 00 */	li r6, 0
/* 8001082C 0000D82C  81 2B 00 0C */	lwz r9, 0xc(r11)
/* 80010830 0000D830  FD A0 00 1E */	fctiwz f13, f0
/* 80010834 0000D834  D9 A1 00 18 */	stfd f13, 0x18(r1)
/* 80010838 0000D838  90 69 00 20 */	stw r3, 0x20(r9)
/* 8001083C 0000D83C  80 6B 00 0C */	lwz r3, 0xc(r11)
/* 80010840 0000D840  80 81 00 1C */	lwz r4, 0x1c(r1)
/* 80010844 0000D844  48 09 F7 35 */	bl NuGeomCreateVB
/* 80010848 0000D848  81 6D 80 B0 */	lwz r11, cloudGobj-_SDA_BASE_(r13)
/* 8001084C 0000D84C  7F E8 01 20 */	mtcrf 0x80, r31
/* 80010850 0000D850  80 0D 80 AC */	lwz r0, cloudmtl-_SDA_BASE_(r13)
/* 80010854 0000D854  81 2B 00 0C */	lwz r9, 0xc(r11)
/* 80010858 0000D858  90 09 00 04 */	stw r0, 4(r9)
/* 8001085C 0000D85C  41 82 00 10 */	beq lbl_8001086C
/* 80010860 0000D860  38 60 00 00 */	li r3, 0
/* 80010864 0000D864  38 80 00 00 */	li r4, 0
/* 80010868 0000D868  48 0A DD 61 */	bl NuMemSetExternal
lbl_8001086C:
/* 8001086C 0000D86C  81 2D 80 B0 */	lwz r9, cloudGobj-_SDA_BASE_(r13)
/* 80010870 0000D870  81 69 00 0C */	lwz r11, 0xc(r9)
/* 80010874 0000D874  80 6B 00 0C */	lwz r3, 0xc(r11)
/* 80010878 0000D878  48 09 F9 8D */	bl NuVtxStride
/* 8001087C 0000D87C  81 2D 80 B0 */	lwz r9, cloudGobj-_SDA_BASE_(r13)
/* 80010880 0000D880  7C 7D 1B 78 */	mr r29, r3
/* 80010884 0000D884  81 69 00 0C */	lwz r11, 0xc(r9)
/* 80010888 0000D888  83 EB 00 18 */	lwz r31, 0x18(r11)
/* 8001088C 0000D88C  2C 1F 00 00 */	cmpwi r31, 0
/* 80010890 0000D890  40 82 00 2C */	bne lbl_800108BC
/* 80010894 0000D894  3C 60 80 10 */	lis r3, s_C__source_crashwoc_code_gamecode_80105908@ha
/* 80010898 0000D898  38 80 00 4A */	li r4, 0x4a
/* 8001089C 0000D89C  38 63 59 08 */	addi r3, r3, s_C__source_crashwoc_code_gamecode_80105908@l
/* 800108A0 0000D8A0  48 0A CB 9D */	bl NuErrorProlog
/* 800108A4 0000D8A4  7C 60 1B 78 */	mr r0, r3
/* 800108A8 0000D8A8  3C 60 80 10 */	lis r3, lbl_80105934@ha
/* 800108AC 0000D8AC  7C 08 03 A6 */	mtlr r0
/* 800108B0 0000D8B0  38 63 59 34 */	addi r3, r3, lbl_80105934@l
/* 800108B4 0000D8B4  4C C6 31 82 */	crclr 6
/* 800108B8 0000D8B8  4E 80 00 21 */	blrl 
lbl_800108BC:
/* 800108BC 0000D8BC  3B C0 00 00 */	li r30, 0
/* 800108C0 0000D8C0  6F C9 80 00 */	xoris r9, r30, 0x8000
/* 800108C4 0000D8C4  3C 00 43 30 */	lis r0, 0x4330
/* 800108C8 0000D8C8  91 21 00 1C */	stw r9, 0x1c(r1)
/* 800108CC 0000D8CC  3D 20 80 10 */	lis r9, lbl_80105958@ha
/* 800108D0 0000D8D0  C1 AD 80 A0 */	lfs f13, MAXCLOUDSIZE-_SDA_BASE_(r13)
/* 800108D4 0000D8D4  90 01 00 18 */	stw r0, 0x18(r1)
/* 800108D8 0000D8D8  C9 89 59 58 */	lfd f12, lbl_80105958@l(r9)
/* 800108DC 0000D8DC  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 800108E0 0000D8E0  FC 00 60 28 */	fsub f0, f0, f12
/* 800108E4 0000D8E4  FC 00 00 18 */	frsp f0, f0
/* 800108E8 0000D8E8  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 800108EC 0000D8EC  40 80 00 84 */	bge lbl_80010970
/* 800108F0 0000D8F0  FF E0 60 90 */	fmr f31, f12
/* 800108F4 0000D8F4  3F 80 43 30 */	lis r28, 0x4330
lbl_800108F8:
/* 800108F8 0000D8F8  48 0B 07 A9 */	bl NuRandFloat
/* 800108FC 0000D8FC  3B DE 00 01 */	addi r30, r30, 1
/* 80010900 0000D900  C0 0D 80 A4 */	lfs f0, CLOUDRNG-_SDA_BASE_(r13)
/* 80010904 0000D904  EC 21 00 32 */	fmuls f1, f1, f0
/* 80010908 0000D908  EC 21 08 2A */	fadds f1, f1, f1
/* 8001090C 0000D90C  EC 21 00 28 */	fsubs f1, f1, f0
/* 80010910 0000D910  D0 3F 00 00 */	stfs f1, 0(r31)
/* 80010914 0000D914  48 0B 07 8D */	bl NuRandFloat
/* 80010918 0000D918  C0 0D 80 A4 */	lfs f0, CLOUDRNG-_SDA_BASE_(r13)
/* 8001091C 0000D91C  EC 21 00 32 */	fmuls f1, f1, f0
/* 80010920 0000D920  EC 21 08 2A */	fadds f1, f1, f1
/* 80010924 0000D924  EC 21 00 28 */	fsubs f1, f1, f0
/* 80010928 0000D928  D0 3F 00 04 */	stfs f1, 4(r31)
/* 8001092C 0000D92C  48 0B 07 75 */	bl NuRandFloat
/* 80010930 0000D930  6F C9 80 00 */	xoris r9, r30, 0x8000
/* 80010934 0000D934  91 21 00 1C */	stw r9, 0x1c(r1)
/* 80010938 0000D938  C1 AD 80 A4 */	lfs f13, CLOUDRNG-_SDA_BASE_(r13)
/* 8001093C 0000D93C  93 81 00 18 */	stw r28, 0x18(r1)
/* 80010940 0000D940  EC 21 03 72 */	fmuls f1, f1, f13
/* 80010944 0000D944  C1 8D 80 A0 */	lfs f12, MAXCLOUDSIZE-_SDA_BASE_(r13)
/* 80010948 0000D948  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 8001094C 0000D94C  EC 21 08 2A */	fadds f1, f1, f1
/* 80010950 0000D950  EC 21 68 28 */	fsubs f1, f1, f13
/* 80010954 0000D954  93 7F 00 0C */	stw r27, 0xc(r31)
/* 80010958 0000D958  FC 00 F8 28 */	fsub f0, f0, f31
/* 8001095C 0000D95C  D0 3F 00 08 */	stfs f1, 8(r31)
/* 80010960 0000D960  FC 00 00 18 */	frsp f0, f0
/* 80010964 0000D964  7F FF EA 14 */	add r31, r31, r29
/* 80010968 0000D968  FC 00 60 00 */	fcmpu cr0, f0, f12
/* 8001096C 0000D96C  41 80 FF 8C */	blt lbl_800108F8
lbl_80010970:
/* 80010970 0000D970  80 6D 80 B0 */	lwz r3, cloudGobj-_SDA_BASE_(r13)
/* 80010974 0000D974  48 09 F2 69 */	bl NuGobjCalcDims
/* 80010978 0000D978  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8001097C 0000D97C  7C 08 03 A6 */	mtlr r0
/* 80010980 0000D980  BB 61 00 24 */	lmw r27, 0x24(r1)
/* 80010984 0000D984  CB E1 00 38 */	lfd f31, 0x38(r1)
/* 80010988 0000D988  38 21 00 40 */	addi r1, r1, 0x40
/* 8001098C 0000D98C  4E 80 00 20 */	blr 

.global cloudRender
cloudRender:
/* 80010990 0000D990  94 21 FF 88 */	stwu r1, -0x78(r1)
/* 80010994 0000D994  7C 08 02 A6 */	mflr r0
/* 80010998 0000D998  BF C1 00 70 */	stmw r30, 0x70(r1)
/* 8001099C 0000D99C  90 01 00 7C */	stw r0, 0x7c(r1)
/* 800109A0 0000D9A0  7C 7E 1B 78 */	mr r30, r3
/* 800109A4 0000D9A4  C0 2D 80 A4 */	lfs f1, CLOUDRNG-_SDA_BASE_(r13)
/* 800109A8 0000D9A8  38 61 00 58 */	addi r3, r1, 0x58
/* 800109AC 0000D9AC  48 0B 0D F9 */	bl NuVecScale
/* 800109B0 0000D9B0  C1 3E 00 00 */	lfs f9, 0(r30)
/* 800109B4 0000D9B4  C0 01 00 58 */	lfs f0, 0x58(r1)
/* 800109B8 0000D9B8  7D 65 5B 78 */	mr r5, r11
/* 800109BC 0000D9BC  C1 6D 80 A4 */	lfs f11, CLOUDRNG-_SDA_BASE_(r13)
/* 800109C0 0000D9C0  7D 67 5B 78 */	mr r7, r11
/* 800109C4 0000D9C4  ED 29 00 2A */	fadds f9, f9, f0
/* 800109C8 0000D9C8  C1 1E 00 04 */	lfs f8, 4(r30)
/* 800109CC 0000D9CC  ED 6B 58 2A */	fadds f11, f11, f11
/* 800109D0 0000D9D0  C1 A1 00 5C */	lfs f13, 0x5c(r1)
/* 800109D4 0000D9D4  EC 09 58 24 */	fdivs f0, f9, f11
/* 800109D8 0000D9D8  C0 FE 00 08 */	lfs f7, 8(r30)
/* 800109DC 0000D9DC  C0 61 00 60 */	lfs f3, 0x60(r1)
/* 800109E0 0000D9E0  7D 66 5B 78 */	mr r6, r11
/* 800109E4 0000D9E4  7D 6A 5B 78 */	mr r10, r11
/* 800109E8 0000D9E8  7D 68 5B 78 */	mr r8, r11
/* 800109EC 0000D9EC  3C 00 43 30 */	lis r0, 0x4330
/* 800109F0 0000D9F0  3D 20 80 10 */	lis r9, lbl_80105960@ha
/* 800109F4 0000D9F4  C9 49 59 60 */	lfd f10, lbl_80105960@l(r9)
/* 800109F8 0000D9F8  38 61 00 08 */	addi r3, r1, 8
/* 800109FC 0000D9FC  ED 08 68 2A */	fadds f8, f8, f13
/* 80010A00 0000DA00  ED 88 58 24 */	fdivs f12, f8, f11
/* 80010A04 0000DA04  FC A0 00 1E */	fctiwz f5, f0
/* 80010A08 0000DA08  EC E7 18 2A */	fadds f7, f7, f3
/* 80010A0C 0000DA0C  D8 A1 00 68 */	stfd f5, 0x68(r1)
/* 80010A10 0000DA10  ED A7 58 24 */	fdivs f13, f7, f11
/* 80010A14 0000DA14  81 61 00 6C */	lwz r11, 0x6c(r1)
/* 80010A18 0000DA18  6D 6B 80 00 */	xoris r11, r11, 0x8000
/* 80010A1C 0000DA1C  91 61 00 6C */	stw r11, 0x6c(r1)
/* 80010A20 0000DA20  90 01 00 68 */	stw r0, 0x68(r1)
/* 80010A24 0000DA24  C8 01 00 68 */	lfd f0, 0x68(r1)
/* 80010A28 0000DA28  FC C0 60 1E */	fctiwz f6, f12
/* 80010A2C 0000DA2C  D8 C1 00 68 */	stfd f6, 0x68(r1)
/* 80010A30 0000DA30  FC 00 50 28 */	fsub f0, f0, f10
/* 80010A34 0000DA34  FC 00 00 18 */	frsp f0, f0
/* 80010A38 0000DA38  81 41 00 6C */	lwz r10, 0x6c(r1)
/* 80010A3C 0000DA3C  EC 0B 00 32 */	fmuls f0, f11, f0
/* 80010A40 0000DA40  6D 4A 80 00 */	xoris r10, r10, 0x8000
/* 80010A44 0000DA44  ED 29 00 28 */	fsubs f9, f9, f0
/* 80010A48 0000DA48  91 41 00 6C */	stw r10, 0x6c(r1)
/* 80010A4C 0000DA4C  FC 80 68 1E */	fctiwz f4, f13
/* 80010A50 0000DA50  D1 21 00 48 */	stfs f9, 0x48(r1)
/* 80010A54 0000DA54  90 01 00 68 */	stw r0, 0x68(r1)
/* 80010A58 0000DA58  C8 01 00 68 */	lfd f0, 0x68(r1)
/* 80010A5C 0000DA5C  D8 81 00 68 */	stfd f4, 0x68(r1)
/* 80010A60 0000DA60  FC 00 50 28 */	fsub f0, f0, f10
/* 80010A64 0000DA64  81 01 00 6C */	lwz r8, 0x6c(r1)
/* 80010A68 0000DA68  FC 00 00 18 */	frsp f0, f0
/* 80010A6C 0000DA6C  EC 0B 00 32 */	fmuls f0, f11, f0
/* 80010A70 0000DA70  6D 08 80 00 */	xoris r8, r8, 0x8000
/* 80010A74 0000DA74  ED 08 00 28 */	fsubs f8, f8, f0
/* 80010A78 0000DA78  91 01 00 6C */	stw r8, 0x6c(r1)
/* 80010A7C 0000DA7C  D1 01 00 4C */	stfs f8, 0x4c(r1)
/* 80010A80 0000DA80  90 01 00 68 */	stw r0, 0x68(r1)
/* 80010A84 0000DA84  C8 01 00 68 */	lfd f0, 0x68(r1)
/* 80010A88 0000DA88  FC 00 50 28 */	fsub f0, f0, f10
/* 80010A8C 0000DA8C  FC 00 00 18 */	frsp f0, f0
/* 80010A90 0000DA90  ED 6B 00 32 */	fmuls f11, f11, f0
/* 80010A94 0000DA94  EC E7 58 28 */	fsubs f7, f7, f11
/* 80010A98 0000DA98  D0 E1 00 50 */	stfs f7, 0x50(r1)
/* 80010A9C 0000DA9C  48 0A DE 41 */	bl NuMtxSetIdentity
/* 80010AA0 0000DAA0  C1 81 00 48 */	lfs f12, 0x48(r1)
/* 80010AA4 0000DAA4  38 81 00 08 */	addi r4, r1, 8
/* 80010AA8 0000DAA8  C1 A1 00 4C */	lfs f13, 0x4c(r1)
/* 80010AAC 0000DAAC  38 A0 00 00 */	li r5, 0
/* 80010AB0 0000DAB0  C0 01 00 50 */	lfs f0, 0x50(r1)
/* 80010AB4 0000DAB4  80 6D 80 B0 */	lwz r3, cloudGobj-_SDA_BASE_(r13)
/* 80010AB8 0000DAB8  D1 81 00 38 */	stfs f12, 0x38(r1)
/* 80010ABC 0000DABC  D1 A1 00 3C */	stfs f13, 0x3c(r1)
/* 80010AC0 0000DAC0  D0 01 00 40 */	stfs f0, 0x40(r1)
/* 80010AC4 0000DAC4  48 0A 3B B1 */	bl NuRndrGobj
/* 80010AC8 0000DAC8  80 01 00 7C */	lwz r0, 0x7c(r1)
/* 80010ACC 0000DACC  7C 08 03 A6 */	mtlr r0
/* 80010AD0 0000DAD0  BB C1 00 70 */	lmw r30, 0x70(r1)
/* 80010AD4 0000DAD4  38 21 00 78 */	addi r1, r1, 0x78
/* 80010AD8 0000DAD8  4E 80 00 20 */	blr 

.global InitClouds
InitClouds:
/* 80010ADC 0000DADC  94 21 FF D8 */	stwu r1, -0x28(r1)
/* 80010AE0 0000DAE0  7C 08 02 A6 */	mflr r0
/* 80010AE4 0000DAE4  BF 01 00 08 */	stmw r24, 8(r1)
/* 80010AE8 0000DAE8  90 01 00 2C */	stw r0, 0x2c(r1)
/* 80010AEC 0000DAEC  7C 7E 1B 78 */	mr r30, r3
/* 80010AF0 0000DAF0  7C 9D 23 78 */	mr r29, r4
/* 80010AF4 0000DAF4  38 60 00 11 */	li r3, 0x11
/* 80010AF8 0000DAF8  3B 80 00 00 */	li r28, 0
/* 80010AFC 0000DAFC  48 0C 85 D9 */	bl gcc2_compiled__N121
/* 80010B00 0000DB00  3B 60 00 14 */	li r27, 0x14
/* 80010B04 0000DB04  7F C3 F3 78 */	mr r3, r30
/* 80010B08 0000DB08  7F A4 EB 78 */	mr r4, r29
/* 80010B0C 0000DB0C  4B FF FB C9 */	bl cloudInit
/* 80010B10 0000DB10  3D 20 80 30 */	lis r9, groff@ha
/* 80010B14 0000DB14  3D 60 80 30 */	lis r11, grphase@ha
/* 80010B18 0000DB18  3B 09 6A 9C */	addi r24, r9, groff@l
/* 80010B1C 0000DB1C  3B 2B 6B 8C */	addi r25, r11, grphase@l
/* 80010B20 0000DB20  3D 20 80 30 */	lis r9, grphaserate@ha
/* 80010B24 0000DB24  3B F9 00 08 */	addi r31, r25, 8
/* 80010B28 0000DB28  3B 49 6C 7C */	addi r26, r9, grphaserate@l
/* 80010B2C 0000DB2C  3B B8 00 08 */	addi r29, r24, 8
/* 80010B30 0000DB30  3B DA 00 08 */	addi r30, r26, 8
lbl_80010B34:
/* 80010B34 0000DB34  48 0B 05 6D */	bl NuRandFloat
/* 80010B38 0000DB38  7C 3C C5 2E */	stfsx f1, r28, r24
/* 80010B3C 0000DB3C  48 0B 05 65 */	bl NuRandFloat
/* 80010B40 0000DB40  D0 3D FF FC */	stfs f1, -4(r29)
/* 80010B44 0000DB44  48 0B 05 5D */	bl NuRandFloat
/* 80010B48 0000DB48  D0 3D 00 00 */	stfs f1, 0(r29)
/* 80010B4C 0000DB4C  48 0C 85 95 */	bl rand
/* 80010B50 0000DB50  3B BD 00 0C */	addi r29, r29, 0xc
/* 80010B54 0000DB54  54 63 08 3C */	slwi r3, r3, 1
/* 80010B58 0000DB58  7C 7C C9 2E */	stwx r3, r28, r25
/* 80010B5C 0000DB5C  48 0C 85 85 */	bl rand
/* 80010B60 0000DB60  54 63 08 3C */	slwi r3, r3, 1
/* 80010B64 0000DB64  90 7F FF FC */	stw r3, -4(r31)
/* 80010B68 0000DB68  48 0C 85 79 */	bl rand
/* 80010B6C 0000DB6C  54 63 08 3C */	slwi r3, r3, 1
/* 80010B70 0000DB70  90 7F 00 00 */	stw r3, 0(r31)
/* 80010B74 0000DB74  48 0C 85 6D */	bl rand
/* 80010B78 0000DB78  3B FF 00 0C */	addi r31, r31, 0xc
/* 80010B7C 0000DB7C  54 63 06 3E */	clrlwi r3, r3, 0x18
/* 80010B80 0000DB80  38 63 00 80 */	addi r3, r3, 0x80
/* 80010B84 0000DB84  7C 7C D1 2E */	stwx r3, r28, r26
/* 80010B88 0000DB88  48 0C 85 59 */	bl rand
/* 80010B8C 0000DB8C  3B 9C 00 0C */	addi r28, r28, 0xc
/* 80010B90 0000DB90  54 63 06 3E */	clrlwi r3, r3, 0x18
/* 80010B94 0000DB94  38 63 00 80 */	addi r3, r3, 0x80
/* 80010B98 0000DB98  90 7E FF FC */	stw r3, -4(r30)
/* 80010B9C 0000DB9C  48 0C 85 45 */	bl rand
/* 80010BA0 0000DBA0  54 63 06 3E */	clrlwi r3, r3, 0x18
/* 80010BA4 0000DBA4  37 7B FF FF */	addic. r27, r27, -1
/* 80010BA8 0000DBA8  38 63 00 80 */	addi r3, r3, 0x80
/* 80010BAC 0000DBAC  90 7E 00 00 */	stw r3, 0(r30)
/* 80010BB0 0000DBB0  3B DE 00 0C */	addi r30, r30, 0xc
/* 80010BB4 0000DBB4  40 82 FF 80 */	bne lbl_80010B34
/* 80010BB8 0000DBB8  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 80010BBC 0000DBBC  7C 08 03 A6 */	mtlr r0
/* 80010BC0 0000DBC0  BB 01 00 08 */	lmw r24, 8(r1)
/* 80010BC4 0000DBC4  38 21 00 28 */	addi r1, r1, 0x28
/* 80010BC8 0000DBC8  4E 80 00 20 */	blr 

.global CloseClouds
CloseClouds:
/* 80010BCC 0000DBCC  94 21 FF F8 */	stwu r1, -8(r1)
/* 80010BD0 0000DBD0  7C 08 02 A6 */	mflr r0
/* 80010BD4 0000DBD4  90 01 00 0C */	stw r0, 0xc(r1)
/* 80010BD8 0000DBD8  80 6D 80 B0 */	lwz r3, cloudGobj-_SDA_BASE_(r13)
/* 80010BDC 0000DBDC  2C 03 00 00 */	cmpwi r3, 0
/* 80010BE0 0000DBE0  41 82 00 10 */	beq lbl_80010BF0
/* 80010BE4 0000DBE4  48 09 EC 3D */	bl NuGobjDestroy
/* 80010BE8 0000DBE8  38 00 00 00 */	li r0, 0
/* 80010BEC 0000DBEC  90 0D 80 B0 */	stw r0, cloudGobj-_SDA_BASE_(r13)
lbl_80010BF0:
/* 80010BF0 0000DBF0  38 00 00 00 */	li r0, 0
/* 80010BF4 0000DBF4  90 0D 80 AC */	stw r0, cloudmtl-_SDA_BASE_(r13)
/* 80010BF8 0000DBF8  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80010BFC 0000DBFC  7C 08 03 A6 */	mtlr r0
/* 80010C00 0000DC00  38 21 00 08 */	addi r1, r1, 8
/* 80010C04 0000DC04  4E 80 00 20 */	blr 

.global DoClouds
DoClouds:
/* 80010C08 0000DC08  94 21 FF 88 */	stwu r1, -0x78(r1)
/* 80010C0C 0000DC0C  7C 08 02 A6 */	mflr r0
/* 80010C10 0000DC10  7D 80 00 26 */	mfcr r12
/* 80010C14 0000DC14  DB C1 00 68 */	stfd f30, 0x68(r1)
/* 80010C18 0000DC18  DB E1 00 70 */	stfd f31, 0x70(r1)
/* 80010C1C 0000DC1C  BD C1 00 20 */	stmw r14, 0x20(r1)
/* 80010C20 0000DC20  90 01 00 7C */	stw r0, 0x7c(r1)
/* 80010C24 0000DC24  91 81 00 1C */	stw r12, 0x1c(r1)
/* 80010C28 0000DC28  80 0D 80 B4 */	lwz r0, disable_clouds-_SDA_BASE_(r13)
/* 80010C2C 0000DC2C  7C 7F 1B 78 */	mr r31, r3
/* 80010C30 0000DC30  2C 00 00 00 */	cmpwi r0, 0
/* 80010C34 0000DC34  40 82 02 70 */	bne lbl_80010EA4
/* 80010C38 0000DC38  38 60 00 00 */	li r3, 0
/* 80010C3C 0000DC3C  2E 1F 00 00 */	cmpwi cr4, r31, 0
/* 80010C40 0000DC40  48 09 CB BD */	bl NuCameraEnableClipping
/* 80010C44 0000DC44  3D C0 80 30 */	lis r14, 0x8030
/* 80010C48 0000DC48  3D 20 80 30 */	lis r9, grphase@ha
/* 80010C4C 0000DC4C  3D 60 80 30 */	lis r11, grphaserate@ha
/* 80010C50 0000DC50  3A C9 6B 8C */	addi r22, r9, grphase@l
/* 80010C54 0000DC54  3A AB 6C 7C */	addi r21, r11, grphaserate@l
/* 80010C58 0000DC58  3D 20 80 30 */	lis r9, groff@ha
/* 80010C5C 0000DC5C  3D 60 80 10 */	lis r11, lbl_80105968@ha
/* 80010C60 0000DC60  3B A9 6A 9C */	addi r29, r9, groff@l
/* 80010C64 0000DC64  C3 CB 59 68 */	lfs f30, lbl_80105968@l(r11)
/* 80010C68 0000DC68  3D 20 80 10 */	lis r9, lbl_80105970@ha
/* 80010C6C 0000DC6C  3D 60 80 13 */	lis r11, grscale@ha
/* 80010C70 0000DC70  C3 E9 59 70 */	lfs f31, lbl_80105970@l(r9)
/* 80010C74 0000DC74  39 F6 00 04 */	addi r15, r22, 4
/* 80010C78 0000DC78  3D 20 80 27 */	lis r9, NuTrigTable@ha
/* 80010C7C 0000DC7C  3A 16 00 08 */	addi r16, r22, 8
/* 80010C80 0000DC80  3A E9 B6 C8 */	addi r23, r9, NuTrigTable@l
/* 80010C84 0000DC84  3B 5D 00 04 */	addi r26, r29, 4
/* 80010C88 0000DC88  3D 20 80 13 */	lis r9, grvel@ha
/* 80010C8C 0000DC8C  3B 7D 00 08 */	addi r27, r29, 8
/* 80010C90 0000DC90  3A 2B C0 E8 */	addi r17, r11, grscale@l
/* 80010C94 0000DC94  3A 49 C0 F4 */	addi r18, r9, grvel@l
/* 80010C98 0000DC98  38 80 00 00 */	li r4, 0
/* 80010C9C 0000DC9C  3F C0 80 10 */	lis r30, 0x8010
/* 80010CA0 0000DCA0  3F 00 80 10 */	lis r24, 0x8010
/* 80010CA4 0000DCA4  3E 60 80 30 */	lis r19, 0x8030
/* 80010CA8 0000DCA8  3E 80 80 30 */	lis r20, 0x8030
/* 80010CAC 0000DCAC  3F 20 80 10 */	lis r25, 0x8010
lbl_80010CB0:
/* 80010CB0 0000DCB0  1F E4 00 0C */	mulli r31, r4, 0xc
/* 80010CB4 0000DCB4  40 92 00 A8 */	bne cr4, lbl_80010D5C
/* 80010CB8 0000DCB8  39 35 00 04 */	addi r9, r21, 4
/* 80010CBC 0000DCBC  7C 15 F8 2E */	lwzx r0, r21, r31
/* 80010CC0 0000DCC0  7D 69 F8 2E */	lwzx r11, r9, r31
/* 80010CC4 0000DCC4  3C E0 80 13 */	lis r7, grscale@ha
/* 80010CC8 0000DCC8  7C D6 F8 2E */	lwzx r6, r22, r31
/* 80010CCC 0000DCCC  3C A0 80 13 */	lis r5, grvel@ha
/* 80010CD0 0000DCD0  7D 0F F8 2E */	lwzx r8, r15, r31
/* 80010CD4 0000DCD4  7C C6 02 14 */	add r6, r6, r0
/* 80010CD8 0000DCD8  C1 A7 C0 E8 */	lfs f13, grscale@l(r7)
/* 80010CDC 0000DCDC  7D 08 5A 14 */	add r8, r8, r11
/* 80010CE0 0000DCE0  54 C0 13 BA */	rlwinm r0, r6, 2, 0xe, 0x1d
/* 80010CE4 0000DCE4  3D 60 80 30 */	lis r11, grphaserate_8_@ha
/* 80010CE8 0000DCE8  C0 05 C0 F4 */	lfs f0, grvel@l(r5)
/* 80010CEC 0000DCEC  7D 37 04 2E */	lfsx f9, r23, r0
/* 80010CF0 0000DCF0  39 6B 6C 84 */	addi r11, r11, grphaserate_8_@l
/* 80010CF4 0000DCF4  7D 2B F8 2E */	lwzx r9, r11, r31
/* 80010CF8 0000DCF8  7D 50 F8 2E */	lwzx r10, r16, r31
/* 80010CFC 0000DCFC  ED 29 03 7A */	fmadds f9, f9, f13, f0
/* 80010D00 0000DD00  55 0B 13 BA */	rlwinm r11, r8, 2, 0xe, 0x1d
/* 80010D04 0000DD04  C1 91 00 04 */	lfs f12, 4(r17)
/* 80010D08 0000DD08  C1 B2 00 04 */	lfs f13, 4(r18)
/* 80010D0C 0000DD0C  7D 4A 4A 14 */	add r10, r10, r9
/* 80010D10 0000DD10  7D 57 5C 2E */	lfsx f10, r23, r11
/* 80010D14 0000DD14  55 49 13 BA */	rlwinm r9, r10, 2, 0xe, 0x1d
/* 80010D18 0000DD18  7C 1D FC 2E */	lfsx f0, r29, r31
/* 80010D1C 0000DD1C  ED 4A 6B 3A */	fmadds f10, f10, f12, f13
/* 80010D20 0000DD20  7D 17 4C 2E */	lfsx f8, r23, r9
/* 80010D24 0000DD24  C0 F1 00 08 */	lfs f7, 8(r17)
/* 80010D28 0000DD28  EC 00 48 2A */	fadds f0, f0, f9
/* 80010D2C 0000DD2C  C1 72 00 08 */	lfs f11, 8(r18)
/* 80010D30 0000DD30  7D 9A FC 2E */	lfsx f12, r26, r31
/* 80010D34 0000DD34  7D BB FC 2E */	lfsx f13, r27, r31
/* 80010D38 0000DD38  ED 08 59 FA */	fmadds f8, f8, f7, f11
/* 80010D3C 0000DD3C  7C 1D FD 2E */	stfsx f0, r29, r31
/* 80010D40 0000DD40  ED 8C 50 2A */	fadds f12, f12, f10
/* 80010D44 0000DD44  7D 9A FD 2E */	stfsx f12, r26, r31
/* 80010D48 0000DD48  ED AD 40 2A */	fadds f13, f13, f8
/* 80010D4C 0000DD4C  7D BB FD 2E */	stfsx f13, r27, r31
/* 80010D50 0000DD50  7C D6 F9 2E */	stwx r6, r22, r31
/* 80010D54 0000DD54  7D 0F F9 2E */	stwx r8, r15, r31
/* 80010D58 0000DD58  7D 50 F9 2E */	stwx r10, r16, r31
lbl_80010D5C:
/* 80010D5C 0000DD5C  7C 1D FC 2E */	lfsx f0, r29, r31
/* 80010D60 0000DD60  3B 84 00 01 */	addi r28, r4, 1
/* 80010D64 0000DD64  7F E0 FB 78 */	mr r0, r31
/* 80010D68 0000DD68  FC 00 F0 00 */	fcmpu cr0, f0, f30
/* 80010D6C 0000DD6C  40 81 00 24 */	ble lbl_80010D90
/* 80010D70 0000DD70  C1 9E 59 6C */	lfs f12, 0x596c(r30)
/* 80010D74 0000DD74  39 2E 6A 9C */	addi r9, r14, 0x6a9c
/* 80010D78 0000DD78  C1 B8 59 68 */	lfs f13, 0x5968(r24)
lbl_80010D7C:
/* 80010D7C 0000DD7C  7C 09 04 2E */	lfsx f0, r9, r0
/* 80010D80 0000DD80  EC 00 60 28 */	fsubs f0, f0, f12
/* 80010D84 0000DD84  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 80010D88 0000DD88  7C 09 05 2E */	stfsx f0, r9, r0
/* 80010D8C 0000DD8C  41 81 FF F0 */	bgt lbl_80010D7C
lbl_80010D90:
/* 80010D90 0000DD90  7C 1A FC 2E */	lfsx f0, r26, r31
/* 80010D94 0000DD94  7F E0 FB 78 */	mr r0, r31
/* 80010D98 0000DD98  FC 00 F0 00 */	fcmpu cr0, f0, f30
/* 80010D9C 0000DD9C  40 81 00 24 */	ble lbl_80010DC0
/* 80010DA0 0000DDA0  C1 9E 59 6C */	lfs f12, 0x596c(r30)
/* 80010DA4 0000DDA4  39 33 6A A0 */	addi r9, r19, 0x6aa0
/* 80010DA8 0000DDA8  C1 B8 59 68 */	lfs f13, 0x5968(r24)
lbl_80010DAC:
/* 80010DAC 0000DDAC  7C 09 04 2E */	lfsx f0, r9, r0
/* 80010DB0 0000DDB0  EC 00 60 28 */	fsubs f0, f0, f12
/* 80010DB4 0000DDB4  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 80010DB8 0000DDB8  7C 09 05 2E */	stfsx f0, r9, r0
/* 80010DBC 0000DDBC  41 81 FF F0 */	bgt lbl_80010DAC
lbl_80010DC0:
/* 80010DC0 0000DDC0  7C 1B FC 2E */	lfsx f0, r27, r31
/* 80010DC4 0000DDC4  7F E0 FB 78 */	mr r0, r31
/* 80010DC8 0000DDC8  FC 00 F0 00 */	fcmpu cr0, f0, f30
/* 80010DCC 0000DDCC  40 81 00 24 */	ble lbl_80010DF0
/* 80010DD0 0000DDD0  C1 9E 59 6C */	lfs f12, 0x596c(r30)
/* 80010DD4 0000DDD4  39 34 6A A4 */	addi r9, r20, 0x6aa4
/* 80010DD8 0000DDD8  C1 B8 59 68 */	lfs f13, 0x5968(r24)
lbl_80010DDC:
/* 80010DDC 0000DDDC  7C 09 04 2E */	lfsx f0, r9, r0
/* 80010DE0 0000DDE0  EC 00 60 28 */	fsubs f0, f0, f12
/* 80010DE4 0000DDE4  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 80010DE8 0000DDE8  7C 09 05 2E */	stfsx f0, r9, r0
/* 80010DEC 0000DDEC  41 81 FF F0 */	bgt lbl_80010DDC
lbl_80010DF0:
/* 80010DF0 0000DDF0  7C 1D FC 2E */	lfsx f0, r29, r31
/* 80010DF4 0000DDF4  7F E0 FB 78 */	mr r0, r31
/* 80010DF8 0000DDF8  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 80010DFC 0000DDFC  40 80 00 24 */	bge lbl_80010E20
/* 80010E00 0000DE00  C1 9E 59 6C */	lfs f12, 0x596c(r30)
/* 80010E04 0000DE04  39 2E 6A 9C */	addi r9, r14, 0x6a9c
/* 80010E08 0000DE08  C1 B9 59 70 */	lfs f13, 0x5970(r25)
lbl_80010E0C:
/* 80010E0C 0000DE0C  7C 09 04 2E */	lfsx f0, r9, r0
/* 80010E10 0000DE10  EC 00 60 2A */	fadds f0, f0, f12
/* 80010E14 0000DE14  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 80010E18 0000DE18  7C 09 05 2E */	stfsx f0, r9, r0
/* 80010E1C 0000DE1C  41 80 FF F0 */	blt lbl_80010E0C
lbl_80010E20:
/* 80010E20 0000DE20  7C 1A FC 2E */	lfsx f0, r26, r31
/* 80010E24 0000DE24  7F E0 FB 78 */	mr r0, r31
/* 80010E28 0000DE28  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 80010E2C 0000DE2C  40 80 00 24 */	bge lbl_80010E50
/* 80010E30 0000DE30  C1 9E 59 6C */	lfs f12, 0x596c(r30)
/* 80010E34 0000DE34  39 33 6A A0 */	addi r9, r19, 0x6aa0
/* 80010E38 0000DE38  C1 B9 59 70 */	lfs f13, 0x5970(r25)
lbl_80010E3C:
/* 80010E3C 0000DE3C  7C 09 04 2E */	lfsx f0, r9, r0
/* 80010E40 0000DE40  EC 00 60 2A */	fadds f0, f0, f12
/* 80010E44 0000DE44  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 80010E48 0000DE48  7C 09 05 2E */	stfsx f0, r9, r0
/* 80010E4C 0000DE4C  41 80 FF F0 */	blt lbl_80010E3C
lbl_80010E50:
/* 80010E50 0000DE50  7C 1B FC 2E */	lfsx f0, r27, r31
/* 80010E54 0000DE54  7F E0 FB 78 */	mr r0, r31
/* 80010E58 0000DE58  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 80010E5C 0000DE5C  40 80 00 24 */	bge lbl_80010E80
/* 80010E60 0000DE60  C1 9E 59 6C */	lfs f12, 0x596c(r30)
/* 80010E64 0000DE64  39 34 6A A4 */	addi r9, r20, 0x6aa4
/* 80010E68 0000DE68  C1 B9 59 70 */	lfs f13, 0x5970(r25)
lbl_80010E6C:
/* 80010E6C 0000DE6C  7C 09 04 2E */	lfsx f0, r9, r0
/* 80010E70 0000DE70  EC 00 60 2A */	fadds f0, f0, f12
/* 80010E74 0000DE74  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 80010E78 0000DE78  7C 09 05 2E */	stfsx f0, r9, r0
/* 80010E7C 0000DE7C  41 80 FF F0 */	blt lbl_80010E6C
lbl_80010E80:
/* 80010E80 0000DE80  48 09 C0 61 */	bl NuCameraGetMtx
/* 80010E84 0000DE84  7C 9F EA 14 */	add r4, r31, r29
/* 80010E88 0000DE88  38 63 00 30 */	addi r3, r3, 0x30
/* 80010E8C 0000DE8C  4B FF FB 05 */	bl cloudRender
/* 80010E90 0000DE90  7F 84 E3 78 */	mr r4, r28
/* 80010E94 0000DE94  2C 04 00 13 */	cmpwi r4, 0x13
/* 80010E98 0000DE98  40 81 FE 18 */	ble lbl_80010CB0
/* 80010E9C 0000DE9C  38 60 00 01 */	li r3, 1
/* 80010EA0 0000DEA0  48 09 C9 5D */	bl NuCameraEnableClipping
lbl_80010EA4:
/* 80010EA4 0000DEA4  80 01 00 7C */	lwz r0, 0x7c(r1)
/* 80010EA8 0000DEA8  81 81 00 1C */	lwz r12, 0x1c(r1)
/* 80010EAC 0000DEAC  7C 08 03 A6 */	mtlr r0
/* 80010EB0 0000DEB0  B9 C1 00 20 */	lmw r14, 0x20(r1)
/* 80010EB4 0000DEB4  CB C1 00 68 */	lfd f30, 0x68(r1)
/* 80010EB8 0000DEB8  CB E1 00 70 */	lfd f31, 0x70(r1)
/* 80010EBC 0000DEBC  7D 80 81 20 */	mtcrf 8, r12
/* 80010EC0 0000DEC0  38 21 00 78 */	addi r1, r1, 0x78
/* 80010EC4 0000DEC4  4E 80 00 20 */	blr 

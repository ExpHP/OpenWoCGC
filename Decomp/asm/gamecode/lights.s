.include "macros.inc"

.section .text, "ax"  # 0x800032A0 - 0x80104920

.global LoadLights
LoadLights:
/* 8004C534 00049534  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8004C538 00049538  7C 08 02 A6 */	mflr r0
/* 8004C53C 0004953C  BF 61 00 0C */	stmw r27, 0xc(r1)
/* 8004C540 00049540  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004C544 00049544  39 60 01 00 */	li r11, 0x100
/* 8004C548 00049548  38 00 00 00 */	li r0, 0
/* 8004C54C 0004954C  3D 20 80 34 */	lis r9, Lights@ha
/* 8004C550 00049550  7D 69 03 A6 */	mtctr r11
/* 8004C554 00049554  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004C558 00049558  90 0D A4 E8 */	stw r0, POINTCOUNT-_SDA_BASE_(r13)
/* 8004C55C 0004955C  90 0D A4 EC */	stw r0, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004C560 00049560  39 29 47 B8 */	addi r9, r9, 0x47b8
/* 8004C564 00049564  90 0D A4 F0 */	stw r0, AMBIENTCOUNT-_SDA_BASE_(r13)
/* 8004C568 00049568  90 0D A4 F4 */	stw r0, DIRECTCOUNT-_SDA_BASE_(r13)
/* 8004C56C 0004956C  38 00 FF FF */	li r0, -1
lbl_8004C570:
/* 8004C570 00049570  90 09 00 00 */	stw r0, 0(r9)
/* 8004C574 00049574  39 29 FF B8 */	addi r9, r9, -72
/* 8004C578 00049578  42 00 FF F8 */	bdnz lbl_8004C570
/* 8004C57C 0004957C  3F C0 80 23 */	lis r30, tbuf@ha
/* 8004C580 00049580  3C 80 80 11 */	lis r4, s__s_lgt_8010e46c@ha
/* 8004C584 00049584  3C A0 80 23 */	lis r5, LevelFileName@ha
/* 8004C588 00049588  38 84 E4 6C */	addi r4, r4, s__s_lgt_8010e46c@l
/* 8004C58C 0004958C  38 A5 68 BC */	addi r5, r5, LevelFileName@l
/* 8004C590 00049590  38 7E 68 3C */	addi r3, r30, tbuf@l
/* 8004C594 00049594  4C C6 31 82 */	crclr 6
/* 8004C598 00049598  48 08 CE 01 */	bl sprintf
/* 8004C59C 0004959C  3B 60 01 00 */	li r27, 0x100
/* 8004C5A0 000495A0  38 7E 68 3C */	addi r3, r30, 0x683c
/* 8004C5A4 000495A4  48 07 0F 1D */	bl NuFileExists
/* 8004C5A8 000495A8  2C 03 00 00 */	cmpwi r3, 0
/* 8004C5AC 000495AC  41 82 01 EC */	beq lbl_8004C798
/* 8004C5B0 000495B0  3F C0 80 23 */	lis r30, Chase@ha
/* 8004C5B4 000495B4  3C A0 7F FF */	lis r5, 0x7FFFFFFF@h
/* 8004C5B8 000495B8  3B DE 68 DC */	addi r30, r30, Chase@l
/* 8004C5BC 000495BC  3C 60 80 23 */	lis r3, tbuf@ha
/* 8004C5C0 000495C0  7F C4 F3 78 */	mr r4, r30
/* 8004C5C4 000495C4  60 A5 FF FF */	ori r5, r5, 0x7FFFFFFF@l
/* 8004C5C8 000495C8  38 63 68 3C */	addi r3, r3, tbuf@l
/* 8004C5CC 000495CC  48 07 15 25 */	bl NuFileLoadBuffer
/* 8004C5D0 000495D0  7C 64 1B 78 */	mr r4, r3
/* 8004C5D4 000495D4  38 A0 00 00 */	li r5, 0
/* 8004C5D8 000495D8  7F C3 F3 78 */	mr r3, r30
/* 8004C5DC 000495DC  48 07 10 DD */	bl NuMemFileOpen
/* 8004C5E0 000495E0  7C 7E 1B 79 */	or. r30, r3, r3
/* 8004C5E4 000495E4  41 82 01 B4 */	beq lbl_8004C798
/* 8004C5E8 000495E8  7F C3 F3 78 */	mr r3, r30
/* 8004C5EC 000495EC  48 07 18 61 */	bl NuFileReadInt
/* 8004C5F0 000495F0  90 6D A4 EC */	stw r3, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004C5F4 000495F4  7F C3 F3 78 */	mr r3, r30
/* 8004C5F8 000495F8  48 07 18 55 */	bl NuFileReadInt
/* 8004C5FC 000495FC  90 6D A4 F0 */	stw r3, AMBIENTCOUNT-_SDA_BASE_(r13)
/* 8004C600 00049600  7F C3 F3 78 */	mr r3, r30
/* 8004C604 00049604  48 07 18 49 */	bl NuFileReadInt
/* 8004C608 00049608  90 6D A4 F4 */	stw r3, DIRECTCOUNT-_SDA_BASE_(r13)
/* 8004C60C 0004960C  7F C3 F3 78 */	mr r3, r30
/* 8004C610 00049610  48 07 18 3D */	bl NuFileReadInt
/* 8004C614 00049614  80 0D A4 EC */	lwz r0, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004C618 00049618  90 6D A4 E8 */	stw r3, POINTCOUNT-_SDA_BASE_(r13)
/* 8004C61C 0004961C  2C 00 01 00 */	cmpwi r0, 0x100
/* 8004C620 00049620  40 81 00 08 */	ble lbl_8004C628
/* 8004C624 00049624  93 6D A4 EC */	stw r27, LIGHTCOUNT-_SDA_BASE_(r13)
lbl_8004C628:
/* 8004C628 00049628  80 0D A4 EC */	lwz r0, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004C62C 0004962C  3B 60 00 00 */	li r27, 0
/* 8004C630 00049630  7C 1B 00 00 */	cmpw r27, r0
/* 8004C634 00049634  40 80 01 5C */	bge lbl_8004C790
/* 8004C638 00049638  3D 20 80 34 */	lis r9, Lights@ha
/* 8004C63C 0004963C  3B E0 00 00 */	li r31, 0
/* 8004C640 00049640  3B 89 81 B8 */	addi r28, r9, Lights@l
/* 8004C644 00049644  7F 9D E3 78 */	mr r29, r28
lbl_8004C648:
/* 8004C648 00049648  7F C3 F3 78 */	mr r3, r30
/* 8004C64C 0004964C  48 07 18 01 */	bl NuFileReadInt
/* 8004C650 00049650  90 7C 00 00 */	stw r3, 0(r28)
/* 8004C654 00049654  7F C3 F3 78 */	mr r3, r30
/* 8004C658 00049658  48 07 17 BD */	bl NuFileReadFloat
/* 8004C65C 0004965C  39 3D 00 04 */	addi r9, r29, 4
/* 8004C660 00049660  7F C3 F3 78 */	mr r3, r30
/* 8004C664 00049664  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C668 00049668  48 07 17 AD */	bl NuFileReadFloat
/* 8004C66C 0004966C  39 3D 00 08 */	addi r9, r29, 8
/* 8004C670 00049670  7F C3 F3 78 */	mr r3, r30
/* 8004C674 00049674  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C678 00049678  48 07 17 9D */	bl NuFileReadFloat
/* 8004C67C 0004967C  39 3D 00 0C */	addi r9, r29, 0xc
/* 8004C680 00049680  7F C3 F3 78 */	mr r3, r30
/* 8004C684 00049684  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C688 00049688  48 07 17 8D */	bl NuFileReadFloat
/* 8004C68C 0004968C  39 3D 00 10 */	addi r9, r29, 0x10
/* 8004C690 00049690  7F C3 F3 78 */	mr r3, r30
/* 8004C694 00049694  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C698 00049698  48 07 17 7D */	bl NuFileReadFloat
/* 8004C69C 0004969C  39 3D 00 14 */	addi r9, r29, 0x14
/* 8004C6A0 000496A0  7F C3 F3 78 */	mr r3, r30
/* 8004C6A4 000496A4  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C6A8 000496A8  48 07 17 6D */	bl NuFileReadFloat
/* 8004C6AC 000496AC  39 3D 00 18 */	addi r9, r29, 0x18
/* 8004C6B0 000496B0  7F C3 F3 78 */	mr r3, r30
/* 8004C6B4 000496B4  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C6B8 000496B8  48 07 17 5D */	bl NuFileReadFloat
/* 8004C6BC 000496BC  39 3D 00 1C */	addi r9, r29, 0x1c
/* 8004C6C0 000496C0  7F C3 F3 78 */	mr r3, r30
/* 8004C6C4 000496C4  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C6C8 000496C8  48 07 17 DD */	bl NuFileReadChar
/* 8004C6CC 000496CC  98 7C 00 20 */	stb r3, 0x20(r28)
/* 8004C6D0 000496D0  7F C3 F3 78 */	mr r3, r30
/* 8004C6D4 000496D4  48 07 17 D1 */	bl NuFileReadChar
/* 8004C6D8 000496D8  98 7C 00 21 */	stb r3, 0x21(r28)
/* 8004C6DC 000496DC  7F C3 F3 78 */	mr r3, r30
/* 8004C6E0 000496E0  48 07 17 C5 */	bl NuFileReadChar
/* 8004C6E4 000496E4  98 7C 00 22 */	stb r3, 0x22(r28)
/* 8004C6E8 000496E8  7F C3 F3 78 */	mr r3, r30
/* 8004C6EC 000496EC  48 07 17 29 */	bl NuFileReadFloat
/* 8004C6F0 000496F0  39 3D 00 24 */	addi r9, r29, 0x24
/* 8004C6F4 000496F4  7F C3 F3 78 */	mr r3, r30
/* 8004C6F8 000496F8  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C6FC 000496FC  48 07 17 19 */	bl NuFileReadFloat
/* 8004C700 00049700  39 3D 00 28 */	addi r9, r29, 0x28
/* 8004C704 00049704  7F C3 F3 78 */	mr r3, r30
/* 8004C708 00049708  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C70C 0004970C  48 07 17 09 */	bl NuFileReadFloat
/* 8004C710 00049710  39 7D 00 2C */	addi r11, r29, 0x2c
/* 8004C714 00049714  7C 2B FD 2E */	stfsx f1, r11, r31
/* 8004C718 00049718  81 3C 00 00 */	lwz r9, 0(r28)
/* 8004C71C 0004971C  39 29 FF FF */	addi r9, r9, -1
/* 8004C720 00049720  28 09 00 01 */	cmplwi r9, 1
/* 8004C724 00049724  41 81 00 34 */	bgt lbl_8004C758
/* 8004C728 00049728  7F C3 F3 78 */	mr r3, r30
/* 8004C72C 0004972C  48 07 16 E9 */	bl NuFileReadFloat
/* 8004C730 00049730  39 3D 00 30 */	addi r9, r29, 0x30
/* 8004C734 00049734  7F C3 F3 78 */	mr r3, r30
/* 8004C738 00049738  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C73C 0004973C  48 07 16 D9 */	bl NuFileReadFloat
/* 8004C740 00049740  39 3D 00 34 */	addi r9, r29, 0x34
/* 8004C744 00049744  7F C3 F3 78 */	mr r3, r30
/* 8004C748 00049748  7C 29 FD 2E */	stfsx f1, r9, r31
/* 8004C74C 0004974C  48 07 16 C9 */	bl NuFileReadFloat
/* 8004C750 00049750  39 3D 00 38 */	addi r9, r29, 0x38
/* 8004C754 00049754  7C 29 FD 2E */	stfsx f1, r9, r31
lbl_8004C758:
/* 8004C758 00049758  7F C3 F3 78 */	mr r3, r30
/* 8004C75C 0004975C  48 07 16 F1 */	bl NuFileReadInt
/* 8004C760 00049760  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 8004C764 00049764  98 7C 00 3C */	stb r3, 0x3c(r28)
/* 8004C768 00049768  2C 00 00 04 */	cmpwi r0, 4
/* 8004C76C 0004976C  7F C3 F3 78 */	mr r3, r30
/* 8004C770 00049770  3B 7B 00 01 */	addi r27, r27, 1
/* 8004C774 00049774  48 07 16 D9 */	bl NuFileReadInt
/* 8004C778 00049778  3B FF 00 48 */	addi r31, r31, 0x48
/* 8004C77C 0004977C  80 0D A4 EC */	lwz r0, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004C780 00049780  98 7C 00 3E */	stb r3, 0x3e(r28)
/* 8004C784 00049784  7C 1B 00 00 */	cmpw r27, r0
/* 8004C788 00049788  3B 9C 00 48 */	addi r28, r28, 0x48
/* 8004C78C 0004978C  41 80 FE BC */	blt lbl_8004C648
lbl_8004C790:
/* 8004C790 00049790  7F C3 F3 78 */	mr r3, r30
/* 8004C794 00049794  48 07 0E B5 */	bl NuFileClose
lbl_8004C798:
/* 8004C798 00049798  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8004C79C 0004979C  7C 08 03 A6 */	mtlr r0
/* 8004C7A0 000497A0  BB 61 00 0C */	lmw r27, 0xc(r1)
/* 8004C7A4 000497A4  38 21 00 20 */	addi r1, r1, 0x20
/* 8004C7A8 000497A8  4E 80 00 20 */	blr 

.global UpdateGlobals
UpdateGlobals:
/* 8004C7AC 000497AC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8004C7B0 000497B0  BF C1 00 08 */	stmw r30, 8(r1)
/* 8004C7B4 000497B4  81 2D A4 EC */	lwz r9, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004C7B8 000497B8  38 00 FF FF */	li r0, -1
/* 8004C7BC 000497BC  38 A0 00 00 */	li r5, 0
/* 8004C7C0 000497C0  90 03 00 90 */	stw r0, 0x90(r3)
/* 8004C7C4 000497C4  38 80 00 00 */	li r4, 0
/* 8004C7C8 000497C8  90 03 00 84 */	stw r0, 0x84(r3)
/* 8004C7CC 000497CC  38 E0 00 00 */	li r7, 0
/* 8004C7D0 000497D0  7C 05 48 00 */	cmpw r5, r9
/* 8004C7D4 000497D4  40 80 00 8C */	bge lbl_8004C860
/* 8004C7D8 000497D8  3F E0 80 34 */	lis r31, Lights@ha
/* 8004C7DC 000497DC  7D 3E 4B 78 */	mr r30, r9
/* 8004C7E0 000497E0  39 9F 81 B8 */	addi r12, r31, Lights@l
/* 8004C7E4 000497E4  39 00 00 00 */	li r8, 0
/* 8004C7E8 000497E8  38 CC 00 3C */	addi r6, r12, 0x3c
lbl_8004C7EC:
/* 8004C7EC 000497EC  7C 08 60 2E */	lwzx r0, r8, r12
/* 8004C7F0 000497F0  7D 0A 43 78 */	mr r10, r8
/* 8004C7F4 000497F4  2C 00 00 00 */	cmpwi r0, 0
/* 8004C7F8 000497F8  40 82 00 18 */	bne lbl_8004C810
/* 8004C7FC 000497FC  88 06 00 00 */	lbz r0, 0(r6)
/* 8004C800 00049800  2C 00 00 04 */	cmpwi r0, 4
/* 8004C804 00049804  40 82 00 0C */	bne lbl_8004C810
/* 8004C808 00049808  90 E3 00 84 */	stw r7, 0x84(r3)
/* 8004C80C 0004980C  38 80 00 01 */	li r4, 1
lbl_8004C810:
/* 8004C810 00049810  39 7F 81 B8 */	addi r11, r31, -32328
/* 8004C814 00049814  7D 2B 40 2E */	lwzx r9, r11, r8
/* 8004C818 00049818  39 29 FF FF */	addi r9, r9, -1
/* 8004C81C 0004981C  28 09 00 01 */	cmplwi r9, 1
/* 8004C820 00049820  41 81 00 1C */	bgt lbl_8004C83C
/* 8004C824 00049824  7D 2A 5A 14 */	add r9, r10, r11
/* 8004C828 00049828  88 09 00 3C */	lbz r0, 0x3c(r9)
/* 8004C82C 0004982C  2C 00 00 04 */	cmpwi r0, 4
/* 8004C830 00049830  40 82 00 0C */	bne lbl_8004C83C
/* 8004C834 00049834  90 E3 00 90 */	stw r7, 0x90(r3)
/* 8004C838 00049838  38 A0 00 01 */	li r5, 1
lbl_8004C83C:
/* 8004C83C 0004983C  38 E7 00 01 */	addi r7, r7, 1
/* 8004C840 00049840  38 C6 00 48 */	addi r6, r6, 0x48
/* 8004C844 00049844  39 08 00 48 */	addi r8, r8, 0x48
/* 8004C848 00049848  7C 07 F0 00 */	cmpw r7, r30
/* 8004C84C 0004984C  40 80 00 14 */	bge lbl_8004C860
/* 8004C850 00049850  2C 04 00 00 */	cmpwi r4, 0
/* 8004C854 00049854  41 82 FF 98 */	beq lbl_8004C7EC
/* 8004C858 00049858  2C 05 00 00 */	cmpwi r5, 0
/* 8004C85C 0004985C  41 82 FF 90 */	beq lbl_8004C7EC
lbl_8004C860:
/* 8004C860 00049860  BB C1 00 08 */	lmw r30, 8(r1)
/* 8004C864 00049864  38 21 00 10 */	addi r1, r1, 0x10
/* 8004C868 00049868  4E 80 00 20 */	blr 

.global ResetLights
ResetLights:
/* 8004C86C 0004986C  94 21 FF F8 */	stwu r1, -8(r1)
/* 8004C870 00049870  7C 08 02 A6 */	mflr r0
/* 8004C874 00049874  90 01 00 0C */	stw r0, 0xc(r1)
/* 8004C878 00049878  3D 40 80 11 */	lis r10, lbl_8010E474@ha
/* 8004C87C 0004987C  3D 60 80 11 */	lis r11, lbl_8010E478@ha
/* 8004C880 00049880  7C 69 1B 78 */	mr r9, r3
/* 8004C884 00049884  C0 0B E4 78 */	lfs f0, lbl_8010E478@l(r11)
/* 8004C888 00049888  C1 AA E4 74 */	lfs f13, lbl_8010E474@l(r10)
/* 8004C88C 0004988C  39 00 FF FF */	li r8, -1
/* 8004C890 00049890  39 49 00 18 */	addi r10, r9, 0x18
/* 8004C894 00049894  39 69 00 58 */	addi r11, r9, 0x58
/* 8004C898 00049898  38 09 00 38 */	addi r0, r9, 0x38
/* 8004C89C 0004989C  91 69 00 80 */	stw r11, 0x80(r9)
/* 8004C8A0 000498A0  90 09 00 7C */	stw r0, 0x7c(r9)
/* 8004C8A4 000498A4  91 49 00 78 */	stw r10, 0x78(r9)
/* 8004C8A8 000498A8  D1 A9 00 10 */	stfs f13, 0x10(r9)
/* 8004C8AC 000498AC  D1 A9 00 34 */	stfs f13, 0x34(r9)
/* 8004C8B0 000498B0  D1 A9 00 54 */	stfs f13, 0x54(r9)
/* 8004C8B4 000498B4  D1 A9 00 74 */	stfs f13, 0x74(r9)
/* 8004C8B8 000498B8  91 09 00 00 */	stw r8, 0(r9)
/* 8004C8BC 000498BC  D0 09 00 04 */	stfs f0, 4(r9)
/* 8004C8C0 000498C0  D0 09 00 08 */	stfs f0, 8(r9)
/* 8004C8C4 000498C4  D0 09 00 0C */	stfs f0, 0xc(r9)
/* 8004C8C8 000498C8  91 09 00 18 */	stw r8, 0x18(r9)
/* 8004C8CC 000498CC  91 09 00 38 */	stw r8, 0x38(r9)
/* 8004C8D0 000498D0  91 09 00 58 */	stw r8, 0x58(r9)
/* 8004C8D4 000498D4  D0 0A 00 04 */	stfs f0, 4(r10)
/* 8004C8D8 000498D8  81 69 00 78 */	lwz r11, 0x78(r9)
/* 8004C8DC 000498DC  D0 0B 00 08 */	stfs f0, 8(r11)
/* 8004C8E0 000498E0  81 49 00 78 */	lwz r10, 0x78(r9)
/* 8004C8E4 000498E4  D0 0A 00 0C */	stfs f0, 0xc(r10)
/* 8004C8E8 000498E8  81 69 00 80 */	lwz r11, 0x80(r9)
/* 8004C8EC 000498EC  D0 0B 00 04 */	stfs f0, 4(r11)
/* 8004C8F0 000498F0  81 49 00 7C */	lwz r10, 0x7c(r9)
/* 8004C8F4 000498F4  D0 0A 00 04 */	stfs f0, 4(r10)
/* 8004C8F8 000498F8  81 69 00 7C */	lwz r11, 0x7c(r9)
/* 8004C8FC 000498FC  D0 0B 00 08 */	stfs f0, 8(r11)
/* 8004C900 00049900  81 49 00 7C */	lwz r10, 0x7c(r9)
/* 8004C904 00049904  D0 0A 00 0C */	stfs f0, 0xc(r10)
/* 8004C908 00049908  81 69 00 80 */	lwz r11, 0x80(r9)
/* 8004C90C 0004990C  D0 0B 00 04 */	stfs f0, 4(r11)
/* 8004C910 00049910  81 49 00 80 */	lwz r10, 0x80(r9)
/* 8004C914 00049914  D0 0A 00 04 */	stfs f0, 4(r10)
/* 8004C918 00049918  81 69 00 80 */	lwz r11, 0x80(r9)
/* 8004C91C 0004991C  D0 0B 00 08 */	stfs f0, 8(r11)
/* 8004C920 00049920  81 49 00 80 */	lwz r10, 0x80(r9)
/* 8004C924 00049924  D0 0A 00 0C */	stfs f0, 0xc(r10)
/* 8004C928 00049928  81 69 00 80 */	lwz r11, 0x80(r9)
/* 8004C92C 0004992C  D0 0B 00 04 */	stfs f0, 4(r11)
/* 8004C930 00049930  91 09 00 88 */	stw r8, 0x88(r9)
/* 8004C934 00049934  D1 A9 00 8C */	stfs f13, 0x8c(r9)
/* 8004C938 00049938  4B FF FE 75 */	bl UpdateGlobals
/* 8004C93C 0004993C  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8004C940 00049940  7C 08 03 A6 */	mtlr r0
/* 8004C944 00049944  38 21 00 08 */	addi r1, r1, 8
/* 8004C948 00049948  4E 80 00 20 */	blr 

.global ScaleColour
ScaleColour:
/* 8004C94C 0004994C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8004C950 00049950  2C 07 00 06 */	cmpwi r7, 6
/* 8004C954 00049954  40 82 00 3C */	bne lbl_8004C990
/* 8004C958 00049958  6C 80 80 00 */	xoris r0, r4, 0x8000
/* 8004C95C 0004995C  90 01 00 0C */	stw r0, 0xc(r1)
/* 8004C960 00049960  3C E0 43 30 */	lis r7, 0x4330
/* 8004C964 00049964  7D 2B 4B 78 */	mr r11, r9
/* 8004C968 00049968  6C A0 80 00 */	xoris r0, r5, 0x8000
/* 8004C96C 0004996C  90 E1 00 08 */	stw r7, 8(r1)
/* 8004C970 00049970  3D 40 80 11 */	lis r10, lbl_8010E480@ha
/* 8004C974 00049974  C9 8A E4 80 */	lfd f12, lbl_8010E480@l(r10)
/* 8004C978 00049978  7D 28 4B 78 */	mr r8, r9
/* 8004C97C 0004997C  C8 01 00 08 */	lfd f0, 8(r1)
/* 8004C980 00049980  6C C6 80 00 */	xoris r6, r6, 0x8000
/* 8004C984 00049984  90 01 00 0C */	stw r0, 0xc(r1)
/* 8004C988 00049988  C1 6D 84 A8 */	lfs f11, sf2-_SDA_BASE_(r13)
/* 8004C98C 0004998C  48 00 00 40 */	b lbl_8004C9CC
lbl_8004C990:
/* 8004C990 00049990  2C 07 00 07 */	cmpwi r7, 7
/* 8004C994 00049994  40 82 00 7C */	bne lbl_8004CA10
/* 8004C998 00049998  6C 80 80 00 */	xoris r0, r4, 0x8000
/* 8004C99C 0004999C  90 01 00 0C */	stw r0, 0xc(r1)
/* 8004C9A0 000499A0  3C E0 43 30 */	lis r7, 0x4330
/* 8004C9A4 000499A4  7D 2B 4B 78 */	mr r11, r9
/* 8004C9A8 000499A8  6C A0 80 00 */	xoris r0, r5, 0x8000
/* 8004C9AC 000499AC  90 E1 00 08 */	stw r7, 8(r1)
/* 8004C9B0 000499B0  3D 40 80 11 */	lis r10, lbl_8010E480@ha
/* 8004C9B4 000499B4  C9 8A E4 80 */	lfd f12, lbl_8010E480@l(r10)
/* 8004C9B8 000499B8  7D 28 4B 78 */	mr r8, r9
/* 8004C9BC 000499BC  C8 01 00 08 */	lfd f0, 8(r1)
/* 8004C9C0 000499C0  6C C6 80 00 */	xoris r6, r6, 0x8000
/* 8004C9C4 000499C4  90 01 00 0C */	stw r0, 0xc(r1)
/* 8004C9C8 000499C8  C1 6D 84 A4 */	lfs f11, sf-_SDA_BASE_(r13)
lbl_8004C9CC:
/* 8004C9CC 000499CC  FC 00 60 28 */	fsub f0, f0, f12
/* 8004C9D0 000499D0  90 E1 00 08 */	stw r7, 8(r1)
/* 8004C9D4 000499D4  FC 00 00 18 */	frsp f0, f0
/* 8004C9D8 000499D8  EC 00 02 F2 */	fmuls f0, f0, f11
/* 8004C9DC 000499DC  C9 A1 00 08 */	lfd f13, 8(r1)
/* 8004C9E0 000499E0  90 C1 00 0C */	stw r6, 0xc(r1)
/* 8004C9E4 000499E4  D0 03 00 00 */	stfs f0, 0(r3)
/* 8004C9E8 000499E8  FD AD 60 28 */	fsub f13, f13, f12
/* 8004C9EC 000499EC  90 E1 00 08 */	stw r7, 8(r1)
/* 8004C9F0 000499F0  FD A0 68 18 */	frsp f13, f13
/* 8004C9F4 000499F4  ED AD 02 F2 */	fmuls f13, f13, f11
/* 8004C9F8 000499F8  C8 01 00 08 */	lfd f0, 8(r1)
/* 8004C9FC 000499FC  D1 A3 00 04 */	stfs f13, 4(r3)
/* 8004CA00 00049A00  FC 00 60 28 */	fsub f0, f0, f12
/* 8004CA04 00049A04  FC 00 00 18 */	frsp f0, f0
/* 8004CA08 00049A08  EC 00 02 F2 */	fmuls f0, f0, f11
/* 8004CA0C 00049A0C  D0 03 00 08 */	stfs f0, 8(r3)
lbl_8004CA10:
/* 8004CA10 00049A10  38 21 00 10 */	addi r1, r1, 0x10
/* 8004CA14 00049A14  4E 80 00 20 */	blr 

.global SortLights
SortLights:
/* 8004CA18 00049A18  81 63 00 78 */	lwz r11, 0x78(r3)
/* 8004CA1C 00049A1C  81 23 00 7C */	lwz r9, 0x7c(r3)
/* 8004CA20 00049A20  C1 AB 00 1C */	lfs f13, 0x1c(r11)
/* 8004CA24 00049A24  C0 09 00 1C */	lfs f0, 0x1c(r9)
/* 8004CA28 00049A28  FC 0D 00 00 */	fcmpu cr0, f13, f0
/* 8004CA2C 00049A2C  40 81 00 0C */	ble lbl_8004CA38
/* 8004CA30 00049A30  91 23 00 78 */	stw r9, 0x78(r3)
/* 8004CA34 00049A34  91 63 00 7C */	stw r11, 0x7c(r3)
lbl_8004CA38:
/* 8004CA38 00049A38  81 63 00 7C */	lwz r11, 0x7c(r3)
/* 8004CA3C 00049A3C  81 23 00 80 */	lwz r9, 0x80(r3)
/* 8004CA40 00049A40  C1 AB 00 1C */	lfs f13, 0x1c(r11)
/* 8004CA44 00049A44  C0 09 00 1C */	lfs f0, 0x1c(r9)
/* 8004CA48 00049A48  FC 0D 00 00 */	fcmpu cr0, f13, f0
/* 8004CA4C 00049A4C  40 81 00 0C */	ble lbl_8004CA58
/* 8004CA50 00049A50  91 23 00 7C */	stw r9, 0x7c(r3)
/* 8004CA54 00049A54  91 63 00 80 */	stw r11, 0x80(r3)
lbl_8004CA58:
/* 8004CA58 00049A58  81 23 00 78 */	lwz r9, 0x78(r3)
/* 8004CA5C 00049A5C  81 63 00 7C */	lwz r11, 0x7c(r3)
/* 8004CA60 00049A60  C1 A9 00 1C */	lfs f13, 0x1c(r9)
/* 8004CA64 00049A64  C0 0B 00 1C */	lfs f0, 0x1c(r11)
/* 8004CA68 00049A68  FC 0D 00 00 */	fcmpu cr0, f13, f0
/* 8004CA6C 00049A6C  4C 81 00 20 */	blelr 
/* 8004CA70 00049A70  91 23 00 7C */	stw r9, 0x7c(r3)
/* 8004CA74 00049A74  91 63 00 78 */	stw r11, 0x78(r3)
/* 8004CA78 00049A78  4E 80 00 20 */	blr 

.global FindNearestLights
FindNearestLights:
/* 8004CA7C 00049A7C  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 8004CA80 00049A80  7C 08 02 A6 */	mflr r0
/* 8004CA84 00049A84  DB E1 00 58 */	stfd f31, 0x58(r1)
/* 8004CA88 00049A88  BE E1 00 34 */	stmw r23, 0x34(r1)
/* 8004CA8C 00049A8C  90 01 00 64 */	stw r0, 0x64(r1)
/* 8004CA90 00049A90  80 0D A4 EC */	lwz r0, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004CA94 00049A94  7C 9F 23 78 */	mr r31, r4
/* 8004CA98 00049A98  8A FF 00 03 */	lbz r23, 3(r31)
/* 8004CA9C 00049A9C  7C 7B 1B 78 */	mr r27, r3
/* 8004CAA0 00049AA0  8B BF 00 17 */	lbz r29, 0x17(r31)
/* 8004CAA4 00049AA4  3B 20 00 10 */	li r25, 0x10
/* 8004CAA8 00049AA8  2C 00 00 00 */	cmpwi r0, 0
/* 8004CAAC 00049AAC  40 82 00 0C */	bne lbl_8004CAB8
/* 8004CAB0 00049AB0  38 60 00 00 */	li r3, 0
/* 8004CAB4 00049AB4  48 00 0A 58 */	b lbl_8004D50C
lbl_8004CAB8:
/* 8004CAB8 00049AB8  2C 05 00 00 */	cmpwi r5, 0
/* 8004CABC 00049ABC  41 82 00 0C */	beq lbl_8004CAC8
/* 8004CAC0 00049AC0  2C 00 00 0F */	cmpwi r0, 0xf
/* 8004CAC4 00049AC4  41 81 00 08 */	bgt lbl_8004CACC
lbl_8004CAC8:
/* 8004CAC8 00049AC8  7C 19 03 78 */	mr r25, r0
lbl_8004CACC:
/* 8004CACC 00049ACC  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004CAD0 00049AD0  80 09 00 00 */	lwz r0, 0(r9)
/* 8004CAD4 00049AD4  2C 00 FF FF */	cmpwi r0, -1
/* 8004CAD8 00049AD8  41 82 00 28 */	beq lbl_8004CB00
/* 8004CADC 00049ADC  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004CAE0 00049AE0  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004CAE4 00049AE4  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004CAE8 00049AE8  7F 64 DB 78 */	mr r4, r27
/* 8004CAEC 00049AEC  38 A0 00 00 */	li r5, 0
/* 8004CAF0 00049AF0  7C 60 1A 14 */	add r3, r0, r3
/* 8004CAF4 00049AF4  48 07 4E 75 */	bl NuVecDist
/* 8004CAF8 00049AF8  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004CAFC 00049AFC  D0 29 00 1C */	stfs f1, 0x1c(r9)
lbl_8004CB00:
/* 8004CB00 00049B00  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004CB04 00049B04  80 09 00 00 */	lwz r0, 0(r9)
/* 8004CB08 00049B08  2C 00 FF FF */	cmpwi r0, -1
/* 8004CB0C 00049B0C  41 82 00 28 */	beq lbl_8004CB34
/* 8004CB10 00049B10  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004CB14 00049B14  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004CB18 00049B18  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004CB1C 00049B1C  7F 64 DB 78 */	mr r4, r27
/* 8004CB20 00049B20  38 A0 00 00 */	li r5, 0
/* 8004CB24 00049B24  7C 60 1A 14 */	add r3, r0, r3
/* 8004CB28 00049B28  48 07 4E 41 */	bl NuVecDist
/* 8004CB2C 00049B2C  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004CB30 00049B30  D0 29 00 1C */	stfs f1, 0x1c(r9)
lbl_8004CB34:
/* 8004CB34 00049B34  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004CB38 00049B38  80 09 00 00 */	lwz r0, 0(r9)
/* 8004CB3C 00049B3C  2C 00 FF FF */	cmpwi r0, -1
/* 8004CB40 00049B40  41 82 00 28 */	beq lbl_8004CB68
/* 8004CB44 00049B44  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004CB48 00049B48  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004CB4C 00049B4C  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004CB50 00049B50  7F 64 DB 78 */	mr r4, r27
/* 8004CB54 00049B54  38 A0 00 00 */	li r5, 0
/* 8004CB58 00049B58  7C 60 1A 14 */	add r3, r0, r3
/* 8004CB5C 00049B5C  48 07 4E 0D */	bl NuVecDist
/* 8004CB60 00049B60  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004CB64 00049B64  D0 29 00 1C */	stfs f1, 0x1c(r9)
lbl_8004CB68:
/* 8004CB68 00049B68  80 1F 00 88 */	lwz r0, 0x88(r31)
/* 8004CB6C 00049B6C  2C 00 FF FF */	cmpwi r0, -1
/* 8004CB70 00049B70  41 82 00 24 */	beq lbl_8004CB94
/* 8004CB74 00049B74  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004CB78 00049B78  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004CB7C 00049B7C  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004CB80 00049B80  7F 64 DB 78 */	mr r4, r27
/* 8004CB84 00049B84  38 A0 00 00 */	li r5, 0
/* 8004CB88 00049B88  7C 60 1A 14 */	add r3, r0, r3
/* 8004CB8C 00049B8C  48 07 4D DD */	bl NuVecDist
/* 8004CB90 00049B90  D0 3F 00 8C */	stfs f1, 0x8c(r31)
lbl_8004CB94:
/* 8004CB94 00049B94  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004CB98 00049B98  2C 00 FF FF */	cmpwi r0, -1
/* 8004CB9C 00049B9C  41 82 00 24 */	beq lbl_8004CBC0
/* 8004CBA0 00049BA0  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004CBA4 00049BA4  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004CBA8 00049BA8  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004CBAC 00049BAC  7F 64 DB 78 */	mr r4, r27
/* 8004CBB0 00049BB0  38 A0 00 00 */	li r5, 0
/* 8004CBB4 00049BB4  7C 60 1A 14 */	add r3, r0, r3
/* 8004CBB8 00049BB8  48 07 4D B1 */	bl NuVecDist
/* 8004CBBC 00049BBC  D0 3F 00 10 */	stfs f1, 0x10(r31)
lbl_8004CBC0:
/* 8004CBC0 00049BC0  7F E3 FB 78 */	mr r3, r31
/* 8004CBC4 00049BC4  3B 80 00 00 */	li r28, 0
/* 8004CBC8 00049BC8  4B FF FE 51 */	bl SortLights
/* 8004CBCC 00049BCC  7C 1C C8 00 */	cmpw r28, r25
/* 8004CBD0 00049BD0  40 80 01 7C */	bge lbl_8004CD4C
/* 8004CBD4 00049BD4  3D 20 80 34 */	lis r9, Lights_4_@ha
/* 8004CBD8 00049BD8  3B 49 81 BC */	addi r26, r9, Lights_4_@l
/* 8004CBDC 00049BDC  3B 1A FF FC */	addi r24, r26, -4
lbl_8004CBE0:
/* 8004CBE0 00049BE0  80 0D A4 EC */	lwz r0, LIGHTCOUNT-_SDA_BASE_(r13)
/* 8004CBE4 00049BE4  7C 1D 00 00 */	cmpw r29, r0
/* 8004CBE8 00049BE8  41 80 00 08 */	blt lbl_8004CBF0
/* 8004CBEC 00049BEC  3B A0 00 00 */	li r29, 0
lbl_8004CBF0:
/* 8004CBF0 00049BF0  1F DD 00 48 */	mulli r30, r29, 0x48
/* 8004CBF4 00049BF4  7F 64 DB 78 */	mr r4, r27
/* 8004CBF8 00049BF8  38 A0 00 00 */	li r5, 0
/* 8004CBFC 00049BFC  7C 7E D2 14 */	add r3, r30, r26
/* 8004CC00 00049C00  48 07 4D 69 */	bl NuVecDist
/* 8004CC04 00049C04  7D 38 F0 2E */	lwzx r9, r24, r30
/* 8004CC08 00049C08  2C 09 00 03 */	cmpwi r9, 3
/* 8004CC0C 00049C0C  40 82 00 1C */	bne lbl_8004CC28
/* 8004CC10 00049C10  C0 1F 00 8C */	lfs f0, 0x8c(r31)
/* 8004CC14 00049C14  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004CC18 00049C18  40 80 01 1C */	bge lbl_8004CD34
/* 8004CC1C 00049C1C  D0 3F 00 8C */	stfs f1, 0x8c(r31)
/* 8004CC20 00049C20  93 BF 00 88 */	stw r29, 0x88(r31)
/* 8004CC24 00049C24  48 00 01 10 */	b lbl_8004CD34
lbl_8004CC28:
/* 8004CC28 00049C28  2C 09 00 00 */	cmpwi r9, 0
/* 8004CC2C 00049C2C  40 82 00 28 */	bne lbl_8004CC54
/* 8004CC30 00049C30  80 1F 00 84 */	lwz r0, 0x84(r31)
/* 8004CC34 00049C34  7C 1D 00 00 */	cmpw r29, r0
/* 8004CC38 00049C38  41 82 00 FC */	beq lbl_8004CD34
/* 8004CC3C 00049C3C  C0 1F 00 10 */	lfs f0, 0x10(r31)
/* 8004CC40 00049C40  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004CC44 00049C44  40 80 00 F0 */	bge lbl_8004CD34
/* 8004CC48 00049C48  D0 3F 00 10 */	stfs f1, 0x10(r31)
/* 8004CC4C 00049C4C  93 BF 00 00 */	stw r29, 0(r31)
/* 8004CC50 00049C50  48 00 00 E4 */	b lbl_8004CD34
lbl_8004CC54:
/* 8004CC54 00049C54  38 09 FF FF */	addi r0, r9, -1
/* 8004CC58 00049C58  28 00 00 01 */	cmplwi r0, 1
/* 8004CC5C 00049C5C  41 81 00 D8 */	bgt lbl_8004CD34
/* 8004CC60 00049C60  81 1F 00 78 */	lwz r8, 0x78(r31)
/* 8004CC64 00049C64  80 08 00 00 */	lwz r0, 0(r8)
/* 8004CC68 00049C68  7C 1D 00 00 */	cmpw r29, r0
/* 8004CC6C 00049C6C  41 82 00 C8 */	beq lbl_8004CD34
/* 8004CC70 00049C70  81 5F 00 7C */	lwz r10, 0x7c(r31)
/* 8004CC74 00049C74  81 6A 00 00 */	lwz r11, 0(r10)
/* 8004CC78 00049C78  7C 1D 58 00 */	cmpw r29, r11
/* 8004CC7C 00049C7C  41 82 00 B8 */	beq lbl_8004CD34
/* 8004CC80 00049C80  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004CC84 00049C84  80 09 00 00 */	lwz r0, 0(r9)
/* 8004CC88 00049C88  7C 1D 00 00 */	cmpw r29, r0
/* 8004CC8C 00049C8C  41 82 00 A8 */	beq lbl_8004CD34
/* 8004CC90 00049C90  80 1F 00 90 */	lwz r0, 0x90(r31)
/* 8004CC94 00049C94  7C 1D 00 00 */	cmpw r29, r0
/* 8004CC98 00049C98  41 82 00 9C */	beq lbl_8004CD34
/* 8004CC9C 00049C9C  C0 08 00 1C */	lfs f0, 0x1c(r8)
/* 8004CCA0 00049CA0  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004CCA4 00049CA4  40 80 00 48 */	bge lbl_8004CCEC
/* 8004CCA8 00049CA8  91 69 00 00 */	stw r11, 0(r9)
/* 8004CCAC 00049CAC  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004CCB0 00049CB0  81 7F 00 7C */	lwz r11, 0x7c(r31)
/* 8004CCB4 00049CB4  80 09 00 00 */	lwz r0, 0(r9)
/* 8004CCB8 00049CB8  90 0B 00 00 */	stw r0, 0(r11)
/* 8004CCBC 00049CBC  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004CCC0 00049CC0  93 A9 00 00 */	stw r29, 0(r9)
/* 8004CCC4 00049CC4  81 7F 00 7C */	lwz r11, 0x7c(r31)
/* 8004CCC8 00049CC8  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004CCCC 00049CCC  C0 0B 00 1C */	lfs f0, 0x1c(r11)
/* 8004CCD0 00049CD0  D0 09 00 1C */	stfs f0, 0x1c(r9)
/* 8004CCD4 00049CD4  81 7F 00 78 */	lwz r11, 0x78(r31)
/* 8004CCD8 00049CD8  81 5F 00 7C */	lwz r10, 0x7c(r31)
/* 8004CCDC 00049CDC  C0 0B 00 1C */	lfs f0, 0x1c(r11)
/* 8004CCE0 00049CE0  D0 0A 00 1C */	stfs f0, 0x1c(r10)
/* 8004CCE4 00049CE4  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004CCE8 00049CE8  48 00 00 48 */	b lbl_8004CD30
lbl_8004CCEC:
/* 8004CCEC 00049CEC  C0 0A 00 1C */	lfs f0, 0x1c(r10)
/* 8004CCF0 00049CF0  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004CCF4 00049CF4  40 80 00 28 */	bge lbl_8004CD1C
/* 8004CCF8 00049CF8  91 69 00 00 */	stw r11, 0(r9)
/* 8004CCFC 00049CFC  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004CD00 00049D00  93 A9 00 00 */	stw r29, 0(r9)
/* 8004CD04 00049D04  81 7F 00 7C */	lwz r11, 0x7c(r31)
/* 8004CD08 00049D08  81 5F 00 80 */	lwz r10, 0x80(r31)
/* 8004CD0C 00049D0C  C0 0B 00 1C */	lfs f0, 0x1c(r11)
/* 8004CD10 00049D10  D0 0A 00 1C */	stfs f0, 0x1c(r10)
/* 8004CD14 00049D14  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004CD18 00049D18  48 00 00 18 */	b lbl_8004CD30
lbl_8004CD1C:
/* 8004CD1C 00049D1C  C0 09 00 1C */	lfs f0, 0x1c(r9)
/* 8004CD20 00049D20  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004CD24 00049D24  40 80 00 10 */	bge lbl_8004CD34
/* 8004CD28 00049D28  93 A9 00 00 */	stw r29, 0(r9)
/* 8004CD2C 00049D2C  81 3F 00 80 */	lwz r9, 0x80(r31)
lbl_8004CD30:
/* 8004CD30 00049D30  D0 29 00 1C */	stfs f1, 0x1c(r9)
lbl_8004CD34:
/* 8004CD34 00049D34  38 1C 00 01 */	addi r0, r28, 1
/* 8004CD38 00049D38  39 3D 00 01 */	addi r9, r29, 1
/* 8004CD3C 00049D3C  54 1C 06 3E */	clrlwi r28, r0, 0x18
/* 8004CD40 00049D40  55 3D 06 3E */	clrlwi r29, r9, 0x18
/* 8004CD44 00049D44  7C 1C C8 00 */	cmpw r28, r25
/* 8004CD48 00049D48  41 80 FE 98 */	blt lbl_8004CBE0
lbl_8004CD4C:
/* 8004CD4C 00049D4C  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004CD50 00049D50  93 BF 00 14 */	stw r29, 0x14(r31)
/* 8004CD54 00049D54  7C 00 B8 00 */	cmpw r0, r23
/* 8004CD58 00049D58  40 82 00 24 */	bne lbl_8004CD7C
/* 8004CD5C 00049D5C  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004CD60 00049D60  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004CD64 00049D64  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004CD68 00049D68  7F 64 DB 78 */	mr r4, r27
/* 8004CD6C 00049D6C  38 A0 00 00 */	li r5, 0
/* 8004CD70 00049D70  7C 60 1A 14 */	add r3, r0, r3
/* 8004CD74 00049D74  48 07 4B F5 */	bl NuVecDist
/* 8004CD78 00049D78  D0 3F 00 10 */	stfs f1, 0x10(r31)
lbl_8004CD7C:
/* 8004CD7C 00049D7C  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004CD80 00049D80  7C 07 03 78 */	mr r7, r0
/* 8004CD84 00049D84  2C 00 FF FF */	cmpwi r0, -1
/* 8004CD88 00049D88  41 82 00 C8 */	beq lbl_8004CE50
/* 8004CD8C 00049D8C  1D 67 00 48 */	mulli r11, r7, 0x48
/* 8004CD90 00049D90  3D 20 80 34 */	lis r9, Lights@ha
/* 8004CD94 00049D94  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004CD98 00049D98  7D 6B 4A 14 */	add r11, r11, r9
/* 8004CD9C 00049D9C  88 0B 00 3E */	lbz r0, 0x3e(r11)
/* 8004CDA0 00049DA0  2C 00 00 06 */	cmpwi r0, 6
/* 8004CDA4 00049DA4  40 82 00 0C */	bne lbl_8004CDB0
/* 8004CDA8 00049DA8  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004CDAC 00049DAC  48 00 00 10 */	b lbl_8004CDBC
lbl_8004CDB0:
/* 8004CDB0 00049DB0  2C 00 00 07 */	cmpwi r0, 7
/* 8004CDB4 00049DB4  40 82 00 08 */	bne lbl_8004CDBC
/* 8004CDB8 00049DB8  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004CDBC:
/* 8004CDBC 00049DBC  1C E7 00 48 */	mulli r7, r7, 0x48
/* 8004CDC0 00049DC0  3D 20 80 34 */	lis r9, Lights@ha
/* 8004CDC4 00049DC4  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004CDC8 00049DC8  3C C0 43 30 */	lis r6, 0x4330
/* 8004CDCC 00049DCC  3D 40 80 11 */	lis r10, lbl_8010E490@ha
/* 8004CDD0 00049DD0  7D 68 5B 78 */	mr r8, r11
/* 8004CDD4 00049DD4  7C E7 4A 14 */	add r7, r7, r9
/* 8004CDD8 00049DD8  C9 AA E4 90 */	lfd f13, lbl_8010E490@l(r10)
/* 8004CDDC 00049DDC  88 07 00 20 */	lbz r0, 0x20(r7)
/* 8004CDE0 00049DE0  7D 69 5B 78 */	mr r9, r11
/* 8004CDE4 00049DE4  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004CDE8 00049DE8  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004CDEC 00049DEC  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004CDF0 00049DF0  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004CDF4 00049DF4  FC 00 68 28 */	fsub f0, f0, f13
/* 8004CDF8 00049DF8  FC 00 00 18 */	frsp f0, f0
/* 8004CDFC 00049DFC  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004CE00 00049E00  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004CE04 00049E04  88 07 00 21 */	lbz r0, 0x21(r7)
/* 8004CE08 00049E08  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004CE0C 00049E0C  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004CE10 00049E10  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004CE14 00049E14  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004CE18 00049E18  FC 00 68 28 */	fsub f0, f0, f13
/* 8004CE1C 00049E1C  FC 00 00 18 */	frsp f0, f0
/* 8004CE20 00049E20  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004CE24 00049E24  D0 1F 00 08 */	stfs f0, 8(r31)
/* 8004CE28 00049E28  88 07 00 22 */	lbz r0, 0x22(r7)
/* 8004CE2C 00049E2C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004CE30 00049E30  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004CE34 00049E34  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004CE38 00049E38  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004CE3C 00049E3C  FC 00 68 28 */	fsub f0, f0, f13
/* 8004CE40 00049E40  FC 00 00 18 */	frsp f0, f0
/* 8004CE44 00049E44  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004CE48 00049E48  D0 1F 00 0C */	stfs f0, 0xc(r31)
/* 8004CE4C 00049E4C  48 00 00 A4 */	b lbl_8004CEF0
lbl_8004CE50:
/* 8004CE50 00049E50  80 FF 00 84 */	lwz r7, 0x84(r31)
/* 8004CE54 00049E54  2C 07 FF FF */	cmpwi r7, -1
/* 8004CE58 00049E58  41 82 00 98 */	beq lbl_8004CEF0
/* 8004CE5C 00049E5C  1C E7 00 48 */	mulli r7, r7, 0x48
/* 8004CE60 00049E60  3D 20 80 34 */	lis r9, Lights@ha
/* 8004CE64 00049E64  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004CE68 00049E68  C1 8D 84 A4 */	lfs f12, sf-_SDA_BASE_(r13)
/* 8004CE6C 00049E6C  3C C0 43 30 */	lis r6, 0x4330
/* 8004CE70 00049E70  3D 40 80 11 */	lis r10, lbl_8010E490@ha
/* 8004CE74 00049E74  7D 68 5B 78 */	mr r8, r11
/* 8004CE78 00049E78  7C E7 4A 14 */	add r7, r7, r9
/* 8004CE7C 00049E7C  C9 AA E4 90 */	lfd f13, lbl_8010E490@l(r10)
/* 8004CE80 00049E80  88 07 00 20 */	lbz r0, 0x20(r7)
/* 8004CE84 00049E84  7D 69 5B 78 */	mr r9, r11
/* 8004CE88 00049E88  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004CE8C 00049E8C  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004CE90 00049E90  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004CE94 00049E94  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004CE98 00049E98  FC 00 68 28 */	fsub f0, f0, f13
/* 8004CE9C 00049E9C  FC 00 00 18 */	frsp f0, f0
/* 8004CEA0 00049EA0  EC 0C 00 32 */	fmuls f0, f12, f0
/* 8004CEA4 00049EA4  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004CEA8 00049EA8  88 07 00 21 */	lbz r0, 0x21(r7)
/* 8004CEAC 00049EAC  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004CEB0 00049EB0  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004CEB4 00049EB4  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004CEB8 00049EB8  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004CEBC 00049EBC  FC 00 68 28 */	fsub f0, f0, f13
/* 8004CEC0 00049EC0  FC 00 00 18 */	frsp f0, f0
/* 8004CEC4 00049EC4  EC 0C 00 32 */	fmuls f0, f12, f0
/* 8004CEC8 00049EC8  D0 1F 00 08 */	stfs f0, 8(r31)
/* 8004CECC 00049ECC  88 07 00 22 */	lbz r0, 0x22(r7)
/* 8004CED0 00049ED0  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004CED4 00049ED4  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004CED8 00049ED8  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004CEDC 00049EDC  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004CEE0 00049EE0  FC 00 68 28 */	fsub f0, f0, f13
/* 8004CEE4 00049EE4  FC 00 00 18 */	frsp f0, f0
/* 8004CEE8 00049EE8  ED 8C 00 32 */	fmuls f12, f12, f0
/* 8004CEEC 00049EEC  D1 9F 00 0C */	stfs f12, 0xc(r31)
lbl_8004CEF0:
/* 8004CEF0 00049EF0  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004CEF4 00049EF4  80 89 00 00 */	lwz r4, 0(r9)
/* 8004CEF8 00049EF8  7D 25 4B 78 */	mr r5, r9
/* 8004CEFC 00049EFC  2C 04 FF FF */	cmpwi r4, -1
/* 8004CF00 00049F00  41 82 00 BC */	beq lbl_8004CFBC
/* 8004CF04 00049F04  1D 64 00 48 */	mulli r11, r4, 0x48
/* 8004CF08 00049F08  3D 20 80 34 */	lis r9, Lights@ha
/* 8004CF0C 00049F0C  38 89 81 B8 */	addi r4, r9, Lights@l
/* 8004CF10 00049F10  7C 04 58 2E */	lwzx r0, r4, r11
/* 8004CF14 00049F14  2C 00 00 02 */	cmpwi r0, 2
/* 8004CF18 00049F18  40 82 00 4C */	bne lbl_8004CF64
/* 8004CF1C 00049F1C  38 84 00 04 */	addi r4, r4, 4
/* 8004CF20 00049F20  38 61 00 08 */	addi r3, r1, 8
/* 8004CF24 00049F24  7C 8B 22 14 */	add r4, r11, r4
/* 8004CF28 00049F28  7F 65 DB 78 */	mr r5, r27
/* 8004CF2C 00049F2C  48 07 48 45 */	bl NuVecSub
/* 8004CF30 00049F30  38 61 00 08 */	addi r3, r1, 8
/* 8004CF34 00049F34  7C 64 1B 78 */	mr r4, r3
/* 8004CF38 00049F38  48 07 49 89 */	bl NuVecNorm
/* 8004CF3C 00049F3C  81 5F 00 78 */	lwz r10, 0x78(r31)
/* 8004CF40 00049F40  39 21 00 08 */	addi r9, r1, 8
/* 8004CF44 00049F44  81 01 00 08 */	lwz r8, 8(r1)
/* 8004CF48 00049F48  80 E9 00 08 */	lwz r7, 8(r9)
/* 8004CF4C 00049F4C  39 6A 00 04 */	addi r11, r10, 4
/* 8004CF50 00049F50  80 09 00 04 */	lwz r0, 4(r9)
/* 8004CF54 00049F54  91 0A 00 04 */	stw r8, 4(r10)
/* 8004CF58 00049F58  90 EB 00 08 */	stw r7, 8(r11)
/* 8004CF5C 00049F5C  90 0B 00 04 */	stw r0, 4(r11)
/* 8004CF60 00049F60  48 00 00 28 */	b lbl_8004CF88
lbl_8004CF64:
/* 8004CF64 00049F64  7D 2B 22 14 */	add r9, r11, r4
/* 8004CF68 00049F68  39 05 00 04 */	addi r8, r5, 4
/* 8004CF6C 00049F6C  81 49 00 30 */	lwz r10, 0x30(r9)
/* 8004CF70 00049F70  39 29 00 30 */	addi r9, r9, 0x30
/* 8004CF74 00049F74  80 09 00 08 */	lwz r0, 8(r9)
/* 8004CF78 00049F78  81 69 00 04 */	lwz r11, 4(r9)
/* 8004CF7C 00049F7C  91 45 00 04 */	stw r10, 4(r5)
/* 8004CF80 00049F80  90 08 00 08 */	stw r0, 8(r8)
/* 8004CF84 00049F84  91 68 00 04 */	stw r11, 4(r8)
lbl_8004CF88:
/* 8004CF88 00049F88  80 7F 00 78 */	lwz r3, 0x78(r31)
/* 8004CF8C 00049F8C  3D 60 80 34 */	lis r11, Lights@ha
/* 8004CF90 00049F90  39 6B 81 B8 */	addi r11, r11, Lights@l
/* 8004CF94 00049F94  81 23 00 00 */	lwz r9, 0(r3)
/* 8004CF98 00049F98  38 63 00 10 */	addi r3, r3, 0x10
/* 8004CF9C 00049F9C  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004CFA0 00049FA0  7D 29 5A 14 */	add r9, r9, r11
/* 8004CFA4 00049FA4  88 E9 00 3E */	lbz r7, 0x3e(r9)
/* 8004CFA8 00049FA8  88 89 00 20 */	lbz r4, 0x20(r9)
/* 8004CFAC 00049FAC  88 A9 00 21 */	lbz r5, 0x21(r9)
/* 8004CFB0 00049FB0  88 C9 00 22 */	lbz r6, 0x22(r9)
/* 8004CFB4 00049FB4  4B FF F9 99 */	bl ScaleColour
/* 8004CFB8 00049FB8  48 00 01 40 */	b lbl_8004D0F8
lbl_8004CFBC:
/* 8004CFBC 00049FBC  80 1F 00 90 */	lwz r0, 0x90(r31)
/* 8004CFC0 00049FC0  7C 0A 03 78 */	mr r10, r0
/* 8004CFC4 00049FC4  2C 00 FF FF */	cmpwi r0, -1
/* 8004CFC8 00049FC8  41 82 01 04 */	beq lbl_8004D0CC
/* 8004CFCC 00049FCC  1C 0A 00 48 */	mulli r0, r10, 0x48
/* 8004CFD0 00049FD0  3D 60 80 34 */	lis r11, Lights@ha
/* 8004CFD4 00049FD4  39 6B 81 B8 */	addi r11, r11, Lights@l
/* 8004CFD8 00049FD8  7D 2B 00 2E */	lwzx r9, r11, r0
/* 8004CFDC 00049FDC  39 29 FF FF */	addi r9, r9, -1
/* 8004CFE0 00049FE0  28 09 00 01 */	cmplwi r9, 1
/* 8004CFE4 00049FE4  41 81 00 E8 */	bgt lbl_8004D0CC
/* 8004CFE8 00049FE8  89 6B FF F6 */	lbz r11, -0xa(r11)
/* 8004CFEC 00049FEC  2C 0B 00 06 */	cmpwi r11, 6
/* 8004CFF0 00049FF0  40 82 00 0C */	bne lbl_8004CFFC
/* 8004CFF4 00049FF4  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004CFF8 00049FF8  48 00 00 10 */	b lbl_8004D008
lbl_8004CFFC:
/* 8004CFFC 00049FFC  2C 0B 00 07 */	cmpwi r11, 7
/* 8004D000 0004A000  40 82 00 08 */	bne lbl_8004D008
/* 8004D004 0004A004  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004D008:
/* 8004D008 0004A008  1D 2A 00 48 */	mulli r9, r10, 0x48
/* 8004D00C 0004A00C  3C E0 80 34 */	lis r7, Lights@ha
/* 8004D010 0004A010  38 E7 81 B8 */	addi r7, r7, Lights@l
/* 8004D014 0004A014  3C C0 43 30 */	lis r6, 0x4330
/* 8004D018 0004A018  3D 60 80 11 */	lis r11, lbl_8010E490@ha
/* 8004D01C 0004A01C  7D 48 53 78 */	mr r8, r10
/* 8004D020 0004A020  7D 29 3A 14 */	add r9, r9, r7
/* 8004D024 0004A024  C9 AB E4 90 */	lfd f13, lbl_8010E490@l(r11)
/* 8004D028 0004A028  88 09 00 20 */	lbz r0, 0x20(r9)
/* 8004D02C 0004A02C  7D 4B 53 78 */	mr r11, r10
/* 8004D030 0004A030  3D 20 80 11 */	lis r9, lbl_8010E488@ha
/* 8004D034 0004A034  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D038 0004A038  C1 89 E4 88 */	lfs f12, lbl_8010E488@l(r9)
/* 8004D03C 0004A03C  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D040 0004A040  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D044 0004A044  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D048 0004A048  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D04C 0004A04C  FC 00 00 18 */	frsp f0, f0
/* 8004D050 0004A050  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D054 0004A054  D0 05 00 10 */	stfs f0, 0x10(r5)
/* 8004D058 0004A058  81 3F 00 90 */	lwz r9, 0x90(r31)
/* 8004D05C 0004A05C  81 5F 00 78 */	lwz r10, 0x78(r31)
/* 8004D060 0004A060  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D064 0004A064  7D 29 3A 14 */	add r9, r9, r7
/* 8004D068 0004A068  88 09 00 21 */	lbz r0, 0x21(r9)
/* 8004D06C 0004A06C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D070 0004A070  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D074 0004A074  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D078 0004A078  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D07C 0004A07C  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D080 0004A080  FC 00 00 18 */	frsp f0, f0
/* 8004D084 0004A084  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D088 0004A088  D0 0A 00 14 */	stfs f0, 0x14(r10)
/* 8004D08C 0004A08C  81 3F 00 90 */	lwz r9, 0x90(r31)
/* 8004D090 0004A090  81 5F 00 78 */	lwz r10, 0x78(r31)
/* 8004D094 0004A094  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D098 0004A098  7D 29 3A 14 */	add r9, r9, r7
/* 8004D09C 0004A09C  88 09 00 22 */	lbz r0, 0x22(r9)
/* 8004D0A0 0004A0A0  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D0A4 0004A0A4  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D0A8 0004A0A8  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D0AC 0004A0AC  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D0B0 0004A0B0  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D0B4 0004A0B4  FC 00 00 18 */	frsp f0, f0
/* 8004D0B8 0004A0B8  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D0BC 0004A0BC  D0 0A 00 18 */	stfs f0, 0x18(r10)
/* 8004D0C0 0004A0C0  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004D0C4 0004A0C4  D1 89 00 1C */	stfs f12, 0x1c(r9)
/* 8004D0C8 0004A0C8  48 00 00 30 */	b lbl_8004D0F8
lbl_8004D0CC:
/* 8004D0CC 0004A0CC  3D 20 80 11 */	lis r9, lbl_8010E498@ha
/* 8004D0D0 0004A0D0  3D 60 80 11 */	lis r11, lbl_8010E488@ha
/* 8004D0D4 0004A0D4  C0 09 E4 98 */	lfs f0, lbl_8010E498@l(r9)
/* 8004D0D8 0004A0D8  C1 AB E4 88 */	lfs f13, lbl_8010E488@l(r11)
/* 8004D0DC 0004A0DC  D0 05 00 10 */	stfs f0, 0x10(r5)
/* 8004D0E0 0004A0E0  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004D0E4 0004A0E4  D0 09 00 14 */	stfs f0, 0x14(r9)
/* 8004D0E8 0004A0E8  81 7F 00 78 */	lwz r11, 0x78(r31)
/* 8004D0EC 0004A0EC  D0 0B 00 18 */	stfs f0, 0x18(r11)
/* 8004D0F0 0004A0F0  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004D0F4 0004A0F4  D1 A9 00 1C */	stfs f13, 0x1c(r9)
lbl_8004D0F8:
/* 8004D0F8 0004A0F8  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004D0FC 0004A0FC  80 89 00 00 */	lwz r4, 0(r9)
/* 8004D100 0004A100  7D 25 4B 78 */	mr r5, r9
/* 8004D104 0004A104  2C 04 FF FF */	cmpwi r4, -1
/* 8004D108 0004A108  41 82 00 BC */	beq lbl_8004D1C4
/* 8004D10C 0004A10C  1D 64 00 48 */	mulli r11, r4, 0x48
/* 8004D110 0004A110  3D 20 80 34 */	lis r9, Lights@ha
/* 8004D114 0004A114  38 89 81 B8 */	addi r4, r9, Lights@l
/* 8004D118 0004A118  7C 04 58 2E */	lwzx r0, r4, r11
/* 8004D11C 0004A11C  2C 00 00 02 */	cmpwi r0, 2
/* 8004D120 0004A120  40 82 00 4C */	bne lbl_8004D16C
/* 8004D124 0004A124  38 84 00 04 */	addi r4, r4, 4
/* 8004D128 0004A128  38 61 00 08 */	addi r3, r1, 8
/* 8004D12C 0004A12C  7C 8B 22 14 */	add r4, r11, r4
/* 8004D130 0004A130  7F 65 DB 78 */	mr r5, r27
/* 8004D134 0004A134  48 07 46 3D */	bl NuVecSub
/* 8004D138 0004A138  38 61 00 08 */	addi r3, r1, 8
/* 8004D13C 0004A13C  7C 64 1B 78 */	mr r4, r3
/* 8004D140 0004A140  48 07 47 81 */	bl NuVecNorm
/* 8004D144 0004A144  81 5F 00 7C */	lwz r10, 0x7c(r31)
/* 8004D148 0004A148  39 21 00 08 */	addi r9, r1, 8
/* 8004D14C 0004A14C  81 01 00 08 */	lwz r8, 8(r1)
/* 8004D150 0004A150  80 E9 00 08 */	lwz r7, 8(r9)
/* 8004D154 0004A154  39 6A 00 04 */	addi r11, r10, 4
/* 8004D158 0004A158  80 09 00 04 */	lwz r0, 4(r9)
/* 8004D15C 0004A15C  91 0A 00 04 */	stw r8, 4(r10)
/* 8004D160 0004A160  90 EB 00 08 */	stw r7, 8(r11)
/* 8004D164 0004A164  90 0B 00 04 */	stw r0, 4(r11)
/* 8004D168 0004A168  48 00 00 28 */	b lbl_8004D190
lbl_8004D16C:
/* 8004D16C 0004A16C  7D 2B 22 14 */	add r9, r11, r4
/* 8004D170 0004A170  39 05 00 04 */	addi r8, r5, 4
/* 8004D174 0004A174  81 49 00 30 */	lwz r10, 0x30(r9)
/* 8004D178 0004A178  39 29 00 30 */	addi r9, r9, 0x30
/* 8004D17C 0004A17C  80 09 00 08 */	lwz r0, 8(r9)
/* 8004D180 0004A180  81 69 00 04 */	lwz r11, 4(r9)
/* 8004D184 0004A184  91 45 00 04 */	stw r10, 4(r5)
/* 8004D188 0004A188  90 08 00 08 */	stw r0, 8(r8)
/* 8004D18C 0004A18C  91 68 00 04 */	stw r11, 4(r8)
lbl_8004D190:
/* 8004D190 0004A190  80 7F 00 7C */	lwz r3, 0x7c(r31)
/* 8004D194 0004A194  3D 60 80 34 */	lis r11, Lights@ha
/* 8004D198 0004A198  39 6B 81 B8 */	addi r11, r11, Lights@l
/* 8004D19C 0004A19C  81 23 00 00 */	lwz r9, 0(r3)
/* 8004D1A0 0004A1A0  38 63 00 10 */	addi r3, r3, 0x10
/* 8004D1A4 0004A1A4  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D1A8 0004A1A8  7D 29 5A 14 */	add r9, r9, r11
/* 8004D1AC 0004A1AC  88 E9 00 3E */	lbz r7, 0x3e(r9)
/* 8004D1B0 0004A1B0  88 89 00 20 */	lbz r4, 0x20(r9)
/* 8004D1B4 0004A1B4  88 A9 00 21 */	lbz r5, 0x21(r9)
/* 8004D1B8 0004A1B8  88 C9 00 22 */	lbz r6, 0x22(r9)
/* 8004D1BC 0004A1BC  4B FF F7 91 */	bl ScaleColour
/* 8004D1C0 0004A1C0  48 00 01 40 */	b lbl_8004D300
lbl_8004D1C4:
/* 8004D1C4 0004A1C4  80 1F 00 90 */	lwz r0, 0x90(r31)
/* 8004D1C8 0004A1C8  7C 0A 03 78 */	mr r10, r0
/* 8004D1CC 0004A1CC  2C 00 FF FF */	cmpwi r0, -1
/* 8004D1D0 0004A1D0  41 82 01 04 */	beq lbl_8004D2D4
/* 8004D1D4 0004A1D4  1C 0A 00 48 */	mulli r0, r10, 0x48
/* 8004D1D8 0004A1D8  3D 60 80 34 */	lis r11, Lights@ha
/* 8004D1DC 0004A1DC  39 6B 81 B8 */	addi r11, r11, Lights@l
/* 8004D1E0 0004A1E0  7D 2B 00 2E */	lwzx r9, r11, r0
/* 8004D1E4 0004A1E4  39 29 FF FF */	addi r9, r9, -1
/* 8004D1E8 0004A1E8  28 09 00 01 */	cmplwi r9, 1
/* 8004D1EC 0004A1EC  41 81 00 E8 */	bgt lbl_8004D2D4
/* 8004D1F0 0004A1F0  89 6B FF F6 */	lbz r11, -0xa(r11)
/* 8004D1F4 0004A1F4  2C 0B 00 06 */	cmpwi r11, 6
/* 8004D1F8 0004A1F8  40 82 00 0C */	bne lbl_8004D204
/* 8004D1FC 0004A1FC  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004D200 0004A200  48 00 00 10 */	b lbl_8004D210
lbl_8004D204:
/* 8004D204 0004A204  2C 0B 00 07 */	cmpwi r11, 7
/* 8004D208 0004A208  40 82 00 08 */	bne lbl_8004D210
/* 8004D20C 0004A20C  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004D210:
/* 8004D210 0004A210  1D 2A 00 48 */	mulli r9, r10, 0x48
/* 8004D214 0004A214  3C E0 80 34 */	lis r7, Lights@ha
/* 8004D218 0004A218  38 E7 81 B8 */	addi r7, r7, Lights@l
/* 8004D21C 0004A21C  3C C0 43 30 */	lis r6, 0x4330
/* 8004D220 0004A220  3D 60 80 11 */	lis r11, lbl_8010E490@ha
/* 8004D224 0004A224  7D 48 53 78 */	mr r8, r10
/* 8004D228 0004A228  7D 29 3A 14 */	add r9, r9, r7
/* 8004D22C 0004A22C  C9 AB E4 90 */	lfd f13, lbl_8010E490@l(r11)
/* 8004D230 0004A230  88 09 00 20 */	lbz r0, 0x20(r9)
/* 8004D234 0004A234  7D 4B 53 78 */	mr r11, r10
/* 8004D238 0004A238  3D 20 80 11 */	lis r9, lbl_8010E488@ha
/* 8004D23C 0004A23C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D240 0004A240  C1 89 E4 88 */	lfs f12, lbl_8010E488@l(r9)
/* 8004D244 0004A244  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D248 0004A248  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D24C 0004A24C  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D250 0004A250  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D254 0004A254  FC 00 00 18 */	frsp f0, f0
/* 8004D258 0004A258  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D25C 0004A25C  D0 05 00 10 */	stfs f0, 0x10(r5)
/* 8004D260 0004A260  81 3F 00 90 */	lwz r9, 0x90(r31)
/* 8004D264 0004A264  81 5F 00 7C */	lwz r10, 0x7c(r31)
/* 8004D268 0004A268  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D26C 0004A26C  7D 29 3A 14 */	add r9, r9, r7
/* 8004D270 0004A270  88 09 00 21 */	lbz r0, 0x21(r9)
/* 8004D274 0004A274  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D278 0004A278  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D27C 0004A27C  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D280 0004A280  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D284 0004A284  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D288 0004A288  FC 00 00 18 */	frsp f0, f0
/* 8004D28C 0004A28C  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D290 0004A290  D0 0A 00 14 */	stfs f0, 0x14(r10)
/* 8004D294 0004A294  81 3F 00 90 */	lwz r9, 0x90(r31)
/* 8004D298 0004A298  81 5F 00 7C */	lwz r10, 0x7c(r31)
/* 8004D29C 0004A29C  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D2A0 0004A2A0  7D 29 3A 14 */	add r9, r9, r7
/* 8004D2A4 0004A2A4  88 09 00 22 */	lbz r0, 0x22(r9)
/* 8004D2A8 0004A2A8  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D2AC 0004A2AC  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D2B0 0004A2B0  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D2B4 0004A2B4  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D2B8 0004A2B8  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D2BC 0004A2BC  FC 00 00 18 */	frsp f0, f0
/* 8004D2C0 0004A2C0  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D2C4 0004A2C4  D0 0A 00 18 */	stfs f0, 0x18(r10)
/* 8004D2C8 0004A2C8  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004D2CC 0004A2CC  D1 89 00 1C */	stfs f12, 0x1c(r9)
/* 8004D2D0 0004A2D0  48 00 00 30 */	b lbl_8004D300
lbl_8004D2D4:
/* 8004D2D4 0004A2D4  3D 20 80 11 */	lis r9, lbl_8010E498@ha
/* 8004D2D8 0004A2D8  3D 60 80 11 */	lis r11, lbl_8010E488@ha
/* 8004D2DC 0004A2DC  C0 09 E4 98 */	lfs f0, lbl_8010E498@l(r9)
/* 8004D2E0 0004A2E0  C1 AB E4 88 */	lfs f13, lbl_8010E488@l(r11)
/* 8004D2E4 0004A2E4  D0 05 00 10 */	stfs f0, 0x10(r5)
/* 8004D2E8 0004A2E8  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004D2EC 0004A2EC  D0 09 00 14 */	stfs f0, 0x14(r9)
/* 8004D2F0 0004A2F0  81 7F 00 7C */	lwz r11, 0x7c(r31)
/* 8004D2F4 0004A2F4  D0 0B 00 18 */	stfs f0, 0x18(r11)
/* 8004D2F8 0004A2F8  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004D2FC 0004A2FC  D1 A9 00 1C */	stfs f13, 0x1c(r9)
lbl_8004D300:
/* 8004D300 0004A300  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004D304 0004A304  80 89 00 00 */	lwz r4, 0(r9)
/* 8004D308 0004A308  7D 25 4B 78 */	mr r5, r9
/* 8004D30C 0004A30C  2C 04 FF FF */	cmpwi r4, -1
/* 8004D310 0004A310  41 82 00 BC */	beq lbl_8004D3CC
/* 8004D314 0004A314  1D 64 00 48 */	mulli r11, r4, 0x48
/* 8004D318 0004A318  3D 20 80 34 */	lis r9, Lights@ha
/* 8004D31C 0004A31C  38 89 81 B8 */	addi r4, r9, Lights@l
/* 8004D320 0004A320  7C 04 58 2E */	lwzx r0, r4, r11
/* 8004D324 0004A324  2C 00 00 02 */	cmpwi r0, 2
/* 8004D328 0004A328  40 82 00 4C */	bne lbl_8004D374
/* 8004D32C 0004A32C  38 84 00 04 */	addi r4, r4, 4
/* 8004D330 0004A330  38 61 00 08 */	addi r3, r1, 8
/* 8004D334 0004A334  7C 8B 22 14 */	add r4, r11, r4
/* 8004D338 0004A338  7F 65 DB 78 */	mr r5, r27
/* 8004D33C 0004A33C  48 07 44 35 */	bl NuVecSub
/* 8004D340 0004A340  38 61 00 08 */	addi r3, r1, 8
/* 8004D344 0004A344  7C 64 1B 78 */	mr r4, r3
/* 8004D348 0004A348  48 07 45 79 */	bl NuVecNorm
/* 8004D34C 0004A34C  81 5F 00 80 */	lwz r10, 0x80(r31)
/* 8004D350 0004A350  39 21 00 08 */	addi r9, r1, 8
/* 8004D354 0004A354  81 01 00 08 */	lwz r8, 8(r1)
/* 8004D358 0004A358  80 E9 00 08 */	lwz r7, 8(r9)
/* 8004D35C 0004A35C  39 6A 00 04 */	addi r11, r10, 4
/* 8004D360 0004A360  80 09 00 04 */	lwz r0, 4(r9)
/* 8004D364 0004A364  91 0A 00 04 */	stw r8, 4(r10)
/* 8004D368 0004A368  90 EB 00 08 */	stw r7, 8(r11)
/* 8004D36C 0004A36C  90 0B 00 04 */	stw r0, 4(r11)
/* 8004D370 0004A370  48 00 00 28 */	b lbl_8004D398
lbl_8004D374:
/* 8004D374 0004A374  7D 2B 22 14 */	add r9, r11, r4
/* 8004D378 0004A378  39 05 00 04 */	addi r8, r5, 4
/* 8004D37C 0004A37C  81 49 00 30 */	lwz r10, 0x30(r9)
/* 8004D380 0004A380  39 29 00 30 */	addi r9, r9, 0x30
/* 8004D384 0004A384  80 09 00 08 */	lwz r0, 8(r9)
/* 8004D388 0004A388  81 69 00 04 */	lwz r11, 4(r9)
/* 8004D38C 0004A38C  91 45 00 04 */	stw r10, 4(r5)
/* 8004D390 0004A390  90 08 00 08 */	stw r0, 8(r8)
/* 8004D394 0004A394  91 68 00 04 */	stw r11, 4(r8)
lbl_8004D398:
/* 8004D398 0004A398  80 7F 00 80 */	lwz r3, 0x80(r31)
/* 8004D39C 0004A39C  3D 60 80 34 */	lis r11, Lights@ha
/* 8004D3A0 0004A3A0  39 6B 81 B8 */	addi r11, r11, Lights@l
/* 8004D3A4 0004A3A4  81 23 00 00 */	lwz r9, 0(r3)
/* 8004D3A8 0004A3A8  38 63 00 10 */	addi r3, r3, 0x10
/* 8004D3AC 0004A3AC  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D3B0 0004A3B0  7D 29 5A 14 */	add r9, r9, r11
/* 8004D3B4 0004A3B4  88 E9 00 3E */	lbz r7, 0x3e(r9)
/* 8004D3B8 0004A3B8  88 89 00 20 */	lbz r4, 0x20(r9)
/* 8004D3BC 0004A3BC  88 A9 00 21 */	lbz r5, 0x21(r9)
/* 8004D3C0 0004A3C0  88 C9 00 22 */	lbz r6, 0x22(r9)
/* 8004D3C4 0004A3C4  4B FF F5 89 */	bl ScaleColour
/* 8004D3C8 0004A3C8  48 00 01 40 */	b lbl_8004D508
lbl_8004D3CC:
/* 8004D3CC 0004A3CC  80 1F 00 90 */	lwz r0, 0x90(r31)
/* 8004D3D0 0004A3D0  7C 0A 03 78 */	mr r10, r0
/* 8004D3D4 0004A3D4  2C 00 FF FF */	cmpwi r0, -1
/* 8004D3D8 0004A3D8  41 82 01 04 */	beq lbl_8004D4DC
/* 8004D3DC 0004A3DC  1C 0A 00 48 */	mulli r0, r10, 0x48
/* 8004D3E0 0004A3E0  3D 60 80 34 */	lis r11, Lights@ha
/* 8004D3E4 0004A3E4  39 6B 81 B8 */	addi r11, r11, Lights@l
/* 8004D3E8 0004A3E8  7D 2B 00 2E */	lwzx r9, r11, r0
/* 8004D3EC 0004A3EC  39 29 FF FF */	addi r9, r9, -1
/* 8004D3F0 0004A3F0  28 09 00 01 */	cmplwi r9, 1
/* 8004D3F4 0004A3F4  41 81 00 E8 */	bgt lbl_8004D4DC
/* 8004D3F8 0004A3F8  89 6B FF F6 */	lbz r11, -0xa(r11)
/* 8004D3FC 0004A3FC  2C 0B 00 06 */	cmpwi r11, 6
/* 8004D400 0004A400  40 82 00 0C */	bne lbl_8004D40C
/* 8004D404 0004A404  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004D408 0004A408  48 00 00 10 */	b lbl_8004D418
lbl_8004D40C:
/* 8004D40C 0004A40C  2C 0B 00 07 */	cmpwi r11, 7
/* 8004D410 0004A410  40 82 00 08 */	bne lbl_8004D418
/* 8004D414 0004A414  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004D418:
/* 8004D418 0004A418  1D 2A 00 48 */	mulli r9, r10, 0x48
/* 8004D41C 0004A41C  3C E0 80 34 */	lis r7, Lights@ha
/* 8004D420 0004A420  38 E7 81 B8 */	addi r7, r7, Lights@l
/* 8004D424 0004A424  3C C0 43 30 */	lis r6, 0x4330
/* 8004D428 0004A428  3D 60 80 11 */	lis r11, lbl_8010E490@ha
/* 8004D42C 0004A42C  7D 48 53 78 */	mr r8, r10
/* 8004D430 0004A430  7D 29 3A 14 */	add r9, r9, r7
/* 8004D434 0004A434  C9 AB E4 90 */	lfd f13, lbl_8010E490@l(r11)
/* 8004D438 0004A438  88 09 00 20 */	lbz r0, 0x20(r9)
/* 8004D43C 0004A43C  7D 4B 53 78 */	mr r11, r10
/* 8004D440 0004A440  3D 20 80 11 */	lis r9, lbl_8010E488@ha
/* 8004D444 0004A444  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D448 0004A448  C1 89 E4 88 */	lfs f12, lbl_8010E488@l(r9)
/* 8004D44C 0004A44C  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D450 0004A450  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D454 0004A454  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D458 0004A458  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D45C 0004A45C  FC 00 00 18 */	frsp f0, f0
/* 8004D460 0004A460  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D464 0004A464  D0 05 00 10 */	stfs f0, 0x10(r5)
/* 8004D468 0004A468  81 3F 00 90 */	lwz r9, 0x90(r31)
/* 8004D46C 0004A46C  81 5F 00 80 */	lwz r10, 0x80(r31)
/* 8004D470 0004A470  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D474 0004A474  7D 29 3A 14 */	add r9, r9, r7
/* 8004D478 0004A478  88 09 00 21 */	lbz r0, 0x21(r9)
/* 8004D47C 0004A47C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D480 0004A480  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D484 0004A484  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D488 0004A488  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D48C 0004A48C  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D490 0004A490  FC 00 00 18 */	frsp f0, f0
/* 8004D494 0004A494  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D498 0004A498  D0 0A 00 14 */	stfs f0, 0x14(r10)
/* 8004D49C 0004A49C  81 3F 00 90 */	lwz r9, 0x90(r31)
/* 8004D4A0 0004A4A0  81 5F 00 80 */	lwz r10, 0x80(r31)
/* 8004D4A4 0004A4A4  1D 29 00 48 */	mulli r9, r9, 0x48
/* 8004D4A8 0004A4A8  7D 29 3A 14 */	add r9, r9, r7
/* 8004D4AC 0004A4AC  88 09 00 22 */	lbz r0, 0x22(r9)
/* 8004D4B0 0004A4B0  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D4B4 0004A4B4  90 01 00 2C */	stw r0, 0x2c(r1)
/* 8004D4B8 0004A4B8  90 C1 00 28 */	stw r6, 0x28(r1)
/* 8004D4BC 0004A4BC  C8 01 00 28 */	lfd f0, 0x28(r1)
/* 8004D4C0 0004A4C0  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D4C4 0004A4C4  FC 00 00 18 */	frsp f0, f0
/* 8004D4C8 0004A4C8  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8004D4CC 0004A4CC  D0 0A 00 18 */	stfs f0, 0x18(r10)
/* 8004D4D0 0004A4D0  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004D4D4 0004A4D4  D1 89 00 1C */	stfs f12, 0x1c(r9)
/* 8004D4D8 0004A4D8  48 00 00 30 */	b lbl_8004D508
lbl_8004D4DC:
/* 8004D4DC 0004A4DC  3D 20 80 11 */	lis r9, lbl_8010E498@ha
/* 8004D4E0 0004A4E0  3D 60 80 11 */	lis r11, lbl_8010E488@ha
/* 8004D4E4 0004A4E4  C0 09 E4 98 */	lfs f0, lbl_8010E498@l(r9)
/* 8004D4E8 0004A4E8  C1 AB E4 88 */	lfs f13, lbl_8010E488@l(r11)
/* 8004D4EC 0004A4EC  D0 05 00 10 */	stfs f0, 0x10(r5)
/* 8004D4F0 0004A4F0  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004D4F4 0004A4F4  D0 09 00 14 */	stfs f0, 0x14(r9)
/* 8004D4F8 0004A4F8  81 7F 00 80 */	lwz r11, 0x80(r31)
/* 8004D4FC 0004A4FC  D0 0B 00 18 */	stfs f0, 0x18(r11)
/* 8004D500 0004A500  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004D504 0004A504  D1 A9 00 1C */	stfs f13, 0x1c(r9)
lbl_8004D508:
/* 8004D508 0004A508  38 60 00 01 */	li r3, 1
lbl_8004D50C:
/* 8004D50C 0004A50C  80 01 00 64 */	lwz r0, 0x64(r1)
/* 8004D510 0004A510  7C 08 03 A6 */	mtlr r0
/* 8004D514 0004A514  BA E1 00 34 */	lmw r23, 0x34(r1)
/* 8004D518 0004A518  CB E1 00 58 */	lfd f31, 0x58(r1)
/* 8004D51C 0004A51C  38 21 00 60 */	addi r1, r1, 0x60
/* 8004D520 0004A520  4E 80 00 20 */	blr 

.global CalculateSingleLightProportion
CalculateSingleLightProportion:
/* 8004D524 0004A524  94 21 FF 88 */	stwu r1, -0x78(r1)
/* 8004D528 0004A528  7C 08 02 A6 */	mflr r0
/* 8004D52C 0004A52C  DB C1 00 68 */	stfd f30, 0x68(r1)
/* 8004D530 0004A530  DB E1 00 70 */	stfd f31, 0x70(r1)
/* 8004D534 0004A534  BF A1 00 5C */	stmw r29, 0x5c(r1)
/* 8004D538 0004A538  90 01 00 7C */	stw r0, 0x7c(r1)
/* 8004D53C 0004A53C  7C 9F 23 78 */	mr r31, r4
/* 8004D540 0004A540  3D 20 80 11 */	lis r9, lbl_8010E49C@ha
/* 8004D544 0004A544  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004D548 0004A548  7C 64 1B 78 */	mr r4, r3
/* 8004D54C 0004A54C  7C BE 2B 78 */	mr r30, r5
/* 8004D550 0004A550  C3 C9 E4 9C */	lfs f30, lbl_8010E49C@l(r9)
/* 8004D554 0004A554  2C 00 FF FF */	cmpwi r0, -1
/* 8004D558 0004A558  41 82 04 28 */	beq lbl_8004D980
/* 8004D55C 0004A55C  1C 60 00 48 */	mulli r3, r0, 0x48
/* 8004D560 0004A560  3D 20 80 34 */	lis r9, Lights_4_@ha
/* 8004D564 0004A564  3B A9 81 BC */	addi r29, r9, Lights_4_@l
/* 8004D568 0004A568  38 A0 00 00 */	li r5, 0
/* 8004D56C 0004A56C  7C 63 EA 14 */	add r3, r3, r29
/* 8004D570 0004A570  48 07 43 F9 */	bl NuVecDist
/* 8004D574 0004A574  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004D578 0004A578  39 3D 00 18 */	addi r9, r29, 0x18
/* 8004D57C 0004A57C  39 7D FF FC */	addi r11, r29, -4
/* 8004D580 0004A580  1C E0 00 48 */	mulli r7, r0, 0x48
/* 8004D584 0004A584  7C 09 3C 2E */	lfsx f0, r9, r7
/* 8004D588 0004A588  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004D58C 0004A58C  4C 62 03 82 */	cror 3, 2, 0
/* 8004D590 0004A590  40 83 02 FC */	bns lbl_8004D88C
/* 8004D594 0004A594  3D 20 80 11 */	lis r9, lbl_8010E4A0@ha
/* 8004D598 0004A598  2C 1E FF FF */	cmpwi r30, -1
/* 8004D59C 0004A59C  C1 A9 E4 A0 */	lfs f13, lbl_8010E4A0@l(r9)
/* 8004D5A0 0004A5A0  EC 0D 00 24 */	fdivs f0, f13, f0
/* 8004D5A4 0004A5A4  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004D5A8 0004A5A8  EC 2D 00 28 */	fsubs f1, f13, f0
/* 8004D5AC 0004A5AC  41 82 02 78 */	beq lbl_8004D824
/* 8004D5B0 0004A5B0  1D 3E 00 48 */	mulli r9, r30, 0x48
/* 8004D5B4 0004A5B4  EF CD 08 28 */	fsubs f30, f13, f1
/* 8004D5B8 0004A5B8  7C 89 5A 14 */	add r4, r9, r11
/* 8004D5BC 0004A5BC  7D 25 4B 78 */	mr r5, r9
/* 8004D5C0 0004A5C0  88 04 00 3E */	lbz r0, 0x3e(r4)
/* 8004D5C4 0004A5C4  2C 00 00 06 */	cmpwi r0, 6
/* 8004D5C8 0004A5C8  40 82 00 08 */	bne lbl_8004D5D0
/* 8004D5CC 0004A5CC  EF DE F0 2A */	fadds f30, f30, f30
lbl_8004D5D0:
/* 8004D5D0 0004A5D0  7D 27 5A 14 */	add r9, r7, r11
/* 8004D5D4 0004A5D4  88 09 00 3E */	lbz r0, 0x3e(r9)
/* 8004D5D8 0004A5D8  2C 00 00 06 */	cmpwi r0, 6
/* 8004D5DC 0004A5DC  40 82 00 08 */	bne lbl_8004D5E4
/* 8004D5E0 0004A5E0  EC 21 08 2A */	fadds f1, f1, f1
lbl_8004D5E4:
/* 8004D5E4 0004A5E4  88 09 00 23 */	lbz r0, 0x23(r9)
/* 8004D5E8 0004A5E8  2C 00 00 00 */	cmpwi r0, 0
/* 8004D5EC 0004A5EC  41 82 00 B4 */	beq lbl_8004D6A0
/* 8004D5F0 0004A5F0  88 04 00 20 */	lbz r0, 0x20(r4)
/* 8004D5F4 0004A5F4  3C C0 43 30 */	lis r6, 0x4330
/* 8004D5F8 0004A5F8  39 7D 00 3C */	addi r11, r29, 0x3c
/* 8004D5FC 0004A5FC  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D600 0004A600  3D 00 80 11 */	lis r8, lbl_8010E4A8@ha
/* 8004D604 0004A604  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D608 0004A608  7D 2A 4B 78 */	mr r10, r9
/* 8004D60C 0004A60C  7D 6B 38 2E */	lwzx r11, r11, r7
/* 8004D610 0004A610  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D614 0004A614  7D 27 4B 78 */	mr r7, r9
/* 8004D618 0004A618  C9 88 E4 A8 */	lfd f12, lbl_8010E4A8@l(r8)
/* 8004D61C 0004A61C  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D620 0004A620  C1 6D 84 A4 */	lfs f11, sf-_SDA_BASE_(r13)
/* 8004D624 0004A624  C1 AB 00 18 */	lfs f13, 0x18(r11)
/* 8004D628 0004A628  FC 00 60 28 */	fsub f0, f0, f12
/* 8004D62C 0004A62C  FC 00 00 18 */	frsp f0, f0
/* 8004D630 0004A630  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D634 0004A634  EC 00 02 F2 */	fmuls f0, f0, f11
/* 8004D638 0004A638  EC 00 6F BA */	fmadds f0, f0, f30, f13
/* 8004D63C 0004A63C  D0 1F 00 10 */	stfs f0, 0x10(r31)
/* 8004D640 0004A640  88 04 00 21 */	lbz r0, 0x21(r4)
/* 8004D644 0004A644  C1 AB 00 1C */	lfs f13, 0x1c(r11)
/* 8004D648 0004A648  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D64C 0004A64C  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D650 0004A650  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D654 0004A654  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D658 0004A658  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D65C 0004A65C  FC 00 60 28 */	fsub f0, f0, f12
/* 8004D660 0004A660  FC 00 00 18 */	frsp f0, f0
/* 8004D664 0004A664  EC 00 02 F2 */	fmuls f0, f0, f11
/* 8004D668 0004A668  EC 00 6F BA */	fmadds f0, f0, f30, f13
/* 8004D66C 0004A66C  D0 1F 00 14 */	stfs f0, 0x14(r31)
/* 8004D670 0004A670  88 04 00 22 */	lbz r0, 0x22(r4)
/* 8004D674 0004A674  C1 AB 00 20 */	lfs f13, 0x20(r11)
/* 8004D678 0004A678  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D67C 0004A67C  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D680 0004A680  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D684 0004A684  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D688 0004A688  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D68C 0004A68C  FC 00 60 28 */	fsub f0, f0, f12
/* 8004D690 0004A690  FC 00 00 18 */	frsp f0, f0
/* 8004D694 0004A694  EC 00 02 F2 */	fmuls f0, f0, f11
/* 8004D698 0004A698  EC 00 6F BA */	fmadds f0, f0, f30, f13
/* 8004D69C 0004A69C  48 00 00 A8 */	b lbl_8004D744
lbl_8004D6A0:
/* 8004D6A0 0004A6A0  88 04 00 20 */	lbz r0, 0x20(r4)
/* 8004D6A4 0004A6A4  3D 00 43 30 */	lis r8, 0x4330
/* 8004D6A8 0004A6A8  3D 20 80 11 */	lis r9, lbl_8010E4A8@ha
/* 8004D6AC 0004A6AC  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D6B0 0004A6B0  C9 89 E4 A8 */	lfd f12, lbl_8010E4A8@l(r9)
/* 8004D6B4 0004A6B4  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D6B8 0004A6B8  7D 69 5B 78 */	mr r9, r11
/* 8004D6BC 0004A6BC  C1 2D 84 A4 */	lfs f9, sf-_SDA_BASE_(r13)
/* 8004D6C0 0004A6C0  7D 6A 5B 78 */	mr r10, r11
/* 8004D6C4 0004A6C4  91 01 00 50 */	stw r8, 0x50(r1)
/* 8004D6C8 0004A6C8  C1 BF 00 10 */	lfs f13, 0x10(r31)
/* 8004D6CC 0004A6CC  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D6D0 0004A6D0  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D6D4 0004A6D4  C1 7F 00 14 */	lfs f11, 0x14(r31)
/* 8004D6D8 0004A6D8  FC 00 60 28 */	fsub f0, f0, f12
/* 8004D6DC 0004A6DC  C1 5F 00 18 */	lfs f10, 0x18(r31)
/* 8004D6E0 0004A6E0  FC 00 00 18 */	frsp f0, f0
/* 8004D6E4 0004A6E4  EC 00 02 72 */	fmuls f0, f0, f9
/* 8004D6E8 0004A6E8  EC 00 6F BA */	fmadds f0, f0, f30, f13
/* 8004D6EC 0004A6EC  D0 1F 00 10 */	stfs f0, 0x10(r31)
/* 8004D6F0 0004A6F0  ED 6B 00 72 */	fmuls f11, f11, f1
/* 8004D6F4 0004A6F4  ED 4A 00 72 */	fmuls f10, f10, f1
/* 8004D6F8 0004A6F8  88 04 00 21 */	lbz r0, 0x21(r4)
/* 8004D6FC 0004A6FC  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D700 0004A700  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D704 0004A704  91 01 00 50 */	stw r8, 0x50(r1)
/* 8004D708 0004A708  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D70C 0004A70C  FC 00 60 28 */	fsub f0, f0, f12
/* 8004D710 0004A710  FC 00 00 18 */	frsp f0, f0
/* 8004D714 0004A714  EC 00 02 72 */	fmuls f0, f0, f9
/* 8004D718 0004A718  EC 00 5F BA */	fmadds f0, f0, f30, f11
/* 8004D71C 0004A71C  D0 1F 00 14 */	stfs f0, 0x14(r31)
/* 8004D720 0004A720  88 04 00 22 */	lbz r0, 0x22(r4)
/* 8004D724 0004A724  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D728 0004A728  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D72C 0004A72C  91 01 00 50 */	stw r8, 0x50(r1)
/* 8004D730 0004A730  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D734 0004A734  FC 00 60 28 */	fsub f0, f0, f12
/* 8004D738 0004A738  FC 00 00 18 */	frsp f0, f0
/* 8004D73C 0004A73C  EC 00 02 72 */	fmuls f0, f0, f9
/* 8004D740 0004A740  EC 00 57 BA */	fmadds f0, f0, f30, f10
lbl_8004D744:
/* 8004D744 0004A744  D0 1F 00 18 */	stfs f0, 0x18(r31)
/* 8004D748 0004A748  80 1F 00 04 */	lwz r0, 4(r31)
/* 8004D74C 0004A74C  3B DF 00 04 */	addi r30, r31, 4
/* 8004D750 0004A750  81 7E 00 04 */	lwz r11, 4(r30)
/* 8004D754 0004A754  38 81 00 18 */	addi r4, r1, 0x18
/* 8004D758 0004A758  81 5E 00 08 */	lwz r10, 8(r30)
/* 8004D75C 0004A75C  3D 20 80 34 */	lis r9, Lights@ha
/* 8004D760 0004A760  90 01 00 18 */	stw r0, 0x18(r1)
/* 8004D764 0004A764  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004D768 0004A768  91 64 00 04 */	stw r11, 4(r4)
/* 8004D76C 0004A76C  7D 25 4A 14 */	add r9, r5, r9
/* 8004D770 0004A770  91 44 00 08 */	stw r10, 8(r4)
/* 8004D774 0004A774  39 09 00 30 */	addi r8, r9, 0x30
/* 8004D778 0004A778  81 49 00 30 */	lwz r10, 0x30(r9)
/* 8004D77C 0004A77C  39 61 00 28 */	addi r11, r1, 0x28
/* 8004D780 0004A780  C1 81 00 18 */	lfs f12, 0x18(r1)
/* 8004D784 0004A784  38 61 00 08 */	addi r3, r1, 8
/* 8004D788 0004A788  C1 A1 00 1C */	lfs f13, 0x1c(r1)
/* 8004D78C 0004A78C  7D 65 5B 78 */	mr r5, r11
/* 8004D790 0004A790  C0 01 00 20 */	lfs f0, 0x20(r1)
/* 8004D794 0004A794  ED 8C 00 72 */	fmuls f12, f12, f1
/* 8004D798 0004A798  81 28 00 08 */	lwz r9, 8(r8)
/* 8004D79C 0004A79C  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D7A0 0004A7A0  80 08 00 04 */	lwz r0, 4(r8)
/* 8004D7A4 0004A7A4  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004D7A8 0004A7A8  91 41 00 28 */	stw r10, 0x28(r1)
/* 8004D7AC 0004A7AC  D1 81 00 18 */	stfs f12, 0x18(r1)
/* 8004D7B0 0004A7B0  D1 A1 00 1C */	stfs f13, 0x1c(r1)
/* 8004D7B4 0004A7B4  D0 01 00 20 */	stfs f0, 0x20(r1)
/* 8004D7B8 0004A7B8  91 2B 00 08 */	stw r9, 8(r11)
/* 8004D7BC 0004A7BC  90 0B 00 04 */	stw r0, 4(r11)
/* 8004D7C0 0004A7C0  C0 01 00 28 */	lfs f0, 0x28(r1)
/* 8004D7C4 0004A7C4  C1 A1 00 2C */	lfs f13, 0x2c(r1)
/* 8004D7C8 0004A7C8  C1 81 00 30 */	lfs f12, 0x30(r1)
/* 8004D7CC 0004A7CC  EC 00 07 B2 */	fmuls f0, f0, f30
/* 8004D7D0 0004A7D0  ED AD 07 B2 */	fmuls f13, f13, f30
/* 8004D7D4 0004A7D4  D0 01 00 28 */	stfs f0, 0x28(r1)
/* 8004D7D8 0004A7D8  ED 8C 07 B2 */	fmuls f12, f12, f30
/* 8004D7DC 0004A7DC  D1 A1 00 2C */	stfs f13, 0x2c(r1)
/* 8004D7E0 0004A7E0  D1 81 00 30 */	stfs f12, 0x30(r1)
/* 8004D7E4 0004A7E4  48 07 3F 59 */	bl NuVecAdd
/* 8004D7E8 0004A7E8  38 61 00 08 */	addi r3, r1, 8
/* 8004D7EC 0004A7EC  7C 64 1B 78 */	mr r4, r3
/* 8004D7F0 0004A7F0  48 07 40 D1 */	bl NuVecNorm
/* 8004D7F4 0004A7F4  3D 20 80 11 */	lis r9, lbl_8010E49C@ha
/* 8004D7F8 0004A7F8  C0 09 E4 9C */	lfs f0, lbl_8010E49C@l(r9)
/* 8004D7FC 0004A7FC  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004D800 0004A800  40 81 02 7C */	ble lbl_8004DA7C
/* 8004D804 0004A804  80 01 00 08 */	lwz r0, 8(r1)
/* 8004D808 0004A808  39 21 00 08 */	addi r9, r1, 8
/* 8004D80C 0004A80C  81 69 00 08 */	lwz r11, 8(r9)
/* 8004D810 0004A810  81 49 00 04 */	lwz r10, 4(r9)
/* 8004D814 0004A814  90 1F 00 04 */	stw r0, 4(r31)
/* 8004D818 0004A818  91 7E 00 08 */	stw r11, 8(r30)
/* 8004D81C 0004A81C  91 5E 00 04 */	stw r10, 4(r30)
/* 8004D820 0004A820  48 00 02 5C */	b lbl_8004DA7C
lbl_8004D824:
/* 8004D824 0004A824  7D 27 5A 14 */	add r9, r7, r11
/* 8004D828 0004A828  88 09 00 23 */	lbz r0, 0x23(r9)
/* 8004D82C 0004A82C  2C 00 00 00 */	cmpwi r0, 0
/* 8004D830 0004A830  41 82 00 34 */	beq lbl_8004D864
/* 8004D834 0004A834  39 3D 00 3C */	addi r9, r29, 0x3c
/* 8004D838 0004A838  7D 69 38 2E */	lwzx r11, r9, r7
/* 8004D83C 0004A83C  C0 0B 00 18 */	lfs f0, 0x18(r11)
/* 8004D840 0004A840  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004D844 0004A844  D0 1F 00 10 */	stfs f0, 0x10(r31)
/* 8004D848 0004A848  C1 AB 00 1C */	lfs f13, 0x1c(r11)
/* 8004D84C 0004A84C  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D850 0004A850  D1 BF 00 14 */	stfs f13, 0x14(r31)
/* 8004D854 0004A854  C0 0B 00 20 */	lfs f0, 0x20(r11)
/* 8004D858 0004A858  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004D85C 0004A85C  D0 1F 00 18 */	stfs f0, 0x18(r31)
/* 8004D860 0004A860  48 00 02 1C */	b lbl_8004DA7C
lbl_8004D864:
/* 8004D864 0004A864  C0 1F 00 10 */	lfs f0, 0x10(r31)
/* 8004D868 0004A868  C1 BF 00 14 */	lfs f13, 0x14(r31)
/* 8004D86C 0004A86C  C1 9F 00 18 */	lfs f12, 0x18(r31)
/* 8004D870 0004A870  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004D874 0004A874  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004D878 0004A878  D0 1F 00 10 */	stfs f0, 0x10(r31)
/* 8004D87C 0004A87C  ED 8C 00 72 */	fmuls f12, f12, f1
/* 8004D880 0004A880  D1 BF 00 14 */	stfs f13, 0x14(r31)
/* 8004D884 0004A884  D1 9F 00 18 */	stfs f12, 0x18(r31)
/* 8004D888 0004A888  48 00 01 F4 */	b lbl_8004DA7C
lbl_8004D88C:
/* 8004D88C 0004A88C  2C 1E FF FF */	cmpwi r30, -1
/* 8004D890 0004A890  41 82 00 E0 */	beq lbl_8004D970
/* 8004D894 0004A894  1C 1E 00 48 */	mulli r0, r30, 0x48
/* 8004D898 0004A898  7D 20 5A 14 */	add r9, r0, r11
/* 8004D89C 0004A89C  7C 05 03 78 */	mr r5, r0
/* 8004D8A0 0004A8A0  88 09 00 3E */	lbz r0, 0x3e(r9)
/* 8004D8A4 0004A8A4  2C 00 00 06 */	cmpwi r0, 6
/* 8004D8A8 0004A8A8  40 82 00 0C */	bne lbl_8004D8B4
/* 8004D8AC 0004A8AC  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004D8B0 0004A8B0  48 00 00 10 */	b lbl_8004D8C0
lbl_8004D8B4:
/* 8004D8B4 0004A8B4  2C 00 00 07 */	cmpwi r0, 7
/* 8004D8B8 0004A8B8  40 82 00 08 */	bne lbl_8004D8C0
/* 8004D8BC 0004A8BC  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004D8C0:
/* 8004D8C0 0004A8C0  3D 20 80 34 */	lis r9, Lights@ha
/* 8004D8C4 0004A8C4  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004D8C8 0004A8C8  3C C0 43 30 */	lis r6, 0x4330
/* 8004D8CC 0004A8CC  7D 25 4A 14 */	add r9, r5, r9
/* 8004D8D0 0004A8D0  3D 60 80 11 */	lis r11, lbl_8010E4A8@ha
/* 8004D8D4 0004A8D4  88 09 00 20 */	lbz r0, 0x20(r9)
/* 8004D8D8 0004A8D8  7D 48 53 78 */	mr r8, r10
/* 8004D8DC 0004A8DC  C9 AB E4 A8 */	lfd f13, lbl_8010E4A8@l(r11)
/* 8004D8E0 0004A8E0  7D 47 53 78 */	mr r7, r10
/* 8004D8E4 0004A8E4  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D8E8 0004A8E8  38 A9 00 30 */	addi r5, r9, 0x30
/* 8004D8EC 0004A8EC  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D8F0 0004A8F0  38 9F 00 04 */	addi r4, r31, 4
/* 8004D8F4 0004A8F4  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D8F8 0004A8F8  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D8FC 0004A8FC  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D900 0004A900  FC 00 00 18 */	frsp f0, f0
/* 8004D904 0004A904  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004D908 0004A908  D0 1F 00 10 */	stfs f0, 0x10(r31)
/* 8004D90C 0004A90C  88 09 00 21 */	lbz r0, 0x21(r9)
/* 8004D910 0004A910  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D914 0004A914  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D918 0004A918  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D91C 0004A91C  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D920 0004A920  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D924 0004A924  FC 00 00 18 */	frsp f0, f0
/* 8004D928 0004A928  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004D92C 0004A92C  D0 1F 00 14 */	stfs f0, 0x14(r31)
/* 8004D930 0004A930  88 09 00 22 */	lbz r0, 0x22(r9)
/* 8004D934 0004A934  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D938 0004A938  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D93C 0004A93C  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D940 0004A940  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004D944 0004A944  FC 00 68 28 */	fsub f0, f0, f13
/* 8004D948 0004A948  FC 00 00 18 */	frsp f0, f0
/* 8004D94C 0004A94C  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004D950 0004A950  D0 1F 00 18 */	stfs f0, 0x18(r31)
/* 8004D954 0004A954  80 09 00 30 */	lwz r0, 0x30(r9)
/* 8004D958 0004A958  81 65 00 08 */	lwz r11, 8(r5)
/* 8004D95C 0004A95C  81 25 00 04 */	lwz r9, 4(r5)
/* 8004D960 0004A960  90 1F 00 04 */	stw r0, 4(r31)
/* 8004D964 0004A964  91 64 00 08 */	stw r11, 8(r4)
/* 8004D968 0004A968  91 24 00 04 */	stw r9, 4(r4)
/* 8004D96C 0004A96C  48 00 01 10 */	b lbl_8004DA7C
lbl_8004D970:
/* 8004D970 0004A970  D3 DF 00 18 */	stfs f30, 0x18(r31)
/* 8004D974 0004A974  D3 DF 00 10 */	stfs f30, 0x10(r31)
/* 8004D978 0004A978  D3 DF 00 14 */	stfs f30, 0x14(r31)
/* 8004D97C 0004A97C  48 00 01 00 */	b lbl_8004DA7C
lbl_8004D980:
/* 8004D980 0004A980  2C 1E FF FF */	cmpwi r30, -1
/* 8004D984 0004A984  41 82 00 F8 */	beq lbl_8004DA7C
/* 8004D988 0004A988  1C 1E 00 48 */	mulli r0, r30, 0x48
/* 8004D98C 0004A98C  3D 20 80 34 */	lis r9, Lights@ha
/* 8004D990 0004A990  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004D994 0004A994  7D 20 4A 14 */	add r9, r0, r9
/* 8004D998 0004A998  7C 05 03 78 */	mr r5, r0
/* 8004D99C 0004A99C  88 09 00 3E */	lbz r0, 0x3e(r9)
/* 8004D9A0 0004A9A0  2C 00 00 06 */	cmpwi r0, 6
/* 8004D9A4 0004A9A4  40 82 00 0C */	bne lbl_8004D9B0
/* 8004D9A8 0004A9A8  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004D9AC 0004A9AC  48 00 00 10 */	b lbl_8004D9BC
lbl_8004D9B0:
/* 8004D9B0 0004A9B0  2C 00 00 07 */	cmpwi r0, 7
/* 8004D9B4 0004A9B4  40 82 00 08 */	bne lbl_8004D9BC
/* 8004D9B8 0004A9B8  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004D9BC:
/* 8004D9BC 0004A9BC  3D 20 80 34 */	lis r9, Lights@ha
/* 8004D9C0 0004A9C0  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004D9C4 0004A9C4  3C C0 43 30 */	lis r6, 0x4330
/* 8004D9C8 0004A9C8  7D 25 4A 14 */	add r9, r5, r9
/* 8004D9CC 0004A9CC  3D 60 80 11 */	lis r11, lbl_8010E4A8@ha
/* 8004D9D0 0004A9D0  88 09 00 20 */	lbz r0, 0x20(r9)
/* 8004D9D4 0004A9D4  3D 00 80 11 */	lis r8, lbl_8010E4B0@ha
/* 8004D9D8 0004A9D8  C9 AB E4 A8 */	lfd f13, lbl_8010E4A8@l(r11)
/* 8004D9DC 0004A9DC  7D 47 53 78 */	mr r7, r10
/* 8004D9E0 0004A9E0  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004D9E4 0004A9E4  C1 88 E4 B0 */	lfs f12, lbl_8010E4B0@l(r8)
/* 8004D9E8 0004A9E8  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004D9EC 0004A9EC  7D 4B 53 78 */	mr r11, r10
/* 8004D9F0 0004A9F0  39 09 00 30 */	addi r8, r9, 0x30
/* 8004D9F4 0004A9F4  38 BF 00 04 */	addi r5, r31, 4
/* 8004D9F8 0004A9F8  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004D9FC 0004A9FC  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004DA00 0004AA00  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DA04 0004AA04  FC 00 00 18 */	frsp f0, f0
/* 8004DA08 0004AA08  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DA0C 0004AA0C  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004DA10 0004AA10  D0 1F 00 10 */	stfs f0, 0x10(r31)
/* 8004DA14 0004AA14  88 09 00 21 */	lbz r0, 0x21(r9)
/* 8004DA18 0004AA18  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DA1C 0004AA1C  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004DA20 0004AA20  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004DA24 0004AA24  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004DA28 0004AA28  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DA2C 0004AA2C  FC 00 00 18 */	frsp f0, f0
/* 8004DA30 0004AA30  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DA34 0004AA34  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004DA38 0004AA38  D0 1F 00 14 */	stfs f0, 0x14(r31)
/* 8004DA3C 0004AA3C  88 09 00 22 */	lbz r0, 0x22(r9)
/* 8004DA40 0004AA40  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DA44 0004AA44  90 01 00 54 */	stw r0, 0x54(r1)
/* 8004DA48 0004AA48  90 C1 00 50 */	stw r6, 0x50(r1)
/* 8004DA4C 0004AA4C  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 8004DA50 0004AA50  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DA54 0004AA54  FC 00 00 18 */	frsp f0, f0
/* 8004DA58 0004AA58  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DA5C 0004AA5C  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004DA60 0004AA60  D0 1F 00 18 */	stfs f0, 0x18(r31)
/* 8004DA64 0004AA64  80 09 00 30 */	lwz r0, 0x30(r9)
/* 8004DA68 0004AA68  81 68 00 08 */	lwz r11, 8(r8)
/* 8004DA6C 0004AA6C  81 28 00 04 */	lwz r9, 4(r8)
/* 8004DA70 0004AA70  90 1F 00 04 */	stw r0, 4(r31)
/* 8004DA74 0004AA74  91 65 00 08 */	stw r11, 8(r5)
/* 8004DA78 0004AA78  91 25 00 04 */	stw r9, 4(r5)
lbl_8004DA7C:
/* 8004DA7C 0004AA7C  80 01 00 7C */	lwz r0, 0x7c(r1)
/* 8004DA80 0004AA80  7C 08 03 A6 */	mtlr r0
/* 8004DA84 0004AA84  BB A1 00 5C */	lmw r29, 0x5c(r1)
/* 8004DA88 0004AA88  CB C1 00 68 */	lfd f30, 0x68(r1)
/* 8004DA8C 0004AA8C  CB E1 00 70 */	lfd f31, 0x70(r1)
/* 8004DA90 0004AA90  38 21 00 78 */	addi r1, r1, 0x78
/* 8004DA94 0004AA94  4E 80 00 20 */	blr 

.global FindLightProportion
FindLightProportion:
/* 8004DA98 0004AA98  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 8004DA9C 0004AA9C  7C 08 02 A6 */	mflr r0
/* 8004DAA0 0004AAA0  DB C1 00 38 */	stfd f30, 0x38(r1)
/* 8004DAA4 0004AAA4  DB E1 00 40 */	stfd f31, 0x40(r1)
/* 8004DAA8 0004AAA8  BF A1 00 2C */	stmw r29, 0x2c(r1)
/* 8004DAAC 0004AAAC  90 01 00 4C */	stw r0, 0x4c(r1)
/* 8004DAB0 0004AAB0  7C 9F 23 78 */	mr r31, r4
/* 8004DAB4 0004AAB4  3D 20 80 11 */	lis r9, lbl_8010E4B4@ha
/* 8004DAB8 0004AAB8  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004DABC 0004AABC  7C 7D 1B 78 */	mr r29, r3
/* 8004DAC0 0004AAC0  C3 C9 E4 B4 */	lfs f30, lbl_8010E4B4@l(r9)
/* 8004DAC4 0004AAC4  2C 00 FF FF */	cmpwi r0, -1
/* 8004DAC8 0004AAC8  41 82 02 28 */	beq lbl_8004DCF0
/* 8004DACC 0004AACC  1C 60 00 48 */	mulli r3, r0, 0x48
/* 8004DAD0 0004AAD0  3D 20 80 34 */	lis r9, Lights_4_@ha
/* 8004DAD4 0004AAD4  3B C9 81 BC */	addi r30, r9, Lights_4_@l
/* 8004DAD8 0004AAD8  7F A4 EB 78 */	mr r4, r29
/* 8004DADC 0004AADC  38 A0 00 00 */	li r5, 0
/* 8004DAE0 0004AAE0  7C 63 F2 14 */	add r3, r3, r30
/* 8004DAE4 0004AAE4  48 07 3E 85 */	bl NuVecDist
/* 8004DAE8 0004AAE8  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004DAEC 0004AAEC  39 3E 00 18 */	addi r9, r30, 0x18
/* 8004DAF0 0004AAF0  39 5E FF FC */	addi r10, r30, -4
/* 8004DAF4 0004AAF4  1D 60 00 48 */	mulli r11, r0, 0x48
/* 8004DAF8 0004AAF8  7C 09 5C 2E */	lfsx f0, r9, r11
/* 8004DAFC 0004AAFC  FC 01 00 00 */	fcmpu cr0, f1, f0
/* 8004DB00 0004AB00  4C 62 03 82 */	cror 3, 2, 0
/* 8004DB04 0004AB04  40 83 01 B4 */	bns lbl_8004DCB8
/* 8004DB08 0004AB08  3D 20 80 11 */	lis r9, lbl_8010E4B8@ha
/* 8004DB0C 0004AB0C  80 1F 00 84 */	lwz r0, 0x84(r31)
/* 8004DB10 0004AB10  C1 A9 E4 B8 */	lfs f13, lbl_8010E4B8@l(r9)
/* 8004DB14 0004AB14  2C 00 FF FF */	cmpwi r0, -1
/* 8004DB18 0004AB18  EC 0D 00 24 */	fdivs f0, f13, f0
/* 8004DB1C 0004AB1C  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DB20 0004AB20  EC 2D 00 28 */	fsubs f1, f13, f0
/* 8004DB24 0004AB24  41 82 01 30 */	beq lbl_8004DC54
/* 8004DB28 0004AB28  1D 20 00 48 */	mulli r9, r0, 0x48
/* 8004DB2C 0004AB2C  ED 0D 08 28 */	fsubs f8, f13, f1
/* 8004DB30 0004AB30  7C E9 52 14 */	add r7, r9, r10
/* 8004DB34 0004AB34  88 07 00 3E */	lbz r0, 0x3e(r7)
/* 8004DB38 0004AB38  2C 00 00 06 */	cmpwi r0, 6
/* 8004DB3C 0004AB3C  40 82 00 08 */	bne lbl_8004DB44
/* 8004DB40 0004AB40  ED 08 40 2A */	fadds f8, f8, f8
lbl_8004DB44:
/* 8004DB44 0004AB44  7D 2B 52 14 */	add r9, r11, r10
/* 8004DB48 0004AB48  88 09 00 3E */	lbz r0, 0x3e(r9)
/* 8004DB4C 0004AB4C  2C 00 00 06 */	cmpwi r0, 6
/* 8004DB50 0004AB50  40 82 00 08 */	bne lbl_8004DB58
/* 8004DB54 0004AB54  EC 21 08 2A */	fadds f1, f1, f1
lbl_8004DB58:
/* 8004DB58 0004AB58  88 09 00 23 */	lbz r0, 0x23(r9)
/* 8004DB5C 0004AB5C  2C 00 00 00 */	cmpwi r0, 0
/* 8004DB60 0004AB60  41 82 00 4C */	beq lbl_8004DBAC
/* 8004DB64 0004AB64  39 3E 00 3C */	addi r9, r30, 0x3c
/* 8004DB68 0004AB68  C1 8D 84 A4 */	lfs f12, sf-_SDA_BASE_(r13)
/* 8004DB6C 0004AB6C  7D 29 58 2E */	lwzx r9, r9, r11
/* 8004DB70 0004AB70  C0 09 00 18 */	lfs f0, 0x18(r9)
/* 8004DB74 0004AB74  ED A0 00 72 */	fmuls f13, f0, f1
/* 8004DB78 0004AB78  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DB7C 0004AB7C  EC 00 6A 3A */	fmadds f0, f0, f8, f13
/* 8004DB80 0004AB80  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DB84 0004AB84  C1 A9 00 1C */	lfs f13, 0x1c(r9)
/* 8004DB88 0004AB88  EC 0D 00 72 */	fmuls f0, f13, f1
/* 8004DB8C 0004AB8C  ED AD 03 32 */	fmuls f13, f13, f12
/* 8004DB90 0004AB90  ED AD 02 3A */	fmadds f13, f13, f8, f0
/* 8004DB94 0004AB94  D1 BF 00 08 */	stfs f13, 8(r31)
/* 8004DB98 0004AB98  C0 09 00 20 */	lfs f0, 0x20(r9)
/* 8004DB9C 0004AB9C  ED A0 00 72 */	fmuls f13, f0, f1
/* 8004DBA0 0004ABA0  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DBA4 0004ABA4  EC 00 6A 3A */	fmadds f0, f0, f8, f13
/* 8004DBA8 0004ABA8  48 00 02 14 */	b lbl_8004DDBC
lbl_8004DBAC:
/* 8004DBAC 0004ABAC  88 07 00 20 */	lbz r0, 0x20(r7)
/* 8004DBB0 0004ABB0  3D 00 43 30 */	lis r8, 0x4330
/* 8004DBB4 0004ABB4  3D 20 80 11 */	lis r9, lbl_8010E4C0@ha
/* 8004DBB8 0004ABB8  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DBBC 0004ABBC  C9 89 E4 C0 */	lfd f12, lbl_8010E4C0@l(r9)
/* 8004DBC0 0004ABC0  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DBC4 0004ABC4  7D 69 5B 78 */	mr r9, r11
/* 8004DBC8 0004ABC8  C1 2D 84 A4 */	lfs f9, sf-_SDA_BASE_(r13)
/* 8004DBCC 0004ABCC  7D 6A 5B 78 */	mr r10, r11
/* 8004DBD0 0004ABD0  91 01 00 20 */	stw r8, 0x20(r1)
/* 8004DBD4 0004ABD4  C1 BF 00 04 */	lfs f13, 4(r31)
/* 8004DBD8 0004ABD8  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DBDC 0004ABDC  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004DBE0 0004ABE0  C1 7F 00 08 */	lfs f11, 8(r31)
/* 8004DBE4 0004ABE4  FC 00 60 28 */	fsub f0, f0, f12
/* 8004DBE8 0004ABE8  C1 5F 00 0C */	lfs f10, 0xc(r31)
/* 8004DBEC 0004ABEC  FC 00 00 18 */	frsp f0, f0
/* 8004DBF0 0004ABF0  EC 00 02 72 */	fmuls f0, f0, f9
/* 8004DBF4 0004ABF4  EC 00 6A 3A */	fmadds f0, f0, f8, f13
/* 8004DBF8 0004ABF8  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DBFC 0004ABFC  ED 6B 00 72 */	fmuls f11, f11, f1
/* 8004DC00 0004AC00  ED 4A 00 72 */	fmuls f10, f10, f1
/* 8004DC04 0004AC04  88 07 00 21 */	lbz r0, 0x21(r7)
/* 8004DC08 0004AC08  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DC0C 0004AC0C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DC10 0004AC10  91 01 00 20 */	stw r8, 0x20(r1)
/* 8004DC14 0004AC14  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DC18 0004AC18  FC 00 60 28 */	fsub f0, f0, f12
/* 8004DC1C 0004AC1C  FC 00 00 18 */	frsp f0, f0
/* 8004DC20 0004AC20  EC 00 02 72 */	fmuls f0, f0, f9
/* 8004DC24 0004AC24  EC 00 5A 3A */	fmadds f0, f0, f8, f11
/* 8004DC28 0004AC28  D0 1F 00 08 */	stfs f0, 8(r31)
/* 8004DC2C 0004AC2C  88 07 00 22 */	lbz r0, 0x22(r7)
/* 8004DC30 0004AC30  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DC34 0004AC34  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DC38 0004AC38  91 01 00 20 */	stw r8, 0x20(r1)
/* 8004DC3C 0004AC3C  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DC40 0004AC40  FC 00 60 28 */	fsub f0, f0, f12
/* 8004DC44 0004AC44  FC 00 00 18 */	frsp f0, f0
/* 8004DC48 0004AC48  EC 00 02 72 */	fmuls f0, f0, f9
/* 8004DC4C 0004AC4C  EC 00 52 3A */	fmadds f0, f0, f8, f10
/* 8004DC50 0004AC50  48 00 01 6C */	b lbl_8004DDBC
lbl_8004DC54:
/* 8004DC54 0004AC54  7D 2B 52 14 */	add r9, r11, r10
/* 8004DC58 0004AC58  88 09 00 23 */	lbz r0, 0x23(r9)
/* 8004DC5C 0004AC5C  2C 00 00 00 */	cmpwi r0, 0
/* 8004DC60 0004AC60  41 82 00 30 */	beq lbl_8004DC90
/* 8004DC64 0004AC64  39 3E 00 3C */	addi r9, r30, 0x3c
/* 8004DC68 0004AC68  7D 29 58 2E */	lwzx r9, r9, r11
/* 8004DC6C 0004AC6C  C0 09 00 18 */	lfs f0, 0x18(r9)
/* 8004DC70 0004AC70  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DC74 0004AC74  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DC78 0004AC78  C1 A9 00 1C */	lfs f13, 0x1c(r9)
/* 8004DC7C 0004AC7C  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004DC80 0004AC80  D1 BF 00 08 */	stfs f13, 8(r31)
/* 8004DC84 0004AC84  C0 09 00 20 */	lfs f0, 0x20(r9)
/* 8004DC88 0004AC88  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DC8C 0004AC8C  48 00 01 30 */	b lbl_8004DDBC
lbl_8004DC90:
/* 8004DC90 0004AC90  C0 1F 00 04 */	lfs f0, 4(r31)
/* 8004DC94 0004AC94  C1 BF 00 08 */	lfs f13, 8(r31)
/* 8004DC98 0004AC98  C1 9F 00 0C */	lfs f12, 0xc(r31)
/* 8004DC9C 0004AC9C  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DCA0 0004ACA0  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004DCA4 0004ACA4  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DCA8 0004ACA8  ED 8C 00 72 */	fmuls f12, f12, f1
/* 8004DCAC 0004ACAC  D1 BF 00 08 */	stfs f13, 8(r31)
/* 8004DCB0 0004ACB0  D1 9F 00 0C */	stfs f12, 0xc(r31)
/* 8004DCB4 0004ACB4  48 00 01 0C */	b lbl_8004DDC0
lbl_8004DCB8:
/* 8004DCB8 0004ACB8  80 1F 00 84 */	lwz r0, 0x84(r31)
/* 8004DCBC 0004ACBC  7C 07 03 78 */	mr r7, r0
/* 8004DCC0 0004ACC0  2C 00 FF FF */	cmpwi r0, -1
/* 8004DCC4 0004ACC4  41 82 00 1C */	beq lbl_8004DCE0
/* 8004DCC8 0004ACC8  1D 27 00 48 */	mulli r9, r7, 0x48
/* 8004DCCC 0004ACCC  7D 29 52 14 */	add r9, r9, r10
/* 8004DCD0 0004ACD0  88 09 00 3E */	lbz r0, 0x3e(r9)
/* 8004DCD4 0004ACD4  2C 00 00 06 */	cmpwi r0, 6
/* 8004DCD8 0004ACD8  41 82 00 44 */	beq lbl_8004DD1C
/* 8004DCDC 0004ACDC  48 00 00 48 */	b lbl_8004DD24
lbl_8004DCE0:
/* 8004DCE0 0004ACE0  D3 DF 00 04 */	stfs f30, 4(r31)
/* 8004DCE4 0004ACE4  D3 DF 00 08 */	stfs f30, 8(r31)
/* 8004DCE8 0004ACE8  D3 DF 00 0C */	stfs f30, 0xc(r31)
/* 8004DCEC 0004ACEC  48 00 00 D4 */	b lbl_8004DDC0
lbl_8004DCF0:
/* 8004DCF0 0004ACF0  80 1F 00 84 */	lwz r0, 0x84(r31)
/* 8004DCF4 0004ACF4  7C 07 03 78 */	mr r7, r0
/* 8004DCF8 0004ACF8  2C 00 FF FF */	cmpwi r0, -1
/* 8004DCFC 0004ACFC  41 82 00 C4 */	beq lbl_8004DDC0
/* 8004DD00 0004AD00  1D 67 00 48 */	mulli r11, r7, 0x48
/* 8004DD04 0004AD04  3D 20 80 34 */	lis r9, Lights@ha
/* 8004DD08 0004AD08  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004DD0C 0004AD0C  7D 6B 4A 14 */	add r11, r11, r9
/* 8004DD10 0004AD10  88 0B 00 3E */	lbz r0, 0x3e(r11)
/* 8004DD14 0004AD14  2C 00 00 06 */	cmpwi r0, 6
/* 8004DD18 0004AD18  40 82 00 0C */	bne lbl_8004DD24
lbl_8004DD1C:
/* 8004DD1C 0004AD1C  C3 ED 84 A8 */	lfs f31, sf2-_SDA_BASE_(r13)
/* 8004DD20 0004AD20  48 00 00 10 */	b lbl_8004DD30
lbl_8004DD24:
/* 8004DD24 0004AD24  2C 00 00 07 */	cmpwi r0, 7
/* 8004DD28 0004AD28  40 82 00 08 */	bne lbl_8004DD30
/* 8004DD2C 0004AD2C  C3 ED 84 A4 */	lfs f31, sf-_SDA_BASE_(r13)
lbl_8004DD30:
/* 8004DD30 0004AD30  1C E7 00 48 */	mulli r7, r7, 0x48
/* 8004DD34 0004AD34  3D 20 80 34 */	lis r9, Lights@ha
/* 8004DD38 0004AD38  39 29 81 B8 */	addi r9, r9, Lights@l
/* 8004DD3C 0004AD3C  3C C0 43 30 */	lis r6, 0x4330
/* 8004DD40 0004AD40  3D 40 80 11 */	lis r10, lbl_8010E4C0@ha
/* 8004DD44 0004AD44  7D 68 5B 78 */	mr r8, r11
/* 8004DD48 0004AD48  7C E7 4A 14 */	add r7, r7, r9
/* 8004DD4C 0004AD4C  C9 AA E4 C0 */	lfd f13, lbl_8010E4C0@l(r10)
/* 8004DD50 0004AD50  88 07 00 20 */	lbz r0, 0x20(r7)
/* 8004DD54 0004AD54  7D 69 5B 78 */	mr r9, r11
/* 8004DD58 0004AD58  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DD5C 0004AD5C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DD60 0004AD60  90 C1 00 20 */	stw r6, 0x20(r1)
/* 8004DD64 0004AD64  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DD68 0004AD68  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DD6C 0004AD6C  FC 00 00 18 */	frsp f0, f0
/* 8004DD70 0004AD70  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004DD74 0004AD74  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DD78 0004AD78  88 07 00 21 */	lbz r0, 0x21(r7)
/* 8004DD7C 0004AD7C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DD80 0004AD80  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DD84 0004AD84  90 C1 00 20 */	stw r6, 0x20(r1)
/* 8004DD88 0004AD88  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DD8C 0004AD8C  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DD90 0004AD90  FC 00 00 18 */	frsp f0, f0
/* 8004DD94 0004AD94  EC 00 07 F2 */	fmuls f0, f0, f31
/* 8004DD98 0004AD98  D0 1F 00 08 */	stfs f0, 8(r31)
/* 8004DD9C 0004AD9C  88 07 00 22 */	lbz r0, 0x22(r7)
/* 8004DDA0 0004ADA0  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DDA4 0004ADA4  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DDA8 0004ADA8  90 C1 00 20 */	stw r6, 0x20(r1)
/* 8004DDAC 0004ADAC  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DDB0 0004ADB0  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DDB4 0004ADB4  FC 00 00 18 */	frsp f0, f0
/* 8004DDB8 0004ADB8  EC 00 07 F2 */	fmuls f0, f0, f31
lbl_8004DDBC:
/* 8004DDBC 0004ADBC  D0 1F 00 0C */	stfs f0, 0xc(r31)
lbl_8004DDC0:
/* 8004DDC0 0004ADC0  80 9F 00 78 */	lwz r4, 0x78(r31)
/* 8004DDC4 0004ADC4  7F A3 EB 78 */	mr r3, r29
/* 8004DDC8 0004ADC8  80 BF 00 90 */	lwz r5, 0x90(r31)
/* 8004DDCC 0004ADCC  4B FF F7 59 */	bl CalculateSingleLightProportion
/* 8004DDD0 0004ADD0  80 9F 00 7C */	lwz r4, 0x7c(r31)
/* 8004DDD4 0004ADD4  7F A3 EB 78 */	mr r3, r29
/* 8004DDD8 0004ADD8  80 BF 00 90 */	lwz r5, 0x90(r31)
/* 8004DDDC 0004ADDC  4B FF F7 49 */	bl CalculateSingleLightProportion
/* 8004DDE0 0004ADE0  80 9F 00 80 */	lwz r4, 0x80(r31)
/* 8004DDE4 0004ADE4  7F A3 EB 78 */	mr r3, r29
/* 8004DDE8 0004ADE8  80 BF 00 90 */	lwz r5, 0x90(r31)
/* 8004DDEC 0004ADEC  4B FF F7 39 */	bl CalculateSingleLightProportion
/* 8004DDF0 0004ADF0  80 7F 00 88 */	lwz r3, 0x88(r31)
/* 8004DDF4 0004ADF4  2C 03 FF FF */	cmpwi r3, -1
/* 8004DDF8 0004ADF8  41 82 01 D4 */	beq lbl_8004DFCC
/* 8004DDFC 0004ADFC  1C 63 00 48 */	mulli r3, r3, 0x48
/* 8004DE00 0004AE00  3F C0 80 34 */	lis r30, Lights_4_@ha
/* 8004DE04 0004AE04  3B DE 81 BC */	addi r30, r30, Lights_4_@l
/* 8004DE08 0004AE08  7F A4 EB 78 */	mr r4, r29
/* 8004DE0C 0004AE0C  38 A0 00 00 */	li r5, 0
/* 8004DE10 0004AE10  7C 63 F2 14 */	add r3, r3, r30
/* 8004DE14 0004AE14  48 07 3B 55 */	bl NuVecDist
/* 8004DE18 0004AE18  80 1F 00 88 */	lwz r0, 0x88(r31)
/* 8004DE1C 0004AE1C  38 DE FF FC */	addi r6, r30, -4
/* 8004DE20 0004AE20  3B DE 00 18 */	addi r30, r30, 0x18
/* 8004DE24 0004AE24  1C 00 00 48 */	mulli r0, r0, 0x48
/* 8004DE28 0004AE28  7D BE 04 2E */	lfsx f13, r30, r0
/* 8004DE2C 0004AE2C  FC 01 68 00 */	fcmpu cr0, f1, f13
/* 8004DE30 0004AE30  4C 62 03 82 */	cror 3, 2, 0
/* 8004DE34 0004AE34  40 83 01 98 */	bns lbl_8004DFCC
/* 8004DE38 0004AE38  3D 20 80 11 */	lis r9, lbl_8010E4B8@ha
/* 8004DE3C 0004AE3C  80 1F 00 00 */	lwz r0, 0(r31)
/* 8004DE40 0004AE40  C0 09 E4 B8 */	lfs f0, lbl_8010E4B8@l(r9)
/* 8004DE44 0004AE44  2C 00 FF FF */	cmpwi r0, -1
/* 8004DE48 0004AE48  EC 00 68 24 */	fdivs f0, f0, f13
/* 8004DE4C 0004AE4C  EC 20 00 72 */	fmuls f1, f0, f1
/* 8004DE50 0004AE50  41 82 00 2C */	beq lbl_8004DE7C
/* 8004DE54 0004AE54  C0 1F 00 04 */	lfs f0, 4(r31)
/* 8004DE58 0004AE58  C1 BF 00 08 */	lfs f13, 8(r31)
/* 8004DE5C 0004AE5C  C1 9F 00 0C */	lfs f12, 0xc(r31)
/* 8004DE60 0004AE60  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DE64 0004AE64  ED AD 00 72 */	fmuls f13, f13, f1
/* 8004DE68 0004AE68  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DE6C 0004AE6C  ED 8C 00 72 */	fmuls f12, f12, f1
/* 8004DE70 0004AE70  D1 BF 00 08 */	stfs f13, 8(r31)
/* 8004DE74 0004AE74  D1 9F 00 0C */	stfs f12, 0xc(r31)
/* 8004DE78 0004AE78  48 00 00 A0 */	b lbl_8004DF18
lbl_8004DE7C:
/* 8004DE7C 0004AE7C  81 7F 00 84 */	lwz r11, 0x84(r31)
/* 8004DE80 0004AE80  3C E0 43 30 */	lis r7, 0x4330
/* 8004DE84 0004AE84  3D 20 80 11 */	lis r9, lbl_8010E4C0@ha
/* 8004DE88 0004AE88  1D 6B 00 48 */	mulli r11, r11, 0x48
/* 8004DE8C 0004AE8C  C9 A9 E4 C0 */	lfd f13, lbl_8010E4C0@l(r9)
/* 8004DE90 0004AE90  C1 8D 84 A4 */	lfs f12, sf-_SDA_BASE_(r13)
/* 8004DE94 0004AE94  7D 49 53 78 */	mr r9, r10
/* 8004DE98 0004AE98  7D 48 53 78 */	mr r8, r10
/* 8004DE9C 0004AE9C  7D 6B 32 14 */	add r11, r11, r6
/* 8004DEA0 0004AEA0  88 0B 00 20 */	lbz r0, 0x20(r11)
/* 8004DEA4 0004AEA4  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DEA8 0004AEA8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DEAC 0004AEAC  90 E1 00 20 */	stw r7, 0x20(r1)
/* 8004DEB0 0004AEB0  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DEB4 0004AEB4  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DEB8 0004AEB8  FC 00 00 18 */	frsp f0, f0
/* 8004DEBC 0004AEBC  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DEC0 0004AEC0  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DEC4 0004AEC4  D0 1F 00 04 */	stfs f0, 4(r31)
/* 8004DEC8 0004AEC8  88 0B 00 21 */	lbz r0, 0x21(r11)
/* 8004DECC 0004AECC  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DED0 0004AED0  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DED4 0004AED4  90 E1 00 20 */	stw r7, 0x20(r1)
/* 8004DED8 0004AED8  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DEDC 0004AEDC  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DEE0 0004AEE0  FC 00 00 18 */	frsp f0, f0
/* 8004DEE4 0004AEE4  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DEE8 0004AEE8  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DEEC 0004AEEC  D0 1F 00 08 */	stfs f0, 8(r31)
/* 8004DEF0 0004AEF0  88 0B 00 22 */	lbz r0, 0x22(r11)
/* 8004DEF4 0004AEF4  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004DEF8 0004AEF8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8004DEFC 0004AEFC  90 E1 00 20 */	stw r7, 0x20(r1)
/* 8004DF00 0004AF00  C8 01 00 20 */	lfd f0, 0x20(r1)
/* 8004DF04 0004AF04  FC 00 68 28 */	fsub f0, f0, f13
/* 8004DF08 0004AF08  FC 00 00 18 */	frsp f0, f0
/* 8004DF0C 0004AF0C  EC 00 03 32 */	fmuls f0, f0, f12
/* 8004DF10 0004AF10  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF14 0004AF14  D0 1F 00 0C */	stfs f0, 0xc(r31)
lbl_8004DF18:
/* 8004DF18 0004AF18  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004DF1C 0004AF1C  80 09 00 00 */	lwz r0, 0(r9)
/* 8004DF20 0004AF20  2C 00 FF FF */	cmpwi r0, -1
/* 8004DF24 0004AF24  41 82 00 30 */	beq lbl_8004DF54
/* 8004DF28 0004AF28  C0 09 00 10 */	lfs f0, 0x10(r9)
/* 8004DF2C 0004AF2C  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF30 0004AF30  D0 09 00 10 */	stfs f0, 0x10(r9)
/* 8004DF34 0004AF34  81 3F 00 78 */	lwz r9, 0x78(r31)
/* 8004DF38 0004AF38  C0 09 00 14 */	lfs f0, 0x14(r9)
/* 8004DF3C 0004AF3C  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF40 0004AF40  D0 09 00 14 */	stfs f0, 0x14(r9)
/* 8004DF44 0004AF44  81 7F 00 78 */	lwz r11, 0x78(r31)
/* 8004DF48 0004AF48  C0 0B 00 18 */	lfs f0, 0x18(r11)
/* 8004DF4C 0004AF4C  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF50 0004AF50  D0 0B 00 18 */	stfs f0, 0x18(r11)
lbl_8004DF54:
/* 8004DF54 0004AF54  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004DF58 0004AF58  80 09 00 00 */	lwz r0, 0(r9)
/* 8004DF5C 0004AF5C  2C 00 FF FF */	cmpwi r0, -1
/* 8004DF60 0004AF60  41 82 00 30 */	beq lbl_8004DF90
/* 8004DF64 0004AF64  C0 09 00 10 */	lfs f0, 0x10(r9)
/* 8004DF68 0004AF68  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF6C 0004AF6C  D0 09 00 10 */	stfs f0, 0x10(r9)
/* 8004DF70 0004AF70  81 3F 00 7C */	lwz r9, 0x7c(r31)
/* 8004DF74 0004AF74  C0 09 00 14 */	lfs f0, 0x14(r9)
/* 8004DF78 0004AF78  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF7C 0004AF7C  D0 09 00 14 */	stfs f0, 0x14(r9)
/* 8004DF80 0004AF80  81 7F 00 7C */	lwz r11, 0x7c(r31)
/* 8004DF84 0004AF84  C0 0B 00 18 */	lfs f0, 0x18(r11)
/* 8004DF88 0004AF88  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DF8C 0004AF8C  D0 0B 00 18 */	stfs f0, 0x18(r11)
lbl_8004DF90:
/* 8004DF90 0004AF90  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004DF94 0004AF94  80 09 00 00 */	lwz r0, 0(r9)
/* 8004DF98 0004AF98  2C 00 FF FF */	cmpwi r0, -1
/* 8004DF9C 0004AF9C  41 82 00 30 */	beq lbl_8004DFCC
/* 8004DFA0 0004AFA0  C0 09 00 10 */	lfs f0, 0x10(r9)
/* 8004DFA4 0004AFA4  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DFA8 0004AFA8  D0 09 00 10 */	stfs f0, 0x10(r9)
/* 8004DFAC 0004AFAC  81 3F 00 80 */	lwz r9, 0x80(r31)
/* 8004DFB0 0004AFB0  C0 09 00 14 */	lfs f0, 0x14(r9)
/* 8004DFB4 0004AFB4  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DFB8 0004AFB8  D0 09 00 14 */	stfs f0, 0x14(r9)
/* 8004DFBC 0004AFBC  81 7F 00 80 */	lwz r11, 0x80(r31)
/* 8004DFC0 0004AFC0  C0 0B 00 18 */	lfs f0, 0x18(r11)
/* 8004DFC4 0004AFC4  EC 00 00 72 */	fmuls f0, f0, f1
/* 8004DFC8 0004AFC8  D0 0B 00 18 */	stfs f0, 0x18(r11)
lbl_8004DFCC:
/* 8004DFCC 0004AFCC  FC 20 F0 90 */	fmr f1, f30
/* 8004DFD0 0004AFD0  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 8004DFD4 0004AFD4  7C 08 03 A6 */	mtlr r0
/* 8004DFD8 0004AFD8  BB A1 00 2C */	lmw r29, 0x2c(r1)
/* 8004DFDC 0004AFDC  CB C1 00 38 */	lfd f30, 0x38(r1)
/* 8004DFE0 0004AFE0  CB E1 00 40 */	lfd f31, 0x40(r1)
/* 8004DFE4 0004AFE4  38 21 00 48 */	addi r1, r1, 0x48
/* 8004DFE8 0004AFE8  4E 80 00 20 */	blr 

.global GetLights
GetLights:
/* 8004DFEC 0004AFEC  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8004DFF0 0004AFF0  7C 08 02 A6 */	mflr r0
/* 8004DFF4 0004AFF4  BF A1 00 0C */	stmw r29, 0xc(r1)
/* 8004DFF8 0004AFF8  90 01 00 1C */	stw r0, 0x1c(r1)
/* 8004DFFC 0004AFFC  7C 7E 1B 78 */	mr r30, r3
/* 8004E000 0004B000  7C 9D 23 78 */	mr r29, r4
/* 8004E004 0004B004  4B FF EA 79 */	bl FindNearestLights
/* 8004E008 0004B008  7F C3 F3 78 */	mr r3, r30
/* 8004E00C 0004B00C  7F A4 EB 78 */	mr r4, r29
/* 8004E010 0004B010  4B FF FA 89 */	bl FindLightProportion
/* 8004E014 0004B014  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8004E018 0004B018  7C 08 03 A6 */	mtlr r0
/* 8004E01C 0004B01C  BB A1 00 0C */	lmw r29, 0xc(r1)
/* 8004E020 0004B020  38 21 00 18 */	addi r1, r1, 0x18
/* 8004E024 0004B024  4E 80 00 20 */	blr 

.global RotateDirectionalLight
RotateDirectionalLight:
/* 8004E028 0004B028  94 21 FF E8 */	stwu r1, -0x18(r1)
/* 8004E02C 0004B02C  7C 08 02 A6 */	mflr r0
/* 8004E030 0004B030  BF A1 00 0C */	stmw r29, 0xc(r1)
/* 8004E034 0004B034  90 01 00 1C */	stw r0, 0x1c(r1)
/* 8004E038 0004B038  7C 80 23 78 */	mr r0, r4
/* 8004E03C 0004B03C  7C 7E 1B 78 */	mr r30, r3
/* 8004E040 0004B040  7C BD 2B 78 */	mr r29, r5
/* 8004E044 0004B044  3C 80 80 13 */	lis r4, v001@ha
/* 8004E048 0004B048  38 84 6C 30 */	addi r4, r4, v001@l
/* 8004E04C 0004B04C  7C 05 03 78 */	mr r5, r0
/* 8004E050 0004B050  48 07 36 09 */	bl NuVecRotateX
/* 8004E054 0004B054  7F C3 F3 78 */	mr r3, r30
/* 8004E058 0004B058  7F A5 EB 78 */	mr r5, r29
/* 8004E05C 0004B05C  7C 64 1B 78 */	mr r4, r3
/* 8004E060 0004B060  48 07 36 45 */	bl NuVecRotateY
/* 8004E064 0004B064  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 8004E068 0004B068  7C 08 03 A6 */	mtlr r0
/* 8004E06C 0004B06C  BB A1 00 0C */	lmw r29, 0xc(r1)
/* 8004E070 0004B070  38 21 00 18 */	addi r1, r1, 0x18
/* 8004E074 0004B074  4E 80 00 20 */	blr 

.global SetLights
SetLights:
/* 8004E078 0004B078  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8004E07C 0004B07C  7C 08 02 A6 */	mflr r0
/* 8004E080 0004B080  BF C1 00 08 */	stmw r30, 8(r1)
/* 8004E084 0004B084  90 01 00 14 */	stw r0, 0x14(r1)
/* 8004E088 0004B088  7C 6A 1B 78 */	mr r10, r3
/* 8004E08C 0004B08C  7C A0 2B 78 */	mr r0, r5
/* 8004E090 0004B090  7C EB 3B 78 */	mr r11, r7
/* 8004E094 0004B094  7C C5 33 78 */	mr r5, r6
/* 8004E098 0004B098  7D 07 43 78 */	mr r7, r8
/* 8004E09C 0004B09C  7C 83 23 78 */	mr r3, r4
/* 8004E0A0 0004B0A0  7D 3E 4B 78 */	mr r30, r9
/* 8004E0A4 0004B0A4  7C 06 03 78 */	mr r6, r0
/* 8004E0A8 0004B0A8  7D 68 5B 78 */	mr r8, r11
/* 8004E0AC 0004B0AC  7D 44 53 78 */	mr r4, r10
/* 8004E0B0 0004B0B0  4C C6 31 82 */	crclr 6
/* 8004E0B4 0004B0B4  48 06 37 B5 */	bl NuLightSetDirectionalLights
/* 8004E0B8 0004B0B8  7F C3 F3 78 */	mr r3, r30
/* 8004E0BC 0004B0BC  4C C6 31 82 */	crclr 6
/* 8004E0C0 0004B0C0  48 06 37 31 */	bl NuLightSetAmbientLight
/* 8004E0C4 0004B0C4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8004E0C8 0004B0C8  7C 08 03 A6 */	mtlr r0
/* 8004E0CC 0004B0CC  BB C1 00 08 */	lmw r30, 8(r1)
/* 8004E0D0 0004B0D0  38 21 00 10 */	addi r1, r1, 0x10
/* 8004E0D4 0004B0D4  4E 80 00 20 */	blr 

.global SetLevelLights
SetLevelLights:
/* 8004E0D8 0004B0D8  94 21 FF A8 */	stwu r1, -0x58(r1)
/* 8004E0DC 0004B0DC  7C 08 02 A6 */	mflr r0
/* 8004E0E0 0004B0E0  DB C1 00 48 */	stfd f30, 0x48(r1)
/* 8004E0E4 0004B0E4  DB E1 00 50 */	stfd f31, 0x50(r1)
/* 8004E0E8 0004B0E8  BE C1 00 20 */	stmw r22, 0x20(r1)
/* 8004E0EC 0004B0EC  90 01 00 5C */	stw r0, 0x5c(r1)
/* 8004E0F0 0004B0F0  80 0D A1 28 */	lwz r0, GameMode-_SDA_BASE_(r13)
/* 8004E0F4 0004B0F4  2C 00 00 01 */	cmpwi r0, 1
/* 8004E0F8 0004B0F8  40 82 00 F0 */	bne lbl_8004E1E8
/* 8004E0FC 0004B0FC  80 0D 81 B0 */	lwz r0, gamecut-_SDA_BASE_(r13)
/* 8004E100 0004B100  2C 00 00 00 */	cmpwi r0, 0
/* 8004E104 0004B104  41 82 00 E4 */	beq lbl_8004E1E8
/* 8004E108 0004B108  2C 00 00 06 */	cmpwi r0, 6
/* 8004E10C 0004B10C  41 82 00 DC */	beq lbl_8004E1E8
/* 8004E110 0004B110  2C 00 00 0B */	cmpwi r0, 0xb
/* 8004E114 0004B114  41 82 00 D4 */	beq lbl_8004E1E8
/* 8004E118 0004B118  2C 00 00 10 */	cmpwi r0, 0x10
/* 8004E11C 0004B11C  41 82 00 CC */	beq lbl_8004E1E8
/* 8004E120 0004B120  3F A0 80 30 */	lis r29, GameTimer@ha
/* 8004E124 0004B124  3F C0 88 88 */	lis r30, 0x88888889@h
/* 8004E128 0004B128  80 9D 2A 2C */	lwz r4, GameTimer@l(r29)
/* 8004E12C 0004B12C  63 DE 88 89 */	ori r30, r30, 0x88888889@l
/* 8004E130 0004B130  3F 60 80 14 */	lis r27, lcutdir@ha
/* 8004E134 0004B134  3F 40 80 14 */	lis r26, 0x8014
/* 8004E138 0004B138  7C 04 F0 16 */	mulhwu r0, r4, r30
/* 8004E13C 0004B13C  38 7B C8 38 */	addi r3, r27, lcutdir@l
/* 8004E140 0004B140  3F 80 80 14 */	lis r28, 0x8014
/* 8004E144 0004B144  54 00 D1 BE */	srwi r0, r0, 6
/* 8004E148 0004B148  1C 00 00 78 */	mulli r0, r0, 0x78
/* 8004E14C 0004B14C  7C 80 20 50 */	subf r4, r0, r4
/* 8004E150 0004B150  54 84 80 1E */	slwi r4, r4, 0x10
/* 8004E154 0004B154  7C 84 F0 16 */	mulhwu r4, r4, r30
/* 8004E158 0004B158  54 84 D1 BE */	srwi r4, r4, 6
/* 8004E15C 0004B15C  7C 85 23 78 */	mr r5, r4
/* 8004E160 0004B160  4B FF FE C9 */	bl RotateDirectionalLight
/* 8004E164 0004B164  80 9D 2A 2C */	lwz r4, 0x2a2c(r29)
/* 8004E168 0004B168  38 7A C8 44 */	addi r3, r26, -14268
/* 8004E16C 0004B16C  7C 04 F0 16 */	mulhwu r0, r4, r30
/* 8004E170 0004B170  54 00 D1 BE */	srwi r0, r0, 6
/* 8004E174 0004B174  1C 00 00 78 */	mulli r0, r0, 0x78
/* 8004E178 0004B178  7C 80 20 50 */	subf r4, r0, r4
/* 8004E17C 0004B17C  54 84 80 1E */	slwi r4, r4, 0x10
/* 8004E180 0004B180  7C 84 F0 16 */	mulhwu r4, r4, r30
/* 8004E184 0004B184  54 84 D1 BE */	srwi r4, r4, 6
/* 8004E188 0004B188  7C 85 23 78 */	mr r5, r4
/* 8004E18C 0004B18C  4B FF FE 9D */	bl RotateDirectionalLight
/* 8004E190 0004B190  80 9D 2A 2C */	lwz r4, 0x2a2c(r29)
/* 8004E194 0004B194  38 7C C8 50 */	addi r3, r28, -14256
/* 8004E198 0004B198  7C 04 F0 16 */	mulhwu r0, r4, r30
/* 8004E19C 0004B19C  54 00 D1 BE */	srwi r0, r0, 6
/* 8004E1A0 0004B1A0  1C 00 00 78 */	mulli r0, r0, 0x78
/* 8004E1A4 0004B1A4  7C 80 20 50 */	subf r4, r0, r4
/* 8004E1A8 0004B1A8  54 84 80 1E */	slwi r4, r4, 0x10
/* 8004E1AC 0004B1AC  7C 84 F0 16 */	mulhwu r4, r4, r30
/* 8004E1B0 0004B1B0  54 84 D1 BE */	srwi r4, r4, 6
/* 8004E1B4 0004B1B4  7C 85 23 78 */	mr r5, r4
/* 8004E1B8 0004B1B8  4B FF FE 71 */	bl RotateDirectionalLight
/* 8004E1BC 0004B1BC  3C 60 80 14 */	lis r3, lcutdircol@ha
/* 8004E1C0 0004B1C0  3D 20 80 14 */	lis r9, lcutambcol@ha
/* 8004E1C4 0004B1C4  38 63 C8 5C */	addi r3, r3, lcutdircol@l
/* 8004E1C8 0004B1C8  38 9B C8 38 */	addi r4, r27, -14280
/* 8004E1CC 0004B1CC  38 DA C8 44 */	addi r6, r26, -14268
/* 8004E1D0 0004B1D0  39 1C C8 50 */	addi r8, r28, -14256
/* 8004E1D4 0004B1D4  39 29 C8 80 */	addi r9, r9, lcutambcol@l
/* 8004E1D8 0004B1D8  38 A3 00 0C */	addi r5, r3, 0xc
/* 8004E1DC 0004B1DC  38 E3 00 18 */	addi r7, r3, 0x18
/* 8004E1E0 0004B1E0  4B FF FE 99 */	bl SetLights
/* 8004E1E4 0004B1E4  48 00 03 30 */	b lbl_8004E514
lbl_8004E1E8:
/* 8004E1E8 0004B1E8  81 2D 81 A8 */	lwz r9, cutmovie-_SDA_BASE_(r13)
/* 8004E1EC 0004B1EC  2C 09 00 00 */	cmpwi r9, 0
/* 8004E1F0 0004B1F0  40 82 01 38 */	bne lbl_8004E328
/* 8004E1F4 0004B1F4  3F A0 80 30 */	lis r29, GameTimer@ha
/* 8004E1F8 0004B1F8  3F C0 88 88 */	lis r30, 0x88888889@h
/* 8004E1FC 0004B1FC  80 BD 2A 2C */	lwz r5, GameTimer@l(r29)
/* 8004E200 0004B200  63 DE 88 89 */	ori r30, r30, 0x88888889@l
/* 8004E204 0004B204  3D 20 A8 0A */	lis r9, 0xA80A80A9@h
/* 8004E208 0004B208  3F 40 80 14 */	lis r26, titledir@ha
/* 8004E20C 0004B20C  61 29 80 A9 */	ori r9, r9, 0xA80A80A9@l
/* 8004E210 0004B210  54 A0 F8 7E */	srwi r0, r5, 1
/* 8004E214 0004B214  7C 85 F0 16 */	mulhwu r4, r5, r30
/* 8004E218 0004B218  38 7A C8 8C */	addi r3, r26, titledir@l
/* 8004E21C 0004B21C  3F 80 80 14 */	lis r28, 0x8014
/* 8004E220 0004B220  7C 00 48 16 */	mulhwu r0, r0, r9
/* 8004E224 0004B224  3F 60 80 14 */	lis r27, 0x8014
/* 8004E228 0004B228  54 84 C9 FE */	srwi r4, r4, 7
/* 8004E22C 0004B22C  1C 84 00 F0 */	mulli r4, r4, 0xf0
/* 8004E230 0004B230  54 00 C9 FE */	srwi r0, r0, 7
/* 8004E234 0004B234  1C 00 01 86 */	mulli r0, r0, 0x186
/* 8004E238 0004B238  7C 84 28 50 */	subf r4, r4, r5
/* 8004E23C 0004B23C  54 84 80 1E */	slwi r4, r4, 0x10
/* 8004E240 0004B240  7C A0 28 50 */	subf r5, r0, r5
/* 8004E244 0004B244  7C 84 F0 16 */	mulhwu r4, r4, r30
/* 8004E248 0004B248  54 A5 78 60 */	rlwinm r5, r5, 0xf, 1, 0x10
/* 8004E24C 0004B24C  7C A5 48 16 */	mulhwu r5, r5, r9
/* 8004E250 0004B250  54 84 C9 FE */	srwi r4, r4, 7
/* 8004E254 0004B254  54 A5 C9 FE */	srwi r5, r5, 7
/* 8004E258 0004B258  4B FF FD D1 */	bl RotateDirectionalLight
/* 8004E25C 0004B25C  80 BD 2A 2C */	lwz r5, 0x2a2c(r29)
/* 8004E260 0004B260  3D 20 63 4C */	lis r9, 0x634C0635@h
/* 8004E264 0004B264  61 29 06 35 */	ori r9, r9, 0x634C0635@l
/* 8004E268 0004B268  3D 60 91 A2 */	lis r11, 0x91A2B3C5@h
/* 8004E26C 0004B26C  61 6B B3 C5 */	ori r11, r11, 0x91A2B3C5@l
/* 8004E270 0004B270  7C 85 48 16 */	mulhwu r4, r5, r9
/* 8004E274 0004B274  38 7C C8 98 */	addi r3, r28, -14184
/* 8004E278 0004B278  7C 05 58 16 */	mulhwu r0, r5, r11
/* 8004E27C 0004B27C  54 84 C9 FE */	srwi r4, r4, 7
/* 8004E280 0004B280  1C 84 01 4A */	mulli r4, r4, 0x14a
/* 8004E284 0004B284  54 00 C2 3E */	srwi r0, r0, 8
/* 8004E288 0004B288  1C 00 01 C2 */	mulli r0, r0, 0x1c2
/* 8004E28C 0004B28C  7C 84 28 50 */	subf r4, r4, r5
/* 8004E290 0004B290  54 84 80 1E */	slwi r4, r4, 0x10
/* 8004E294 0004B294  7C A0 28 50 */	subf r5, r0, r5
/* 8004E298 0004B298  7C 84 48 16 */	mulhwu r4, r4, r9
/* 8004E29C 0004B29C  54 A5 80 1E */	slwi r5, r5, 0x10
/* 8004E2A0 0004B2A0  7C A5 58 16 */	mulhwu r5, r5, r11
/* 8004E2A4 0004B2A4  54 84 C9 FE */	srwi r4, r4, 7
/* 8004E2A8 0004B2A8  54 A5 C2 3E */	srwi r5, r5, 8
/* 8004E2AC 0004B2AC  4B FF FD 7D */	bl RotateDirectionalLight
/* 8004E2B0 0004B2B0  80 BD 2A 2C */	lwz r5, 0x2a2c(r29)
/* 8004E2B4 0004B2B4  3D 20 1B 4E */	lis r9, 0x1B4E81B5@h
/* 8004E2B8 0004B2B8  61 29 81 B5 */	ori r9, r9, 0x1B4E81B5@l
/* 8004E2BC 0004B2BC  38 7B C8 A4 */	addi r3, r27, -14172
/* 8004E2C0 0004B2C0  7C 85 F0 16 */	mulhwu r4, r5, r30
/* 8004E2C4 0004B2C4  7C 05 48 16 */	mulhwu r0, r5, r9
/* 8004E2C8 0004B2C8  54 84 D1 BE */	srwi r4, r4, 6
/* 8004E2CC 0004B2CC  1C 84 00 78 */	mulli r4, r4, 0x78
/* 8004E2D0 0004B2D0  54 00 E1 3E */	srwi r0, r0, 4
/* 8004E2D4 0004B2D4  1C 00 00 96 */	mulli r0, r0, 0x96
/* 8004E2D8 0004B2D8  7C 84 28 50 */	subf r4, r4, r5
/* 8004E2DC 0004B2DC  54 84 80 1E */	slwi r4, r4, 0x10
/* 8004E2E0 0004B2E0  7C A0 28 50 */	subf r5, r0, r5
/* 8004E2E4 0004B2E4  7C 84 F0 16 */	mulhwu r4, r4, r30
/* 8004E2E8 0004B2E8  54 A5 80 1E */	slwi r5, r5, 0x10
/* 8004E2EC 0004B2EC  7C A5 48 16 */	mulhwu r5, r5, r9
/* 8004E2F0 0004B2F0  54 84 D1 BE */	srwi r4, r4, 6
/* 8004E2F4 0004B2F4  54 A5 E1 3E */	srwi r5, r5, 4
/* 8004E2F8 0004B2F8  4B FF FD 31 */	bl RotateDirectionalLight
/* 8004E2FC 0004B2FC  3C 60 80 14 */	lis r3, titlergb@ha
/* 8004E300 0004B300  3C E0 80 14 */	lis r7, titlergb2@ha
/* 8004E304 0004B304  38 63 C8 B0 */	addi r3, r3, titlergb@l
/* 8004E308 0004B308  38 9A C8 8C */	addi r4, r26, -14196
/* 8004E30C 0004B30C  7C 65 1B 78 */	mr r5, r3
/* 8004E310 0004B310  38 DC C8 98 */	addi r6, r28, -14184
/* 8004E314 0004B314  38 E7 C8 BC */	addi r7, r7, titlergb2@l
/* 8004E318 0004B318  39 1B C8 A4 */	addi r8, r27, -14172
/* 8004E31C 0004B31C  7C A9 2B 78 */	mr r9, r5
/* 8004E320 0004B320  4B FF FD 59 */	bl SetLights
/* 8004E324 0004B324  48 00 01 F0 */	b lbl_8004E514
lbl_8004E328:
/* 8004E328 0004B328  80 0D 82 A8 */	lwz r0, Level-_SDA_BASE_(r13)
/* 8004E32C 0004B32C  2C 00 00 2B */	cmpwi r0, 0x2b
/* 8004E330 0004B330  40 82 01 B8 */	bne lbl_8004E4E8
/* 8004E334 0004B334  2C 09 FF FF */	cmpwi r9, -1
/* 8004E338 0004B338  40 82 01 B0 */	bne lbl_8004E4E8
/* 8004E33C 0004B33C  3F A0 80 14 */	lis r29, creditsang@ha
/* 8004E340 0004B340  3F 80 80 27 */	lis r28, NuTrigTable@ha
/* 8004E344 0004B344  80 1D C9 28 */	lwz r0, creditsang@l(r29)
/* 8004E348 0004B348  3B 9C B6 C8 */	addi r28, r28, NuTrigTable@l
/* 8004E34C 0004B34C  3F 20 43 30 */	lis r25, 0x4330
/* 8004E350 0004B350  3F 40 80 14 */	lis r26, 0x8014
/* 8004E354 0004B354  54 00 13 BA */	rlwinm r0, r0, 2, 0xe, 0x1d
/* 8004E358 0004B358  3E E0 80 14 */	lis r23, 0x8014
/* 8004E35C 0004B35C  7C 3C 04 2E */	lfsx f1, r28, r0
/* 8004E360 0004B360  3B DD C9 28 */	addi r30, r29, -14040
/* 8004E364 0004B364  3F 00 80 14 */	lis r24, 0x8014
/* 8004E368 0004B368  3E C0 80 14 */	lis r22, 0x8014
/* 8004E36C 0004B36C  48 07 04 F9 */	bl NuFabs
/* 8004E370 0004B370  80 1D C9 28 */	lwz r0, -0x36d8(r29)
/* 8004E374 0004B374  3D 20 80 11 */	lis r9, lbl_8010E4C8@ha
/* 8004E378 0004B378  3D 40 80 11 */	lis r10, lbl_8010E4D0@ha
/* 8004E37C 0004B37C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004E380 0004B380  CB E9 E4 C8 */	lfd f31, lbl_8010E4C8@l(r9)
/* 8004E384 0004B384  90 01 00 1C */	stw r0, 0x1c(r1)
/* 8004E388 0004B388  7D 65 5B 78 */	mr r5, r11
/* 8004E38C 0004B38C  C3 CA E4 D0 */	lfs f30, lbl_8010E4D0@l(r10)
/* 8004E390 0004B390  38 77 C8 C8 */	addi r3, r23, -14136
/* 8004E394 0004B394  93 21 00 18 */	stw r25, 0x18(r1)
/* 8004E398 0004B398  38 9A C9 1C */	addi r4, r26, -14052
/* 8004E39C 0004B39C  D0 2D 84 AC */	stfs f1, intensity-_SDA_BASE_(r13)
/* 8004E3A0 0004B3A0  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 8004E3A4 0004B3A4  FC 00 F8 28 */	fsub f0, f0, f31
/* 8004E3A8 0004B3A8  FC 00 00 18 */	frsp f0, f0
/* 8004E3AC 0004B3AC  EC 00 F0 24 */	fdivs f0, f0, f30
/* 8004E3B0 0004B3B0  FD A0 00 90 */	fmr f13, f0
/* 8004E3B4 0004B3B4  FD 80 68 1E */	fctiwz f12, f13
/* 8004E3B8 0004B3B8  D9 81 00 18 */	stfd f12, 0x18(r1)
/* 8004E3BC 0004B3BC  80 A1 00 1C */	lwz r5, 0x1c(r1)
/* 8004E3C0 0004B3C0  48 07 32 E5 */	bl NuVecRotateY
/* 8004E3C4 0004B3C4  A0 1E 00 06 */	lhz r0, 6(r30)
/* 8004E3C8 0004B3C8  3D 60 80 14 */	lis r11, creditsdircol@ha
/* 8004E3CC 0004B3CC  81 3D C9 28 */	lwz r9, -0x36d8(r29)
/* 8004E3D0 0004B3D0  3B 6B C8 EC */	addi r27, r11, creditsdircol@l
/* 8004E3D4 0004B3D4  54 00 10 3A */	slwi r0, r0, 2
/* 8004E3D8 0004B3D8  C0 0D 84 AC */	lfs f0, intensity-_SDA_BASE_(r13)
/* 8004E3DC 0004B3DC  7C 3C 04 2E */	lfsx f1, r28, r0
/* 8004E3E0 0004B3E0  39 29 01 00 */	addi r9, r9, 0x100
/* 8004E3E4 0004B3E4  D0 0B C8 EC */	stfs f0, -0x3714(r11)
/* 8004E3E8 0004B3E8  91 3D C9 28 */	stw r9, -0x36d8(r29)
/* 8004E3EC 0004B3EC  48 07 04 79 */	bl NuFabs
/* 8004E3F0 0004B3F0  80 1E 00 04 */	lwz r0, 4(r30)
/* 8004E3F4 0004B3F4  7D 25 4B 78 */	mr r5, r9
/* 8004E3F8 0004B3F8  38 78 C8 D4 */	addi r3, r24, -14124
/* 8004E3FC 0004B3FC  7C 00 00 D0 */	neg r0, r0
/* 8004E400 0004B400  38 9A C9 1C */	addi r4, r26, -14052
/* 8004E404 0004B404  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004E408 0004B408  D0 2D 84 AC */	stfs f1, intensity-_SDA_BASE_(r13)
/* 8004E40C 0004B40C  90 01 00 1C */	stw r0, 0x1c(r1)
/* 8004E410 0004B410  93 21 00 18 */	stw r25, 0x18(r1)
/* 8004E414 0004B414  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 8004E418 0004B418  FC 00 F8 28 */	fsub f0, f0, f31
/* 8004E41C 0004B41C  FC 00 00 18 */	frsp f0, f0
/* 8004E420 0004B420  EC 00 F0 24 */	fdivs f0, f0, f30
/* 8004E424 0004B424  FD A0 00 90 */	fmr f13, f0
/* 8004E428 0004B428  FD 80 68 1E */	fctiwz f12, f13
/* 8004E42C 0004B42C  D9 81 00 18 */	stfd f12, 0x18(r1)
/* 8004E430 0004B430  80 A1 00 1C */	lwz r5, 0x1c(r1)
/* 8004E434 0004B434  48 07 32 71 */	bl NuVecRotateY
/* 8004E438 0004B438  A0 1E 00 0A */	lhz r0, 0xa(r30)
/* 8004E43C 0004B43C  81 3E 00 04 */	lwz r9, 4(r30)
/* 8004E440 0004B440  C0 0D 84 AC */	lfs f0, intensity-_SDA_BASE_(r13)
/* 8004E444 0004B444  54 00 10 3A */	slwi r0, r0, 2
/* 8004E448 0004B448  7C 3C 04 2E */	lfsx f1, r28, r0
/* 8004E44C 0004B44C  39 29 01 00 */	addi r9, r9, 0x100
/* 8004E450 0004B450  D0 1B 00 0C */	stfs f0, 0xc(r27)
/* 8004E454 0004B454  91 3E 00 04 */	stw r9, 4(r30)
/* 8004E458 0004B458  48 07 04 0D */	bl NuFabs
/* 8004E45C 0004B45C  80 1E 00 08 */	lwz r0, 8(r30)
/* 8004E460 0004B460  7D 25 4B 78 */	mr r5, r9
/* 8004E464 0004B464  D0 2D 84 AC */	stfs f1, intensity-_SDA_BASE_(r13)
/* 8004E468 0004B468  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 8004E46C 0004B46C  38 9A C9 1C */	addi r4, r26, -14052
/* 8004E470 0004B470  90 01 00 1C */	stw r0, 0x1c(r1)
/* 8004E474 0004B474  38 76 C8 E0 */	addi r3, r22, -14112
/* 8004E478 0004B478  93 21 00 18 */	stw r25, 0x18(r1)
/* 8004E47C 0004B47C  C8 01 00 18 */	lfd f0, 0x18(r1)
/* 8004E480 0004B480  FC 00 F8 28 */	fsub f0, f0, f31
/* 8004E484 0004B484  FC 00 00 18 */	frsp f0, f0
/* 8004E488 0004B488  EC 00 F0 24 */	fdivs f0, f0, f30
/* 8004E48C 0004B48C  FD A0 00 90 */	fmr f13, f0
/* 8004E490 0004B490  FD 80 68 1E */	fctiwz f12, f13
/* 8004E494 0004B494  D9 81 00 18 */	stfd f12, 0x18(r1)
/* 8004E498 0004B498  80 A1 00 1C */	lwz r5, 0x1c(r1)
/* 8004E49C 0004B49C  48 07 31 BD */	bl NuVecRotateX
/* 8004E4A0 0004B4A0  81 3E 00 08 */	lwz r9, 8(r30)
/* 8004E4A4 0004B4A4  7F 64 DB 78 */	mr r4, r27
/* 8004E4A8 0004B4A8  C0 0D 84 AC */	lfs f0, intensity-_SDA_BASE_(r13)
/* 8004E4AC 0004B4AC  38 77 C8 C8 */	addi r3, r23, -14136
/* 8004E4B0 0004B4B0  39 29 01 00 */	addi r9, r9, 0x100
/* 8004E4B4 0004B4B4  38 B8 C8 D4 */	addi r5, r24, -14124
/* 8004E4B8 0004B4B8  91 3E 00 08 */	stw r9, 8(r30)
/* 8004E4BC 0004B4BC  38 F6 C8 E0 */	addi r7, r22, -14112
/* 8004E4C0 0004B4C0  D0 1B 00 18 */	stfs f0, 0x18(r27)
/* 8004E4C4 0004B4C4  38 C4 00 0C */	addi r6, r4, 0xc
/* 8004E4C8 0004B4C8  39 04 00 18 */	addi r8, r4, 0x18
/* 8004E4CC 0004B4CC  4C C6 31 82 */	crclr 6
/* 8004E4D0 0004B4D0  48 06 33 99 */	bl NuLightSetDirectionalLights
/* 8004E4D4 0004B4D4  3C 60 80 14 */	lis r3, creditsrgb@ha
/* 8004E4D8 0004B4D8  38 63 C9 10 */	addi r3, r3, creditsrgb@l
/* 8004E4DC 0004B4DC  4C C6 31 82 */	crclr 6
/* 8004E4E0 0004B4E0  48 06 33 11 */	bl NuLightSetAmbientLight
/* 8004E4E4 0004B4E4  48 00 00 30 */	b lbl_8004E514
lbl_8004E4E8:
/* 8004E4E8 0004B4E8  3C 60 80 14 */	lis r3, lcol@ha
/* 8004E4EC 0004B4EC  3C 80 80 14 */	lis r4, ldir@ha
/* 8004E4F0 0004B4F0  38 63 C9 58 */	addi r3, r3, lcol@l
/* 8004E4F4 0004B4F4  38 84 C9 34 */	addi r4, r4, ldir@l
/* 8004E4F8 0004B4F8  3D 20 80 14 */	lis r9, acol@ha
/* 8004E4FC 0004B4FC  38 A3 00 0C */	addi r5, r3, 0xc
/* 8004E500 0004B500  39 29 C9 7C */	addi r9, r9, acol@l
/* 8004E504 0004B504  38 C4 00 0C */	addi r6, r4, 0xc
/* 8004E508 0004B508  38 E3 00 18 */	addi r7, r3, 0x18
/* 8004E50C 0004B50C  39 04 00 18 */	addi r8, r4, 0x18
/* 8004E510 0004B510  4B FF FB 69 */	bl SetLights
lbl_8004E514:
/* 8004E514 0004B514  80 01 00 5C */	lwz r0, 0x5c(r1)
/* 8004E518 0004B518  7C 08 03 A6 */	mtlr r0
/* 8004E51C 0004B51C  BA C1 00 20 */	lmw r22, 0x20(r1)
/* 8004E520 0004B520  CB C1 00 48 */	lfd f30, 0x48(r1)
/* 8004E524 0004B524  CB E1 00 50 */	lfd f31, 0x50(r1)
/* 8004E528 0004B528  38 21 00 58 */	addi r1, r1, 0x58
/* 8004E52C 0004B52C  4E 80 00 20 */	blr 

.global SetCreatureLights
SetCreatureLights:
/* 8004E530 0004B530  94 21 FF 68 */	stwu r1, -0x98(r1)
/* 8004E534 0004B534  7C 08 02 A6 */	mflr r0
/* 8004E538 0004B538  BE A1 00 6C */	stmw r21, 0x6c(r1)
/* 8004E53C 0004B53C  90 01 00 9C */	stw r0, 0x9c(r1)
/* 8004E540 0004B540  80 0D 86 0C */	lwz r0, USELIGHTS-_SDA_BASE_(r13)
/* 8004E544 0004B544  7C 6C 1B 78 */	mr r12, r3
/* 8004E548 0004B548  2C 00 00 00 */	cmpwi r0, 0
/* 8004E54C 0004B54C  41 82 01 18 */	beq lbl_8004E664
/* 8004E550 0004B550  80 0D 81 58 */	lwz r0, LIGHTCREATURES-_SDA_BASE_(r13)
/* 8004E554 0004B554  2C 00 00 00 */	cmpwi r0, 0
/* 8004E558 0004B558  41 82 01 0C */	beq lbl_8004E664
/* 8004E55C 0004B55C  80 0C 0B F8 */	lwz r0, 0xbf8(r12)
/* 8004E560 0004B560  39 2C 0B F8 */	addi r9, r12, 0xbf8
/* 8004E564 0004B564  81 09 00 08 */	lwz r8, 8(r9)
/* 8004E568 0004B568  39 61 00 08 */	addi r11, r1, 8
/* 8004E56C 0004B56C  80 E9 00 04 */	lwz r7, 4(r9)
/* 8004E570 0004B570  39 41 00 40 */	addi r10, r1, 0x40
/* 8004E574 0004B574  90 01 00 08 */	stw r0, 8(r1)
/* 8004E578 0004B578  7D 55 53 78 */	mr r21, r10
/* 8004E57C 0004B57C  91 0B 00 08 */	stw r8, 8(r11)
/* 8004E580 0004B580  38 A1 00 18 */	addi r5, r1, 0x18
/* 8004E584 0004B584  90 EB 00 04 */	stw r7, 4(r11)
/* 8004E588 0004B588  38 81 00 4C */	addi r4, r1, 0x4c
/* 8004E58C 0004B58C  81 6C 0C 6C */	lwz r11, 0xc6c(r12)
/* 8004E590 0004B590  3B C1 00 24 */	addi r30, r1, 0x24
/* 8004E594 0004B594  80 EC 0C 70 */	lwz r7, 0xc70(r12)
/* 8004E598 0004B598  3B A1 00 58 */	addi r29, r1, 0x58
/* 8004E59C 0004B59C  81 0B 00 10 */	lwz r8, 0x10(r11)
/* 8004E5A0 0004B5A0  39 2B 00 10 */	addi r9, r11, 0x10
/* 8004E5A4 0004B5A4  80 C9 00 08 */	lwz r6, 8(r9)
/* 8004E5A8 0004B5A8  38 6B 00 04 */	addi r3, r11, 4
/* 8004E5AC 0004B5AC  80 09 00 04 */	lwz r0, 4(r9)
/* 8004E5B0 0004B5B0  3B 67 00 10 */	addi r27, r7, 0x10
/* 8004E5B4 0004B5B4  91 01 00 40 */	stw r8, 0x40(r1)
/* 8004E5B8 0004B5B8  3B 47 00 04 */	addi r26, r7, 4
/* 8004E5BC 0004B5BC  90 CA 00 08 */	stw r6, 8(r10)
/* 8004E5C0 0004B5C0  3B 81 00 30 */	addi r28, r1, 0x30
/* 8004E5C4 0004B5C4  90 0A 00 04 */	stw r0, 4(r10)
/* 8004E5C8 0004B5C8  7C B6 2B 78 */	mr r22, r5
/* 8004E5CC 0004B5CC  81 4C 0C 74 */	lwz r10, 0xc74(r12)
/* 8004E5D0 0004B5D0  7C 97 23 78 */	mr r23, r4
/* 8004E5D4 0004B5D4  81 2B 00 04 */	lwz r9, 4(r11)
/* 8004E5D8 0004B5D8  7F D8 F3 78 */	mr r24, r30
/* 8004E5DC 0004B5DC  81 63 00 08 */	lwz r11, 8(r3)
/* 8004E5E0 0004B5E0  39 0A 00 10 */	addi r8, r10, 0x10
/* 8004E5E4 0004B5E4  80 03 00 04 */	lwz r0, 4(r3)
/* 8004E5E8 0004B5E8  38 CA 00 04 */	addi r6, r10, 4
/* 8004E5EC 0004B5EC  91 21 00 18 */	stw r9, 0x18(r1)
/* 8004E5F0 0004B5F0  7F B9 EB 78 */	mr r25, r29
/* 8004E5F4 0004B5F4  90 05 00 04 */	stw r0, 4(r5)
/* 8004E5F8 0004B5F8  7F 9F E3 78 */	mr r31, r28
/* 8004E5FC 0004B5FC  91 65 00 08 */	stw r11, 8(r5)
/* 8004E600 0004B600  81 27 00 10 */	lwz r9, 0x10(r7)
/* 8004E604 0004B604  81 7B 00 08 */	lwz r11, 8(r27)
/* 8004E608 0004B608  80 1B 00 04 */	lwz r0, 4(r27)
/* 8004E60C 0004B60C  91 21 00 4C */	stw r9, 0x4c(r1)
/* 8004E610 0004B610  90 04 00 04 */	stw r0, 4(r4)
/* 8004E614 0004B614  91 64 00 08 */	stw r11, 8(r4)
/* 8004E618 0004B618  81 27 00 04 */	lwz r9, 4(r7)
/* 8004E61C 0004B61C  81 7A 00 08 */	lwz r11, 8(r26)
/* 8004E620 0004B620  80 1A 00 04 */	lwz r0, 4(r26)
/* 8004E624 0004B624  91 21 00 24 */	stw r9, 0x24(r1)
/* 8004E628 0004B628  90 1E 00 04 */	stw r0, 4(r30)
/* 8004E62C 0004B62C  91 7E 00 08 */	stw r11, 8(r30)
/* 8004E630 0004B630  81 2A 00 10 */	lwz r9, 0x10(r10)
/* 8004E634 0004B634  81 68 00 08 */	lwz r11, 8(r8)
/* 8004E638 0004B638  80 08 00 04 */	lwz r0, 4(r8)
/* 8004E63C 0004B63C  91 21 00 58 */	stw r9, 0x58(r1)
/* 8004E640 0004B640  90 1D 00 04 */	stw r0, 4(r29)
/* 8004E644 0004B644  91 7D 00 08 */	stw r11, 8(r29)
/* 8004E648 0004B648  81 2A 00 04 */	lwz r9, 4(r10)
/* 8004E64C 0004B64C  81 66 00 08 */	lwz r11, 8(r6)
/* 8004E650 0004B650  80 06 00 04 */	lwz r0, 4(r6)
/* 8004E654 0004B654  91 21 00 30 */	stw r9, 0x30(r1)
/* 8004E658 0004B658  90 1C 00 04 */	stw r0, 4(r28)
/* 8004E65C 0004B65C  91 7C 00 08 */	stw r11, 8(r28)
/* 8004E660 0004B660  48 00 01 14 */	b lbl_8004E774
lbl_8004E664:
/* 8004E664 0004B664  88 0C 01 49 */	lbz r0, 0x149(r12)
/* 8004E668 0004B668  2C 00 00 11 */	cmpwi r0, 0x11
/* 8004E66C 0004B66C  40 82 02 0C */	bne lbl_8004E878
/* 8004E670 0004B670  3D 20 80 14 */	lis r9, acol@ha
/* 8004E674 0004B674  3D 40 80 14 */	lis r10, lcol@ha
/* 8004E678 0004B678  80 09 C9 7C */	lwz r0, acol@l(r9)
/* 8004E67C 0004B67C  39 61 00 08 */	addi r11, r1, 8
/* 8004E680 0004B680  39 29 C9 7C */	addi r9, r9, -13956
/* 8004E684 0004B684  80 6A C9 58 */	lwz r3, lcol@l(r10)
/* 8004E688 0004B688  80 C9 00 08 */	lwz r6, 8(r9)
/* 8004E68C 0004B68C  39 0A C9 58 */	addi r8, r10, -13992
/* 8004E690 0004B690  80 A9 00 04 */	lwz r5, 4(r9)
/* 8004E694 0004B694  3C 80 80 14 */	lis r4, ldir@ha
/* 8004E698 0004B698  90 01 00 08 */	stw r0, 8(r1)
/* 8004E69C 0004B69C  39 21 00 40 */	addi r9, r1, 0x40
/* 8004E6A0 0004B6A0  90 AB 00 04 */	stw r5, 4(r11)
/* 8004E6A4 0004B6A4  38 E4 C9 34 */	addi r7, r4, ldir@l
/* 8004E6A8 0004B6A8  90 CB 00 08 */	stw r6, 8(r11)
/* 8004E6AC 0004B6AC  39 41 00 18 */	addi r10, r1, 0x18
/* 8004E6B0 0004B6B0  80 C8 00 08 */	lwz r6, 8(r8)
/* 8004E6B4 0004B6B4  3B A8 00 0C */	addi r29, r8, 0xc
/* 8004E6B8 0004B6B8  80 08 00 04 */	lwz r0, 4(r8)
/* 8004E6BC 0004B6BC  7D 35 4B 78 */	mr r21, r9
/* 8004E6C0 0004B6C0  90 61 00 40 */	stw r3, 0x40(r1)
/* 8004E6C4 0004B6C4  39 61 00 4C */	addi r11, r1, 0x4c
/* 8004E6C8 0004B6C8  83 C4 C9 34 */	lwz r30, -0x36cc(r4)
/* 8004E6CC 0004B6CC  3B 87 00 0C */	addi r28, r7, 0xc
/* 8004E6D0 0004B6D0  90 09 00 04 */	stw r0, 4(r9)
/* 8004E6D4 0004B6D4  7D 56 53 78 */	mr r22, r10
/* 8004E6D8 0004B6D8  90 C9 00 08 */	stw r6, 8(r9)
/* 8004E6DC 0004B6DC  3B 68 00 18 */	addi r27, r8, 0x18
/* 8004E6E0 0004B6E0  80 C7 00 08 */	lwz r6, 8(r7)
/* 8004E6E4 0004B6E4  7D 77 5B 78 */	mr r23, r11
/* 8004E6E8 0004B6E8  80 07 00 04 */	lwz r0, 4(r7)
/* 8004E6EC 0004B6EC  38 A1 00 24 */	addi r5, r1, 0x24
/* 8004E6F0 0004B6F0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8004E6F4 0004B6F4  38 81 00 58 */	addi r4, r1, 0x58
/* 8004E6F8 0004B6F8  83 C8 00 0C */	lwz r30, 0xc(r8)
/* 8004E6FC 0004B6FC  3B 47 00 18 */	addi r26, r7, 0x18
/* 8004E700 0004B700  90 0A 00 04 */	stw r0, 4(r10)
/* 8004E704 0004B704  38 61 00 30 */	addi r3, r1, 0x30
/* 8004E708 0004B708  90 CA 00 08 */	stw r6, 8(r10)
/* 8004E70C 0004B70C  7C B8 2B 78 */	mr r24, r5
/* 8004E710 0004B710  80 DD 00 08 */	lwz r6, 8(r29)
/* 8004E714 0004B714  7C 99 23 78 */	mr r25, r4
/* 8004E718 0004B718  80 1D 00 04 */	lwz r0, 4(r29)
/* 8004E71C 0004B71C  7C 7F 1B 78 */	mr r31, r3
/* 8004E720 0004B720  93 C1 00 4C */	stw r30, 0x4c(r1)
/* 8004E724 0004B724  81 27 00 0C */	lwz r9, 0xc(r7)
/* 8004E728 0004B728  90 0B 00 04 */	stw r0, 4(r11)
/* 8004E72C 0004B72C  90 CB 00 08 */	stw r6, 8(r11)
/* 8004E730 0004B730  81 5C 00 08 */	lwz r10, 8(r28)
/* 8004E734 0004B734  80 1C 00 04 */	lwz r0, 4(r28)
/* 8004E738 0004B738  91 21 00 24 */	stw r9, 0x24(r1)
/* 8004E73C 0004B73C  80 DB 00 08 */	lwz r6, 8(r27)
/* 8004E740 0004B740  81 68 00 18 */	lwz r11, 0x18(r8)
/* 8004E744 0004B744  91 45 00 08 */	stw r10, 8(r5)
/* 8004E748 0004B748  90 05 00 04 */	stw r0, 4(r5)
/* 8004E74C 0004B74C  80 1B 00 04 */	lwz r0, 4(r27)
/* 8004E750 0004B750  91 61 00 58 */	stw r11, 0x58(r1)
/* 8004E754 0004B754  81 47 00 18 */	lwz r10, 0x18(r7)
/* 8004E758 0004B758  90 04 00 04 */	stw r0, 4(r4)
/* 8004E75C 0004B75C  90 C4 00 08 */	stw r6, 8(r4)
/* 8004E760 0004B760  81 3A 00 08 */	lwz r9, 8(r26)
/* 8004E764 0004B764  80 1A 00 04 */	lwz r0, 4(r26)
/* 8004E768 0004B768  91 41 00 30 */	stw r10, 0x30(r1)
/* 8004E76C 0004B76C  90 03 00 04 */	stw r0, 4(r3)
/* 8004E770 0004B770  91 23 00 08 */	stw r9, 8(r3)
lbl_8004E774:
/* 8004E774 0004B774  88 0C 01 49 */	lbz r0, 0x149(r12)
/* 8004E778 0004B778  2C 00 00 11 */	cmpwi r0, 0x11
/* 8004E77C 0004B77C  40 82 00 34 */	bne lbl_8004E7B0
/* 8004E780 0004B780  C1 AC 01 30 */	lfs f13, 0x130(r12)
/* 8004E784 0004B784  C0 0C 01 2C */	lfs f0, 0x12c(r12)
/* 8004E788 0004B788  FC 00 68 00 */	fcmpu cr0, f0, f13
/* 8004E78C 0004B78C  40 80 00 18 */	bge lbl_8004E7A4
/* 8004E790 0004B790  EC 00 68 24 */	fdivs f0, f0, f13
/* 8004E794 0004B794  3D 20 80 11 */	lis r9, lbl_8010E4D4@ha
/* 8004E798 0004B798  C1 A9 E4 D4 */	lfs f13, lbl_8010E4D4@l(r9)
/* 8004E79C 0004B79C  EC 4D 00 28 */	fsubs f2, f13, f0
/* 8004E7A0 0004B7A0  48 00 00 18 */	b lbl_8004E7B8
lbl_8004E7A4:
/* 8004E7A4 0004B7A4  3D 20 80 11 */	lis r9, lbl_8010E4D8@ha
/* 8004E7A8 0004B7A8  C0 49 E4 D8 */	lfs f2, lbl_8010E4D8@l(r9)
/* 8004E7AC 0004B7AC  48 00 00 0C */	b lbl_8004E7B8
lbl_8004E7B0:
/* 8004E7B0 0004B7B0  3D 20 80 11 */	lis r9, lbl_8010E4D4@ha
/* 8004E7B4 0004B7B4  C0 49 E4 D4 */	lfs f2, lbl_8010E4D4@l(r9)
lbl_8004E7B8:
/* 8004E7B8 0004B7B8  3D 20 80 11 */	lis r9, lbl_8010E4D4@ha
/* 8004E7BC 0004B7BC  C0 09 E4 D4 */	lfs f0, lbl_8010E4D4@l(r9)
/* 8004E7C0 0004B7C0  FC 02 00 00 */	fcmpu cr0, f2, f0
/* 8004E7C4 0004B7C4  41 82 00 94 */	beq lbl_8004E858
/* 8004E7C8 0004B7C8  C0 C1 00 08 */	lfs f6, 8(r1)
/* 8004E7CC 0004B7CC  C0 81 00 0C */	lfs f4, 0xc(r1)
/* 8004E7D0 0004B7D0  C0 61 00 10 */	lfs f3, 0x10(r1)
/* 8004E7D4 0004B7D4  EC C6 00 B2 */	fmuls f6, f6, f2
/* 8004E7D8 0004B7D8  C0 A1 00 40 */	lfs f5, 0x40(r1)
/* 8004E7DC 0004B7DC  EC 84 00 B2 */	fmuls f4, f4, f2
/* 8004E7E0 0004B7E0  C0 E1 00 44 */	lfs f7, 0x44(r1)
/* 8004E7E4 0004B7E4  EC 63 00 B2 */	fmuls f3, f3, f2
/* 8004E7E8 0004B7E8  C1 01 00 48 */	lfs f8, 0x48(r1)
/* 8004E7EC 0004B7EC  EC A5 00 B2 */	fmuls f5, f5, f2
/* 8004E7F0 0004B7F0  C1 21 00 4C */	lfs f9, 0x4c(r1)
/* 8004E7F4 0004B7F4  EC E7 00 B2 */	fmuls f7, f7, f2
/* 8004E7F8 0004B7F8  C1 41 00 50 */	lfs f10, 0x50(r1)
/* 8004E7FC 0004B7FC  ED 08 00 B2 */	fmuls f8, f8, f2
/* 8004E800 0004B800  C1 61 00 54 */	lfs f11, 0x54(r1)
/* 8004E804 0004B804  ED 29 00 B2 */	fmuls f9, f9, f2
/* 8004E808 0004B808  C1 81 00 58 */	lfs f12, 0x58(r1)
/* 8004E80C 0004B80C  ED 4A 00 B2 */	fmuls f10, f10, f2
/* 8004E810 0004B810  C1 A1 00 5C */	lfs f13, 0x5c(r1)
/* 8004E814 0004B814  ED 6B 00 B2 */	fmuls f11, f11, f2
/* 8004E818 0004B818  C0 01 00 60 */	lfs f0, 0x60(r1)
/* 8004E81C 0004B81C  ED 8C 00 B2 */	fmuls f12, f12, f2
/* 8004E820 0004B820  ED AD 00 B2 */	fmuls f13, f13, f2
/* 8004E824 0004B824  D0 C1 00 08 */	stfs f6, 8(r1)
/* 8004E828 0004B828  EC 00 00 B2 */	fmuls f0, f0, f2
/* 8004E82C 0004B82C  D0 81 00 0C */	stfs f4, 0xc(r1)
/* 8004E830 0004B830  D0 61 00 10 */	stfs f3, 0x10(r1)
/* 8004E834 0004B834  D0 A1 00 40 */	stfs f5, 0x40(r1)
/* 8004E838 0004B838  D0 E1 00 44 */	stfs f7, 0x44(r1)
/* 8004E83C 0004B83C  D1 01 00 48 */	stfs f8, 0x48(r1)
/* 8004E840 0004B840  D1 21 00 4C */	stfs f9, 0x4c(r1)
/* 8004E844 0004B844  D1 41 00 50 */	stfs f10, 0x50(r1)
/* 8004E848 0004B848  D1 61 00 54 */	stfs f11, 0x54(r1)
/* 8004E84C 0004B84C  D1 81 00 58 */	stfs f12, 0x58(r1)
/* 8004E850 0004B850  D1 A1 00 5C */	stfs f13, 0x5c(r1)
/* 8004E854 0004B854  D0 01 00 60 */	stfs f0, 0x60(r1)
lbl_8004E858:
/* 8004E858 0004B858  7E A3 AB 78 */	mr r3, r21
/* 8004E85C 0004B85C  7E C4 B3 78 */	mr r4, r22
/* 8004E860 0004B860  7E E5 BB 78 */	mr r5, r23
/* 8004E864 0004B864  7F 06 C3 78 */	mr r6, r24
/* 8004E868 0004B868  7F 27 CB 78 */	mr r7, r25
/* 8004E86C 0004B86C  7F E8 FB 78 */	mr r8, r31
/* 8004E870 0004B870  39 21 00 08 */	addi r9, r1, 8
/* 8004E874 0004B874  4B FF F8 05 */	bl SetLights
lbl_8004E878:
/* 8004E878 0004B878  80 01 00 9C */	lwz r0, 0x9c(r1)
/* 8004E87C 0004B87C  7C 08 03 A6 */	mtlr r0
/* 8004E880 0004B880  BA A1 00 6C */	lmw r21, 0x6c(r1)
/* 8004E884 0004B884  38 21 00 98 */	addi r1, r1, 0x98
/* 8004E888 0004B888  4E 80 00 20 */	blr 

.global SetNearestLights
SetNearestLights:
/* 8004E88C 0004B88C  94 21 FF F8 */	stwu r1, -8(r1)
/* 8004E890 0004B890  7C 08 02 A6 */	mflr r0
/* 8004E894 0004B894  90 01 00 0C */	stw r0, 0xc(r1)
/* 8004E898 0004B898  80 0D 86 0C */	lwz r0, USELIGHTS-_SDA_BASE_(r13)
/* 8004E89C 0004B89C  7C 6B 1B 78 */	mr r11, r3
/* 8004E8A0 0004B8A0  2C 00 00 00 */	cmpwi r0, 0
/* 8004E8A4 0004B8A4  41 82 00 3C */	beq lbl_8004E8E0
/* 8004E8A8 0004B8A8  80 0D 81 58 */	lwz r0, LIGHTCREATURES-_SDA_BASE_(r13)
/* 8004E8AC 0004B8AC  2C 00 00 00 */	cmpwi r0, 0
/* 8004E8B0 0004B8B0  41 82 00 30 */	beq lbl_8004E8E0
/* 8004E8B4 0004B8B4  80 6B 00 78 */	lwz r3, 0x78(r11)
/* 8004E8B8 0004B8B8  39 2B 00 04 */	addi r9, r11, 4
/* 8004E8BC 0004B8BC  80 AB 00 7C */	lwz r5, 0x7c(r11)
/* 8004E8C0 0004B8C0  80 EB 00 80 */	lwz r7, 0x80(r11)
/* 8004E8C4 0004B8C4  38 83 00 04 */	addi r4, r3, 4
/* 8004E8C8 0004B8C8  38 C5 00 04 */	addi r6, r5, 4
/* 8004E8CC 0004B8CC  38 63 00 10 */	addi r3, r3, 0x10
/* 8004E8D0 0004B8D0  39 07 00 04 */	addi r8, r7, 4
/* 8004E8D4 0004B8D4  38 A5 00 10 */	addi r5, r5, 0x10
/* 8004E8D8 0004B8D8  38 E7 00 10 */	addi r7, r7, 0x10
/* 8004E8DC 0004B8DC  4B FF F7 9D */	bl SetLights
lbl_8004E8E0:
/* 8004E8E0 0004B8E0  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8004E8E4 0004B8E4  7C 08 03 A6 */	mtlr r0
/* 8004E8E8 0004B8E8  38 21 00 08 */	addi r1, r1, 8
/* 8004E8EC 0004B8EC  4E 80 00 20 */	blr 

.global GetLightPosition
GetLightPosition:
/* 8004E8F0 0004B8F0  1C 03 00 48 */	mulli r0, r3, 0x48
/* 8004E8F4 0004B8F4  3C 60 80 34 */	lis r3, Lights_4_@ha
/* 8004E8F8 0004B8F8  38 63 81 BC */	addi r3, r3, Lights_4_@l
/* 8004E8FC 0004B8FC  7C 60 1A 14 */	add r3, r0, r3
/* 8004E900 0004B900  4E 80 00 20 */	blr 

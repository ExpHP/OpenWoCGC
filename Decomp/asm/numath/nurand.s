.include "macros.inc"

.section .text, "ax"  # 0x800032A0 - 0x80104920

.global NuRand
NuRand:
/* 800C1028 000BE028  7C 68 1B 79 */	or. r8, r3, r3
/* 800C102C 000BE02C  40 82 00 08 */	bne lbl_800C1034
/* 800C1030 000BE030  39 0D 8F 8C */	addi r8, r13, global_rand-_SDA_BASE_
lbl_800C1034:
/* 800C1034 000BE034  81 28 00 00 */	lwz r9, 0(r8)
/* 800C1038 000BE038  3C 00 29 0B */	lis r0, 0x290BECD7@h
/* 800C103C 000BE03C  60 00 EC D7 */	ori r0, r0, 0x290BECD7@l
/* 800C1040 000BE040  6D 29 07 5B */	xoris r9, r9, 0x75b
/* 800C1044 000BE044  69 29 D9 24 */	xori r9, r9, 0xd924
/* 800C1048 000BE048  7C 09 00 96 */	mulhw r0, r9, r0
/* 800C104C 000BE04C  7D 2B FE 70 */	srawi r11, r9, 0x1f
/* 800C1050 000BE050  7C 00 5E 70 */	srawi r0, r0, 0xb
/* 800C1054 000BE054  7C 0B 00 50 */	subf r0, r11, r0
/* 800C1058 000BE058  1D 40 31 E5 */	mulli r10, r0, 0x31e5
/* 800C105C 000BE05C  1C 00 0B 14 */	mulli r0, r0, 0xb14
/* 800C1060 000BE060  7D 2A 48 50 */	subf r9, r10, r9
/* 800C1064 000BE064  1D 29 41 A7 */	mulli r9, r9, 0x41a7
/* 800C1068 000BE068  7D 20 48 50 */	subf r9, r0, r9
/* 800C106C 000BE06C  91 28 00 00 */	stw r9, 0(r8)
/* 800C1070 000BE070  2C 09 00 00 */	cmpwi r9, 0
/* 800C1074 000BE074  40 80 00 10 */	bge lbl_800C1084
/* 800C1078 000BE078  3D 29 80 00 */	addis r9, r9, 0x8000
/* 800C107C 000BE07C  39 29 FF FF */	addi r9, r9, -1
/* 800C1080 000BE080  91 28 00 00 */	stw r9, 0(r8)
lbl_800C1084:
/* 800C1084 000BE084  80 68 00 00 */	lwz r3, 0(r8)
/* 800C1088 000BE088  6C 63 07 5B */	xoris r3, r3, 0x75b
/* 800C108C 000BE08C  68 63 D9 24 */	xori r3, r3, 0xd924
/* 800C1090 000BE090  90 68 00 00 */	stw r3, 0(r8)
/* 800C1094 000BE094  4E 80 00 20 */	blr 

.global NuRandSeed
NuRandSeed:
/* 800C1098 000BE098  90 6D 8F 90 */	stw r3, fseed-_SDA_BASE_(r13)
/* 800C109C 000BE09C  4E 80 00 20 */	blr 

.global NuRandFloat
NuRandFloat:
/* 800C10A0 000BE0A0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800C10A4 000BE0A4  81 2D 8F 90 */	lwz r9, fseed-_SDA_BASE_(r13)
/* 800C10A8 000BE0A8  3C 00 00 19 */	lis r0, 0x0019660D@h
/* 800C10AC 000BE0AC  60 00 66 0D */	ori r0, r0, 0x0019660D@l
/* 800C10B0 000BE0B0  3D 60 80 12 */	lis r11, lbl_80120864@ha
/* 800C10B4 000BE0B4  7D 29 01 D6 */	mullw r9, r9, r0
/* 800C10B8 000BE0B8  C0 2B 08 64 */	lfs f1, lbl_80120864@l(r11)
/* 800C10BC 000BE0BC  3D 29 3C 6F */	addis r9, r9, 0x3c6f
/* 800C10C0 000BE0C0  39 29 F3 5F */	addi r9, r9, -3233
/* 800C10C4 000BE0C4  55 20 02 7E */	clrlwi r0, r9, 9
/* 800C10C8 000BE0C8  91 2D 8F 90 */	stw r9, fseed-_SDA_BASE_(r13)
/* 800C10CC 000BE0CC  64 00 3F 80 */	oris r0, r0, 0x3f80
/* 800C10D0 000BE0D0  90 01 00 08 */	stw r0, 8(r1)
/* 800C10D4 000BE0D4  C0 01 00 08 */	lfs f0, 8(r1)
/* 800C10D8 000BE0D8  EC 20 08 28 */	fsubs f1, f0, f1
/* 800C10DC 000BE0DC  38 21 00 10 */	addi r1, r1, 0x10
/* 800C10E0 000BE0E0  4E 80 00 20 */	blr 

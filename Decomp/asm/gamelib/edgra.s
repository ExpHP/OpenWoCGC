.include "macros.inc"

.section .text, "ax"  # 0x800032A0 - 0x80104920

.global edgraInitAllClumps
edgraInitAllClumps:
/* 80084B74 00081B74  94 21 EF 28 */	stwu r1, -0x10d8(r1)
/* 80084B78 00081B78  7C 08 02 A6 */	mflr r0
/* 80084B7C 00081B7C  DB 01 10 98 */	stfd f24, 0x1098(r1)
/* 80084B80 00081B80  DB 21 10 A0 */	stfd f25, 0x10a0(r1)
/* 80084B84 00081B84  DB 41 10 A8 */	stfd f26, 0x10a8(r1)
/* 80084B88 00081B88  DB 61 10 B0 */	stfd f27, 0x10b0(r1)
/* 80084B8C 00081B8C  DB 81 10 B8 */	stfd f28, 0x10b8(r1)
/* 80084B90 00081B90  DB A1 10 C0 */	stfd f29, 0x10c0(r1)
/* 80084B94 00081B94  DB C1 10 C8 */	stfd f30, 0x10c8(r1)
/* 80084B98 00081B98  DB E1 10 D0 */	stfd f31, 0x10d0(r1)
/* 80084B9C 00081B9C  BE 21 10 5C */	stmw r17, 0x105c(r1)
/* 80084BA0 00081BA0  90 01 10 DC */	stw r0, 0x10dc(r1)
/* 80084BA4 00081BA4  48 00 99 95 */	bl NuWindInit
/* 80084BA8 00081BA8  38 00 00 00 */	li r0, 0
/* 80084BAC 00081BAC  3D 20 80 37 */	lis r9, GrassClumps@ha
/* 80084BB0 00081BB0  3D 60 80 12 */	lis r11, lbl_8011A8C8@ha
/* 80084BB4 00081BB4  3B 09 CD 14 */	addi r24, r9, GrassClumps@l
/* 80084BB8 00081BB8  C3 0B A8 C8 */	lfs f24, lbl_8011A8C8@l(r11)
/* 80084BBC 00081BBC  3A 58 00 04 */	addi r18, r24, 4
/* 80084BC0 00081BC0  90 0D A7 74 */	stw r0, edgra_clumps_used-_SDA_BASE_(r13)
/* 80084BC4 00081BC4  3A 38 00 1C */	addi r17, r24, 0x1c
/* 80084BC8 00081BC8  90 0D A7 78 */	stw r0, edgra_units_used-_SDA_BASE_(r13)
/* 80084BCC 00081BCC  39 20 00 00 */	li r9, 0
lbl_80084BD0:
/* 80084BD0 00081BD0  1C 09 00 24 */	mulli r0, r9, 0x24
/* 80084BD4 00081BD4  3A 89 00 01 */	addi r20, r9, 1
/* 80084BD8 00081BD8  7C 1D 03 78 */	mr r29, r0
/* 80084BDC 00081BDC  7C 12 00 2E */	lwzx r0, r18, r0
/* 80084BE0 00081BE0  2C 00 00 00 */	cmpwi r0, 0
/* 80084BE4 00081BE4  41 82 01 C8 */	beq lbl_80084DAC
/* 80084BE8 00081BE8  3B 60 00 00 */	li r27, 0
/* 80084BEC 00081BEC  7C 1B 00 00 */	cmpw r27, r0
/* 80084BF0 00081BF0  40 80 01 64 */	bge lbl_80084D54
/* 80084BF4 00081BF4  3D 20 80 12 */	lis r9, lbl_8011A8B0@ha
/* 80084BF8 00081BF8  3D 60 80 12 */	lis r11, lbl_8011A8B8@ha
/* 80084BFC 00081BFC  CB C9 A8 B0 */	lfd f30, lbl_8011A8B0@l(r9)
/* 80084C00 00081C00  3D 40 80 12 */	lis r10, lbl_8011A8BC@ha
/* 80084C04 00081C04  3D 20 80 12 */	lis r9, lbl_8011A8C0@ha
/* 80084C08 00081C08  C3 8B A8 B8 */	lfs f28, lbl_8011A8B8@l(r11)
/* 80084C0C 00081C0C  C3 49 A8 C0 */	lfs f26, lbl_8011A8C0@l(r9)
/* 80084C10 00081C10  3D 60 80 12 */	lis r11, lbl_8011A8C4@ha
/* 80084C14 00081C14  3D 20 80 37 */	lis r9, GrassClumps_4_@ha
/* 80084C18 00081C18  C3 2A A8 BC */	lfs f25, lbl_8011A8BC@l(r10)
/* 80084C1C 00081C1C  3B 89 CD 18 */	addi r28, r9, GrassClumps_4_@l
/* 80084C20 00081C20  3D 40 80 12 */	lis r10, lbl_8011A8CC@ha
/* 80084C24 00081C24  3D 20 80 27 */	lis r9, NuTrigTable@ha
/* 80084C28 00081C28  C3 6B A8 C4 */	lfs f27, lbl_8011A8C4@l(r11)
/* 80084C2C 00081C2C  C3 AA A8 CC */	lfs f29, lbl_8011A8CC@l(r10)
/* 80084C30 00081C30  3A 7C 00 10 */	addi r19, r28, 0x10
/* 80084C34 00081C34  3A BC 00 04 */	addi r21, r28, 4
/* 80084C38 00081C38  3A DC 00 08 */	addi r22, r28, 8
/* 80084C3C 00081C3C  3A FC 00 0C */	addi r23, r28, 0xc
/* 80084C40 00081C40  3F 20 43 30 */	lis r25, 0x4330
/* 80084C44 00081C44  3B 49 B6 C8 */	addi r26, r9, NuTrigTable@l
/* 80084C48 00081C48  3B E1 00 10 */	addi r31, r1, 0x10
lbl_80084C4C:
/* 80084C4C 00081C4C  4B FF FA CD */	bl edqrand
/* 80084C50 00081C50  3B 7B 00 01 */	addi r27, r27, 1
/* 80084C54 00081C54  7C 7E 1B 78 */	mr r30, r3
/* 80084C58 00081C58  4B FF FA C1 */	bl edqrand
/* 80084C5C 00081C5C  6C 63 80 00 */	xoris r3, r3, 0x8000
/* 80084C60 00081C60  90 61 10 54 */	stw r3, 0x1054(r1)
/* 80084C64 00081C64  38 1E 40 00 */	addi r0, r30, 0x4000
/* 80084C68 00081C68  7D 93 EC 2E */	lfsx f12, r19, r29
/* 80084C6C 00081C6C  54 00 13 BA */	rlwinm r0, r0, 2, 0xe, 0x1d
/* 80084C70 00081C70  93 21 10 50 */	stw r25, 0x1050(r1)
/* 80084C74 00081C74  57 DE 13 BA */	rlwinm r30, r30, 2, 0xe, 0x1d
/* 80084C78 00081C78  7C 3A 04 2E */	lfsx f1, r26, r0
/* 80084C7C 00081C7C  ED 8C 07 32 */	fmuls f12, f12, f28
/* 80084C80 00081C80  C8 01 10 50 */	lfd f0, 0x1050(r1)
/* 80084C84 00081C84  7D BA F4 2E */	lfsx f13, r26, r30
/* 80084C88 00081C88  FC 00 F0 28 */	fsub f0, f0, f30
/* 80084C8C 00081C8C  D3 3F FF FC */	stfs f25, -4(r31)
/* 80084C90 00081C90  FC 00 00 18 */	frsp f0, f0
/* 80084C94 00081C94  EF E0 03 32 */	fmuls f31, f0, f12
/* 80084C98 00081C98  EC 21 07 F2 */	fmuls f1, f1, f31
/* 80084C9C 00081C9C  D0 3F 00 00 */	stfs f1, 0(r31)
/* 80084CA0 00081CA0  ED AD 07 F2 */	fmuls f13, f13, f31
/* 80084CA4 00081CA4  EC 21 00 72 */	fmuls f1, f1, f1
/* 80084CA8 00081CA8  D1 BF FF F8 */	stfs f13, -8(r31)
/* 80084CAC 00081CAC  EC 2D 0B 7A */	fmadds f1, f13, f13, f1
/* 80084CB0 00081CB0  48 03 9A C5 */	bl NuFsqrt
/* 80084CB4 00081CB4  FF E0 08 90 */	fmr f31, f1
/* 80084CB8 00081CB8  C1 BF FF F8 */	lfs f13, -8(r31)
/* 80084CBC 00081CBC  C1 9F 00 00 */	lfs f12, 0(r31)
/* 80084CC0 00081CC0  EC 1F D0 2A */	fadds f0, f31, f26
/* 80084CC4 00081CC4  ED AD 00 32 */	fmuls f13, f13, f0
/* 80084CC8 00081CC8  ED 8C 00 32 */	fmuls f12, f12, f0
/* 80084CCC 00081CCC  D1 BF FF F8 */	stfs f13, -8(r31)
/* 80084CD0 00081CD0  D1 9F 00 00 */	stfs f12, 0(r31)
/* 80084CD4 00081CD4  EF FF 06 F2 */	fmuls f31, f31, f27
/* 80084CD8 00081CD8  4B FF FA 41 */	bl edqrand
/* 80084CDC 00081CDC  38 63 C0 00 */	addi r3, r3, -16384
/* 80084CE0 00081CE0  6C 63 80 00 */	xoris r3, r3, 0x8000
/* 80084CE4 00081CE4  ED B8 F8 28 */	fsubs f13, f24, f31
/* 80084CE8 00081CE8  90 61 10 54 */	stw r3, 0x1054(r1)
/* 80084CEC 00081CEC  93 21 10 50 */	stw r25, 0x1050(r1)
/* 80084CF0 00081CF0  C8 01 10 50 */	lfd f0, 0x1050(r1)
/* 80084CF4 00081CF4  FC 00 F0 28 */	fsub f0, f0, f30
/* 80084CF8 00081CF8  FC 00 00 18 */	frsp f0, f0
/* 80084CFC 00081CFC  EC 00 07 32 */	fmuls f0, f0, f28
/* 80084D00 00081D00  EC 00 68 3A */	fmadds f0, f0, f0, f13
/* 80084D04 00081D04  FC 00 E8 00 */	fcmpu cr0, f0, f29
/* 80084D08 00081D08  D0 1F 00 04 */	stfs f0, 4(r31)
/* 80084D0C 00081D0C  40 80 00 08 */	bge lbl_80084D14
/* 80084D10 00081D10  D3 BF 00 04 */	stfs f29, 4(r31)
lbl_80084D14:
/* 80084D14 00081D14  7D 75 EC 2E */	lfsx f11, r21, r29
/* 80084D18 00081D18  7D 56 EC 2E */	lfsx f10, r22, r29
/* 80084D1C 00081D1C  7D 37 EC 2E */	lfsx f9, r23, r29
/* 80084D20 00081D20  C0 1F FF F8 */	lfs f0, -8(r31)
/* 80084D24 00081D24  C1 BF FF FC */	lfs f13, -4(r31)
/* 80084D28 00081D28  C1 9F 00 00 */	lfs f12, 0(r31)
/* 80084D2C 00081D2C  EC 00 58 2A */	fadds f0, f0, f11
/* 80084D30 00081D30  7C 1C E8 2E */	lwzx r0, r28, r29
/* 80084D34 00081D34  ED AD 50 2A */	fadds f13, f13, f10
/* 80084D38 00081D38  ED 8C 48 2A */	fadds f12, f12, f9
/* 80084D3C 00081D3C  D0 1F FF F8 */	stfs f0, -8(r31)
/* 80084D40 00081D40  D1 BF FF FC */	stfs f13, -4(r31)
/* 80084D44 00081D44  7C 1B 00 00 */	cmpw r27, r0
/* 80084D48 00081D48  D1 9F 00 00 */	stfs f12, 0(r31)
/* 80084D4C 00081D4C  3B FF 00 10 */	addi r31, r31, 0x10
/* 80084D50 00081D50  41 80 FE FC */	blt lbl_80084C4C
lbl_80084D54:
/* 80084D54 00081D54  7D 38 E8 2E */	lwzx r9, r24, r29
/* 80084D58 00081D58  7C FD 92 14 */	add r7, r29, r18
/* 80084D5C 00081D5C  81 6D A7 6C */	lwz r11, edbits_base_scene-_SDA_BASE_(r13)
/* 80084D60 00081D60  39 58 00 18 */	addi r10, r24, 0x18
/* 80084D64 00081D64  1D 29 00 50 */	mulli r9, r9, 0x50
/* 80084D68 00081D68  39 18 00 20 */	addi r8, r24, 0x20
/* 80084D6C 00081D6C  80 0B 00 24 */	lwz r0, 0x24(r11)
/* 80084D70 00081D70  38 81 00 08 */	addi r4, r1, 8
/* 80084D74 00081D74  A8 A7 00 02 */	lha r5, 2(r7)
/* 80084D78 00081D78  7C 2A EC 2E */	lfsx f1, r10, r29
/* 80084D7C 00081D7C  7D 29 02 14 */	add r9, r9, r0
/* 80084D80 00081D80  7C 48 EC 2E */	lfsx f2, r8, r29
/* 80084D84 00081D84  80 69 00 40 */	lwz r3, 0x40(r9)
/* 80084D88 00081D88  7C D1 E8 2E */	lwzx r6, r17, r29
/* 80084D8C 00081D8C  48 00 98 5D */	bl NuWindCreate
/* 80084D90 00081D90  80 0D A7 78 */	lwz r0, edgra_units_used-_SDA_BASE_(r13)
/* 80084D94 00081D94  81 2D A7 74 */	lwz r9, edgra_clumps_used-_SDA_BASE_(r13)
/* 80084D98 00081D98  7D 72 E8 2E */	lwzx r11, r18, r29
/* 80084D9C 00081D9C  39 29 00 01 */	addi r9, r9, 1
/* 80084DA0 00081DA0  7C 00 5A 14 */	add r0, r0, r11
/* 80084DA4 00081DA4  91 2D A7 74 */	stw r9, edgra_clumps_used-_SDA_BASE_(r13)
/* 80084DA8 00081DA8  90 0D A7 78 */	stw r0, edgra_units_used-_SDA_BASE_(r13)
lbl_80084DAC:
/* 80084DAC 00081DAC  7E 89 A3 78 */	mr r9, r20
/* 80084DB0 00081DB0  2C 09 00 3F */	cmpwi r9, 0x3f
/* 80084DB4 00081DB4  40 81 FE 1C */	ble lbl_80084BD0
/* 80084DB8 00081DB8  80 01 10 DC */	lwz r0, 0x10dc(r1)
/* 80084DBC 00081DBC  7C 08 03 A6 */	mtlr r0
/* 80084DC0 00081DC0  BA 21 10 5C */	lmw r17, 0x105c(r1)
/* 80084DC4 00081DC4  CB 01 10 98 */	lfd f24, 0x1098(r1)
/* 80084DC8 00081DC8  CB 21 10 A0 */	lfd f25, 0x10a0(r1)
/* 80084DCC 00081DCC  CB 41 10 A8 */	lfd f26, 0x10a8(r1)
/* 80084DD0 00081DD0  CB 61 10 B0 */	lfd f27, 0x10b0(r1)
/* 80084DD4 00081DD4  CB 81 10 B8 */	lfd f28, 0x10b8(r1)
/* 80084DD8 00081DD8  CB A1 10 C0 */	lfd f29, 0x10c0(r1)
/* 80084DDC 00081DDC  CB C1 10 C8 */	lfd f30, 0x10c8(r1)
/* 80084DE0 00081DE0  CB E1 10 D0 */	lfd f31, 0x10d0(r1)
/* 80084DE4 00081DE4  38 21 10 D8 */	addi r1, r1, 0x10d8
/* 80084DE8 00081DE8  4E 80 00 20 */	blr 

.global edgraClumpsReset
edgraClumpsReset:
/* 80084DEC 00081DEC  39 60 00 40 */	li r11, 0x40
/* 80084DF0 00081DF0  3D 20 80 37 */	lis r9, GrassClumps@ha
/* 80084DF4 00081DF4  7D 69 03 A6 */	mtctr r11
/* 80084DF8 00081DF8  39 29 CD 14 */	addi r9, r9, GrassClumps@l
/* 80084DFC 00081DFC  38 00 00 00 */	li r0, 0
/* 80084E00 00081E00  39 29 08 E0 */	addi r9, r9, 0x8e0
lbl_80084E04:
/* 80084E04 00081E04  90 09 00 00 */	stw r0, 0(r9)
/* 80084E08 00081E08  39 29 FF DC */	addi r9, r9, -36
/* 80084E0C 00081E0C  42 00 FF F8 */	bdnz lbl_80084E04
/* 80084E10 00081E10  38 00 00 00 */	li r0, 0
/* 80084E14 00081E14  90 0D A7 7C */	stw r0, edgra_next_clump-_SDA_BASE_(r13)
/* 80084E18 00081E18  4E 80 00 20 */	blr 

.global edgraDetermineNearestClump
edgraDetermineNearestClump:
/* 80084E1C 00081E1C  94 21 FF B8 */	stwu r1, -0x48(r1)
/* 80084E20 00081E20  7C 08 02 A6 */	mflr r0
/* 80084E24 00081E24  DB C1 00 38 */	stfd f30, 0x38(r1)
/* 80084E28 00081E28  DB E1 00 40 */	stfd f31, 0x40(r1)
/* 80084E2C 00081E2C  BF 81 00 28 */	stmw r28, 0x28(r1)
/* 80084E30 00081E30  90 01 00 4C */	stw r0, 0x4c(r1)
/* 80084E34 00081E34  80 0D A7 80 */	lwz r0, edgra_nearest-_SDA_BASE_(r13)
/* 80084E38 00081E38  FF E0 08 90 */	fmr f31, f1
/* 80084E3C 00081E3C  2C 00 FF FF */	cmpwi r0, -1
/* 80084E40 00081E40  41 82 00 4C */	beq lbl_80084E8C
/* 80084E44 00081E44  1C 00 00 24 */	mulli r0, r0, 0x24
/* 80084E48 00081E48  3C A0 80 37 */	lis r5, GrassClumps_8_@ha
/* 80084E4C 00081E4C  38 A5 CD 1C */	addi r5, r5, GrassClumps_8_@l
/* 80084E50 00081E50  3C 80 80 37 */	lis r4, edgra_cam_pos@ha
/* 80084E54 00081E54  38 61 00 08 */	addi r3, r1, 8
/* 80084E58 00081E58  38 84 D6 14 */	addi r4, r4, edgra_cam_pos@l
/* 80084E5C 00081E5C  7C A0 2A 14 */	add r5, r0, r5
/* 80084E60 00081E60  48 03 C9 11 */	bl NuVecSub
/* 80084E64 00081E64  C0 01 00 0C */	lfs f0, 0xc(r1)
/* 80084E68 00081E68  3D 20 80 12 */	lis r9, lbl_8011A8D0@ha
/* 80084E6C 00081E6C  C1 A1 00 08 */	lfs f13, 8(r1)
/* 80084E70 00081E70  EC 00 00 32 */	fmuls f0, f0, f0
/* 80084E74 00081E74  C1 61 00 10 */	lfs f11, 0x10(r1)
/* 80084E78 00081E78  ED AD 03 7A */	fmadds f13, f13, f13, f0
/* 80084E7C 00081E7C  C9 89 A8 D0 */	lfd f12, lbl_8011A8D0@l(r9)
/* 80084E80 00081E80  EC 0B 6A FA */	fmadds f0, f11, f11, f13
/* 80084E84 00081E84  FC 00 60 00 */	fcmpu cr0, f0, f12
/* 80084E88 00081E88  41 82 00 8C */	beq lbl_80084F14
lbl_80084E8C:
/* 80084E8C 00081E8C  3D 20 80 37 */	lis r9, GrassClumps@ha
/* 80084E90 00081E90  3D 60 80 12 */	lis r11, lbl_8011A8D8@ha
/* 80084E94 00081E94  38 00 FF FF */	li r0, -1
/* 80084E98 00081E98  39 29 CD 14 */	addi r9, r9, GrassClumps@l
/* 80084E9C 00081E9C  C3 CB A8 D8 */	lfs f30, lbl_8011A8D8@l(r11)
/* 80084EA0 00081EA0  3B A9 00 04 */	addi r29, r9, 4
/* 80084EA4 00081EA4  90 0D A7 80 */	stw r0, edgra_nearest-_SDA_BASE_(r13)
/* 80084EA8 00081EA8  3B E0 00 00 */	li r31, 0
/* 80084EAC 00081EAC  3F 80 80 37 */	lis r28, 0x8037
/* 80084EB0 00081EB0  3B C9 00 08 */	addi r30, r9, 8
lbl_80084EB4:
/* 80084EB4 00081EB4  80 1D 00 00 */	lwz r0, 0(r29)
/* 80084EB8 00081EB8  3B BD 00 24 */	addi r29, r29, 0x24
/* 80084EBC 00081EBC  2C 00 00 00 */	cmpwi r0, 0
/* 80084EC0 00081EC0  41 82 00 44 */	beq lbl_80084F04
/* 80084EC4 00081EC4  38 61 00 08 */	addi r3, r1, 8
/* 80084EC8 00081EC8  38 9C D6 14 */	addi r4, r28, -10732
/* 80084ECC 00081ECC  7F C5 F3 78 */	mr r5, r30
/* 80084ED0 00081ED0  48 03 C8 A1 */	bl NuVecSub
/* 80084ED4 00081ED4  C0 01 00 0C */	lfs f0, 0xc(r1)
/* 80084ED8 00081ED8  FC 1F F0 00 */	fcmpu cr0, f31, f30
/* 80084EDC 00081EDC  C1 A1 00 08 */	lfs f13, 8(r1)
/* 80084EE0 00081EE0  EC 00 00 32 */	fmuls f0, f0, f0
/* 80084EE4 00081EE4  C1 81 00 10 */	lfs f12, 0x10(r1)
/* 80084EE8 00081EE8  ED AD 03 7A */	fmadds f13, f13, f13, f0
/* 80084EEC 00081EEC  EC 0C 6B 3A */	fmadds f0, f12, f12, f13
/* 80084EF0 00081EF0  41 80 00 0C */	blt lbl_80084EFC
/* 80084EF4 00081EF4  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 80084EF8 00081EF8  40 80 00 0C */	bge lbl_80084F04
lbl_80084EFC:
/* 80084EFC 00081EFC  93 ED A7 80 */	stw r31, edgra_nearest-_SDA_BASE_(r13)
/* 80084F00 00081F00  FF E0 00 90 */	fmr f31, f0
lbl_80084F04:
/* 80084F04 00081F04  3B FF 00 01 */	addi r31, r31, 1
/* 80084F08 00081F08  3B DE 00 24 */	addi r30, r30, 0x24
/* 80084F0C 00081F0C  2C 1F 00 3F */	cmpwi r31, 0x3f
/* 80084F10 00081F10  40 81 FF A4 */	ble lbl_80084EB4
lbl_80084F14:
/* 80084F14 00081F14  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 80084F18 00081F18  7C 08 03 A6 */	mtlr r0
/* 80084F1C 00081F1C  BB 81 00 28 */	lmw r28, 0x28(r1)
/* 80084F20 00081F20  CB C1 00 38 */	lfd f30, 0x38(r1)
/* 80084F24 00081F24  CB E1 00 40 */	lfd f31, 0x40(r1)
/* 80084F28 00081F28  38 21 00 48 */	addi r1, r1, 0x48
/* 80084F2C 00081F2C  4E 80 00 20 */	blr 

.global edgraFileLoad
edgraFileLoad:
/* 80084F30 00081F30  94 21 FF A8 */	stwu r1, -0x58(r1)
/* 80084F34 00081F34  7C 08 02 A6 */	mflr r0
/* 80084F38 00081F38  7D 80 00 26 */	mfcr r12
/* 80084F3C 00081F3C  DB E1 00 50 */	stfd f31, 0x50(r1)
/* 80084F40 00081F40  BE E1 00 2C */	stmw r23, 0x2c(r1)
/* 80084F44 00081F44  90 01 00 5C */	stw r0, 0x5c(r1)
/* 80084F48 00081F48  91 81 00 28 */	stw r12, 0x28(r1)
/* 80084F4C 00081F4C  38 80 00 00 */	li r4, 0
/* 80084F50 00081F50  4B FF FA 99 */	bl EdFileOpen
/* 80084F54 00081F54  2C 03 00 00 */	cmpwi r3, 0
/* 80084F58 00081F58  41 82 00 18 */	beq lbl_80084F70
/* 80084F5C 00081F5C  4B FF FB 79 */	bl EdFileReadInt
/* 80084F60 00081F60  7C 7E 1B 78 */	mr r30, r3
/* 80084F64 00081F64  2C 1E 00 03 */	cmpwi r30, 3
/* 80084F68 00081F68  40 81 00 10 */	ble lbl_80084F78
/* 80084F6C 00081F6C  4B FF FA C1 */	bl EdFileClose
lbl_80084F70:
/* 80084F70 00081F70  38 60 00 00 */	li r3, 0
/* 80084F74 00081F74  48 00 00 EC */	b lbl_80085060
lbl_80084F78:
/* 80084F78 00081F78  4B FF FB 5D */	bl EdFileReadInt
/* 80084F7C 00081F7C  7C 7C 1B 79 */	or. r28, r3, r3
/* 80084F80 00081F80  40 81 00 BC */	ble lbl_8008503C
/* 80084F84 00081F84  3D 60 80 37 */	lis r11, GrassClumps@ha
/* 80084F88 00081F88  3D 20 80 12 */	lis r9, lbl_8011A8DC@ha
/* 80084F8C 00081F8C  3B EB CD 14 */	addi r31, r11, GrassClumps@l
/* 80084F90 00081F90  2D 9E 00 02 */	cmpwi cr3, r30, 2
/* 80084F94 00081F94  2E 1E 00 01 */	cmpwi cr4, r30, 1
/* 80084F98 00081F98  C3 E9 A8 DC */	lfs f31, lbl_8011A8DC@l(r9)
/* 80084F9C 00081F9C  3A FF 00 08 */	addi r23, r31, 8
/* 80084FA0 00081FA0  3B 1F 00 14 */	addi r24, r31, 0x14
/* 80084FA4 00081FA4  3B 3F 00 18 */	addi r25, r31, 0x18
/* 80084FA8 00081FA8  3B A0 00 00 */	li r29, 0
/* 80084FAC 00081FAC  3B 40 00 00 */	li r26, 0
/* 80084FB0 00081FB0  3B 60 00 01 */	li r27, 1
/* 80084FB4 00081FB4  7F 9E E3 78 */	mr r30, r28
lbl_80084FB8:
/* 80084FB8 00081FB8  38 61 00 08 */	addi r3, r1, 8
/* 80084FBC 00081FBC  38 80 00 14 */	li r4, 0x14
/* 80084FC0 00081FC0  4B FF FA AD */	bl EdFileRead
/* 80084FC4 00081FC4  38 61 00 08 */	addi r3, r1, 8
/* 80084FC8 00081FC8  4B FF F9 95 */	bl edbitsLookupInstance
/* 80084FCC 00081FCC  90 7F 00 00 */	stw r3, 0(r31)
/* 80084FD0 00081FD0  4B FF FB 05 */	bl EdFileReadInt
/* 80084FD4 00081FD4  80 1F 00 00 */	lwz r0, 0(r31)
/* 80084FD8 00081FD8  90 7F 00 04 */	stw r3, 4(r31)
/* 80084FDC 00081FDC  2C 00 FF FF */	cmpwi r0, -1
/* 80084FE0 00081FE0  40 82 00 08 */	bne lbl_80084FE8
/* 80084FE4 00081FE4  93 5F 00 04 */	stw r26, 4(r31)
lbl_80084FE8:
/* 80084FE8 00081FE8  7C 7D BA 14 */	add r3, r29, r23
/* 80084FEC 00081FEC  38 80 00 0C */	li r4, 0xc
/* 80084FF0 00081FF0  4B FF FA 7D */	bl EdFileRead
/* 80084FF4 00081FF4  4B FF FA A9 */	bl EdFileReadFloat
/* 80084FF8 00081FF8  7C 38 ED 2E */	stfsx f1, r24, r29
/* 80084FFC 00081FFC  4B FF FA A1 */	bl EdFileReadFloat
/* 80085000 00082000  7C 39 ED 2E */	stfsx f1, r25, r29
/* 80085004 00082004  40 91 00 10 */	ble cr4, lbl_80085014
/* 80085008 00082008  4B FF FA CD */	bl EdFileReadInt
/* 8008500C 0008200C  90 7F 00 1C */	stw r3, 0x1c(r31)
/* 80085010 00082010  48 00 00 08 */	b lbl_80085018
lbl_80085014:
/* 80085014 00082014  93 7F 00 1C */	stw r27, 0x1c(r31)
lbl_80085018:
/* 80085018 00082018  40 8D 00 10 */	ble cr3, lbl_80085028
/* 8008501C 0008201C  4B FF FA 81 */	bl EdFileReadFloat
/* 80085020 00082020  D0 3F 00 20 */	stfs f1, 0x20(r31)
/* 80085024 00082024  48 00 00 08 */	b lbl_8008502C
lbl_80085028:
/* 80085028 00082028  D3 FF 00 20 */	stfs f31, 0x20(r31)
lbl_8008502C:
/* 8008502C 0008202C  3B BD 00 24 */	addi r29, r29, 0x24
/* 80085030 00082030  3B FF 00 24 */	addi r31, r31, 0x24
/* 80085034 00082034  37 DE FF FF */	addic. r30, r30, -1
/* 80085038 00082038  40 82 FF 80 */	bne lbl_80084FB8
lbl_8008503C:
/* 8008503C 0008203C  4B FF F9 F1 */	bl EdFileClose
/* 80085040 00082040  4B FF FB 35 */	bl edgraInitAllClumps
/* 80085044 00082044  3D 20 80 12 */	lis r9, lbl_8011A8DC@ha
/* 80085048 00082048  38 00 FF FF */	li r0, -1
/* 8008504C 0008204C  C0 29 A8 DC */	lfs f1, lbl_8011A8DC@l(r9)
/* 80085050 00082050  93 8D A7 7C */	stw r28, edgra_next_clump-_SDA_BASE_(r13)
/* 80085054 00082054  90 0D A7 80 */	stw r0, edgra_nearest-_SDA_BASE_(r13)
/* 80085058 00082058  4B FF FD C5 */	bl edgraDetermineNearestClump
/* 8008505C 0008205C  38 60 00 01 */	li r3, 1
lbl_80085060:
/* 80085060 00082060  80 01 00 5C */	lwz r0, 0x5c(r1)
/* 80085064 00082064  81 81 00 28 */	lwz r12, 0x28(r1)
/* 80085068 00082068  7C 08 03 A6 */	mtlr r0
/* 8008506C 0008206C  BA E1 00 2C */	lmw r23, 0x2c(r1)
/* 80085070 00082070  CB E1 00 50 */	lfd f31, 0x50(r1)
/* 80085074 00082074  7D 81 81 20 */	mtcrf 0x18, r12
/* 80085078 00082078  38 21 00 58 */	addi r1, r1, 0x58
/* 8008507C 0008207C  4E 80 00 20 */	blr 
